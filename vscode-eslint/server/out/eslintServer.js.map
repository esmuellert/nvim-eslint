{"version":3,"file":"eslintServer.js","mappings":"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","sources":["webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/notebook.js","webpack://eslint-server/./node_modules/semver/functions/parse.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/diagnostic.js","webpack://eslint-server/./node_modules/semver/functions/compare.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/connection.js","webpack://eslint-server/./src/eslintServer.ts","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","webpack://eslint-server/external node-commonjs \"os\"","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack://eslint-server/./node_modules/semver/internal/identifiers.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/inlineCompletion.proposed.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/node/main.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/textDocuments.js","webpack://eslint-server/./src/is.ts","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/inlineValue.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/workspaceFolder.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/semanticTokens.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/events.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/fileOperations.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/api.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/moniker.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/progress.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/api.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineCompletion.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","webpack://eslint-server/./node_modules/semver/classes/semver.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/node/files.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/callHierarchy.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack://eslint-server/./node_modules/semver/functions/gte.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.textDocumentContent.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack://eslint-server/./src/shared/customMessages.ts","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/inlayHint.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/sharedArrayCancellation.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/typeHierarchy.js","webpack://eslint-server/./node_modules/vscode-languageserver-textdocument/lib/esm/main.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack://eslint-server/external node-commonjs \"child_process\"","webpack://eslint-server/./src/languageDefaults.ts","webpack://eslint-server/./src/linkedMap.ts","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/foldingRange.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/utils/uuid.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/messages.js","webpack://eslint-server/./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://eslint-server/./src/eslint.ts","webpack://eslint-server/./node_modules/semver/internal/constants.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack://eslint-server/external node-commonjs \"path\"","webpack://eslint-server/external node-commonjs \"crypto\"","webpack://eslint-server/external node-commonjs \"url\"","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/node/main.js","webpack://eslint-server/./node_modules/semver/internal/debug.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack://eslint-server/./node_modules/vscode-uri/lib/esm/index.mjs","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack://eslint-server/./src/paths.ts","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/server.js","webpack://eslint-server/external node-commonjs \"node:util\"","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/configuration.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/linkedEditingRange.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/is.js","webpack://eslint-server/./node_modules/semver/internal/parse-options.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/showDocument.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/utils/is.js","webpack://eslint-server/external node-commonjs \"util\"","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/textDocumentContent.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack://eslint-server/external node-commonjs \"net\"","webpack://eslint-server/./src/shared/settings.ts","webpack://eslint-server/./src/diff.ts","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/node/ril.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/ral.js","webpack://eslint-server/./node_modules/semver/internal/re.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack://eslint-server/external node-commonjs \"fs\"","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","webpack://eslint-server/webpack/bootstrap","webpack://eslint-server/webpack/runtime/define property getters","webpack://eslint-server/webpack/runtime/hasOwnProperty shorthand","webpack://eslint-server/webpack/runtime/make namespace object","webpack://eslint-server/webpack/startup"],"sourcesContent":["/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocuments = exports.NotebookSyncFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst textDocuments_1 = require(\"./textDocuments\");\nconst NotebookSyncFeature = (Base) => {\n    return class extends Base {\n        get synchronization() {\n            return {\n                onDidOpenNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidOpenNotebookDocumentNotification.type, (params) => {\n                        return handler(params);\n                    });\n                },\n                onDidChangeNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeNotebookDocumentNotification.type, (params) => {\n                        return handler(params);\n                    });\n                },\n                onDidSaveNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidSaveNotebookDocumentNotification.type, (params) => {\n                        return handler(params);\n                    });\n                },\n                onDidCloseNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidCloseNotebookDocumentNotification.type, (params) => {\n                        return handler(params);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.NotebookSyncFeature = NotebookSyncFeature;\nclass CellTextDocumentConnection {\n    static NULL_DISPOSE = Object.freeze({ dispose: () => { } });\n    openHandler;\n    changeHandler;\n    closeHandler;\n    onDidOpenTextDocument(handler) {\n        this.openHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.openHandler = undefined; });\n    }\n    openTextDocument(params) {\n        return this.openHandler && this.openHandler(params);\n    }\n    onDidChangeTextDocument(handler) {\n        this.changeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.changeHandler = handler; });\n    }\n    changeTextDocument(params) {\n        return this.changeHandler && this.changeHandler(params);\n    }\n    onDidCloseTextDocument(handler) {\n        this.closeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.closeHandler = undefined; });\n    }\n    closeTextDocument(params) {\n        return this.closeHandler && this.closeHandler(params);\n    }\n    onWillSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onWillSaveTextDocumentWaitUntil() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onDidSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n}\nclass NotebookDocuments {\n    notebookDocuments;\n    notebookCellMap;\n    _onDidOpen;\n    _onDidSave;\n    _onDidChange;\n    _onDidClose;\n    _cellTextDocuments;\n    constructor(configurationOrTextDocuments) {\n        if (configurationOrTextDocuments instanceof textDocuments_1.TextDocuments) {\n            this._cellTextDocuments = configurationOrTextDocuments;\n        }\n        else {\n            this._cellTextDocuments = new textDocuments_1.TextDocuments(configurationOrTextDocuments);\n        }\n        this.notebookDocuments = new Map();\n        this.notebookCellMap = new Map();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidChange = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n    }\n    get cellTextDocuments() {\n        return this._cellTextDocuments;\n    }\n    getCellTextDocument(cell) {\n        return this._cellTextDocuments.get(cell.document);\n    }\n    getNotebookDocument(uri) {\n        return this.notebookDocuments.get(uri);\n    }\n    getNotebookCell(uri) {\n        const value = this.notebookCellMap.get(uri);\n        return value && value[0];\n    }\n    findNotebookDocumentForCell(cell) {\n        const key = typeof cell === 'string' ? cell : cell.document;\n        const value = this.notebookCellMap.get(key);\n        return value && value[1];\n    }\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    get onDidChange() {\n        return this._onDidChange.event;\n    }\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the notebook documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenNotebookDocument`, `onDidChangeNotebookDocument`, `onDidSaveNotebookDocument`,\n     *  and `onDidCloseNotebookDocument`.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        const cellTextDocumentConnection = new CellTextDocumentConnection();\n        const disposables = [];\n        disposables.push(this.cellTextDocuments.listen(cellTextDocumentConnection));\n        disposables.push(connection.notebooks.synchronization.onDidOpenNotebookDocument(async (params) => {\n            this.notebookDocuments.set(params.notebookDocument.uri, params.notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                await cellTextDocumentConnection.openTextDocument({ textDocument: cellTextDocument });\n            }\n            this.updateCellMap(params.notebookDocument);\n            this._onDidOpen.fire(params.notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidChangeNotebookDocument(async (params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            notebookDocument.version = params.notebookDocument.version;\n            const oldMetadata = notebookDocument.metadata;\n            let metadataChanged = false;\n            const change = params.change;\n            if (change.metadata !== undefined) {\n                metadataChanged = true;\n                notebookDocument.metadata = change.metadata;\n            }\n            const opened = [];\n            const closed = [];\n            const data = [];\n            const text = [];\n            if (change.cells !== undefined) {\n                const changedCells = change.cells;\n                if (changedCells.structure !== undefined) {\n                    const array = changedCells.structure.array;\n                    notebookDocument.cells.splice(array.start, array.deleteCount, ...(array.cells !== undefined ? array.cells : []));\n                    // Additional open cell text documents.\n                    if (changedCells.structure.didOpen !== undefined) {\n                        for (const open of changedCells.structure.didOpen) {\n                            await cellTextDocumentConnection.openTextDocument({ textDocument: open });\n                            opened.push(open.uri);\n                        }\n                    }\n                    // Additional closed cell test documents.\n                    if (changedCells.structure.didClose) {\n                        for (const close of changedCells.structure.didClose) {\n                            await cellTextDocumentConnection.closeTextDocument({ textDocument: close });\n                            closed.push(close.uri);\n                        }\n                    }\n                }\n                if (changedCells.data !== undefined) {\n                    const cellUpdates = new Map(changedCells.data.map(cell => [cell.document, cell]));\n                    for (let i = 0; i <= notebookDocument.cells.length; i++) {\n                        const change = cellUpdates.get(notebookDocument.cells[i].document);\n                        if (change !== undefined) {\n                            const old = notebookDocument.cells.splice(i, 1, change);\n                            data.push({ old: old[0], new: change });\n                            cellUpdates.delete(change.document);\n                            if (cellUpdates.size === 0) {\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (changedCells.textContent !== undefined) {\n                    for (const cellTextDocument of changedCells.textContent) {\n                        await cellTextDocumentConnection.changeTextDocument({ textDocument: cellTextDocument.document, contentChanges: cellTextDocument.changes });\n                        text.push(cellTextDocument.document.uri);\n                    }\n                }\n            }\n            // Update internal data structure.\n            this.updateCellMap(notebookDocument);\n            const changeEvent = { notebookDocument };\n            if (metadataChanged) {\n                changeEvent.metadata = { old: oldMetadata, new: notebookDocument.metadata };\n            }\n            const added = [];\n            for (const open of opened) {\n                added.push(this.getNotebookCell(open));\n            }\n            const removed = [];\n            for (const close of closed) {\n                removed.push(this.getNotebookCell(close));\n            }\n            const textContent = [];\n            for (const change of text) {\n                textContent.push(this.getNotebookCell(change));\n            }\n            if (added.length > 0 || removed.length > 0 || data.length > 0 || textContent.length > 0) {\n                changeEvent.cells = { added, removed, changed: { data, textContent } };\n            }\n            if (changeEvent.metadata !== undefined || changeEvent.cells !== undefined) {\n                this._onDidChange.fire(changeEvent);\n            }\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidSaveNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidSave.fire(notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidCloseNotebookDocument(async (params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidClose.fire(notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                await cellTextDocumentConnection.closeTextDocument({ textDocument: cellTextDocument });\n            }\n            this.notebookDocuments.delete(params.notebookDocument.uri);\n            for (const cell of notebookDocument.cells) {\n                this.notebookCellMap.delete(cell.document);\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n    updateCellMap(notebookDocument) {\n        for (const cell of notebookDocument.cells) {\n            this.notebookCellMap.set(cell.document, [cell, notebookDocument]);\n        }\n    }\n}\nexports.NotebookDocuments = NotebookDocuments;\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CM = exports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection || (exports.MessageDirection = MessageDirection = {}));\nclass RegistrationType {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    ____;\n    method;\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    /**\n     * Clients must not use these properties. They are here to ensure correct typing.\n     * in TypeScript\n     */\n    __;\n    ___;\n    ____;\n    _pr;\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    __;\n    ___;\n    ____;\n    _pr;\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    ___;\n    ____;\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    ___;\n    ____;\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\nvar CM;\n(function (CM) {\n    function create(client, server) {\n        return { client, server };\n    }\n    CM.create = create;\n})(CM || (exports.CM = CM = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst DiagnosticFeature = (Base) => {\n    return class extends Base {\n        get diagnostics() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.partialResult, params));\n                    });\n                },\n                onWorkspace: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.DiagnosticFeature = DiagnosticFeature;\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" preserve=\"true\"/>\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionOptions = exports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.RequestCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.TraceValue = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nexports.createMessageConnection = createMessageConnection;\nconst ral_1 = __importDefault(require(\"./ral\"));\nconst Is = __importStar(require(\"./is\"));\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken || (exports.ProgressToken = ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    /**\n     * Clients must not use these properties. They are here to ensure correct typing.\n     * in TypeScript\n     */\n    __;\n    _pr;\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceValue;\n(function (TraceValue) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValue.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValue.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValue.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValue.Verbose = 'verbose';\n})(TraceValue || (exports.TraceValue = TraceValue = {}));\n/**\n * @deprecated Use TraceValue instead\n */\nexports.TraceValues = TraceValue;\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification || (exports.SetTraceNotification = SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification || (exports.LogTraceNotification = LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors || (exports.ConnectionErrors = ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    code;\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy || (exports.ConnectionStrategy = ConnectionStrategy = {}));\nvar IdCancellationReceiverStrategy;\n(function (IdCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.kind === undefined || candidate.kind === 'id') && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    IdCancellationReceiverStrategy.is = is;\n})(IdCancellationReceiverStrategy || (exports.IdCancellationReceiverStrategy = IdCancellationReceiverStrategy = {}));\nvar RequestCancellationReceiverStrategy;\n(function (RequestCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'request' && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    RequestCancellationReceiverStrategy.is = is;\n})(RequestCancellationReceiverStrategy || (exports.RequestCancellationReceiverStrategy = RequestCancellationReceiverStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        return IdCancellationReceiverStrategy.is(value) || RequestCancellationReceiverStrategy.is(value);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy || (exports.CancellationSenderStrategy = CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy || (exports.CancellationStrategy = CancellationStrategy = {}));\nvar MessageStrategy;\n(function (MessageStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.handleMessage);\n    }\n    MessageStrategy.is = is;\n})(MessageStrategy || (exports.MessageStrategy = MessageStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate\n            && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy) || MessageStrategy.is(candidate.messageStrategy) || Is.number(candidate.maxParallelism));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions || (exports.ConnectionOptions = ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    const maxParallelism = options?.maxParallelism ?? -1;\n    let inFlight = 0;\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            // If we have unlimited parallelism we queue the response to keep\n            // the previous semantics.\n            if (maxParallelism === -1) {\n                queue.set(createResponseQueueKey(message.id), message);\n            }\n            else {\n                // If we have limited parallelism we resolve responses to avoid\n                // dead locks.\n                handleResponse(message);\n            }\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        if (maxParallelism !== -1 && inFlight >= maxParallelism) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(async () => {\n            timer = undefined;\n            if (messageQueue.size === 0) {\n                return;\n            }\n            if (maxParallelism !== -1 && inFlight >= maxParallelism) {\n                return;\n            }\n            const message = messageQueue.shift();\n            let result;\n            try {\n                inFlight++;\n                const messageStrategy = options?.messageStrategy;\n                if (MessageStrategy.is(messageStrategy)) {\n                    result = messageStrategy.handleMessage(message, handleMessage);\n                }\n                else {\n                    result = handleMessage(message);\n                }\n            }\n            catch (error) {\n                logger.error(`Processing message queue failed: ${error.toString()}`);\n            }\n            finally {\n                if (result instanceof Promise) {\n                    result.then(() => {\n                        inFlight--;\n                        triggerMessageQueue();\n                    }).catch((error) => {\n                        logger.error(`Processing message queue failed: ${error.toString()}`);\n                    });\n                }\n                else {\n                    inFlight--;\n                }\n                triggerMessageQueue();\n            }\n        });\n    }\n    async function handleMessage(message) {\n        if (messages_1.Message.isRequest(message)) {\n            return handleRequest(message);\n        }\n        else if (messages_1.Message.isNotification(message)) {\n            return handleNotification(message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            return handleResponse(message);\n        }\n        else {\n            return handleInvalidMessage(message);\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    async function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return Promise.resolve();\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            return messageWriter.write(message);\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            return messageWriter.write(message);\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = IdCancellationReceiverStrategy.is(cancellationStrategy.receiver)\n                ? cancellationStrategy.receiver.createCancellationTokenSource(tokenKey)\n                : cancellationStrategy.receiver.createCancellationTokenSource(requestMessage);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            return replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            return replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            return replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const resultOrError = await handlerResult;\n                await reply(resultOrError, requestMessage.method, startTime);\n            }\n            catch (error) {\n                if (error instanceof messages_1.ResponseError) {\n                    await reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    await replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    await replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n            finally {\n                requestTokens.delete(tokenKey);\n            }\n        }\n        else {\n            await replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    async function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        await notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            await notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            await notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        await notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    await starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}`;\n                }\n                else {\n                    data = 'No parameters provided.';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}`;\n                }\n                else {\n                    data = 'No parameters provided.';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                const paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch((error) => {\n                logger.error(`Sending notification failed.`);\n                throw error;\n            });\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        if (notificationHandlers.get(method)?.handler === handler) {\n                            notificationHandlers.delete(method);\n                        }\n                    }\n                    else if (starNotificationHandler === type) {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    if (progressHandlers.get(token) === handler) {\n                        progressHandlers.delete(token);\n                    }\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            // This should not await but simple return to ensure that we don't have another\n            // async scheduling. Otherwise one send could overtake another send.\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            function sendCancellation(connection, id) {\n                const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                if (p === undefined) {\n                    logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                }\n                else {\n                    p.catch(() => {\n                        logger.log(`Sending cancellation messages for id ${id} failed.`);\n                    });\n                }\n            }\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            let tokenWasCancelled = false;\n            if (token !== undefined) {\n                if (token.isCancellationRequested) {\n                    tokenWasCancelled = true;\n                }\n                else {\n                    disposable = token.onCancellationRequested(() => {\n                        sendCancellation(connection, id);\n                    });\n                }\n            }\n            const requestMessage = {\n                jsonrpc: version,\n                id: id,\n                method: method,\n                params: messageParams\n            };\n            traceSendingRequest(requestMessage);\n            if (typeof cancellationStrategy.sender.enableCancellation === 'function') {\n                cancellationStrategy.sender.enableCancellation(requestMessage);\n            }\n            // eslint-disable-next-line no-async-promise-executor\n            return new Promise(async (resolve, reject) => {\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                try {\n                    responsePromises.set(id, responsePromise);\n                    await messageWriter.write(requestMessage);\n                    if (tokenWasCancelled) {\n                        sendCancellation(connection, id);\n                    }\n                }\n                catch (error) {\n                    // Writing the message failed. So we need to delete it from the response promises and\n                    // reject it.\n                    responsePromises.delete(id);\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, error.message ? error.message : 'Unknown reason'));\n                    logger.error(`Sending request failed.`);\n                    throw error;\n                }\n            });\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        if (requestHandlers.get(method)?.handler === handler) {\n                            requestHandlers.delete(method);\n                        }\n                    }\n                    else if (starRequestHandler === type) {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, async (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            await handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nimport * as path from 'path';\r\nimport { EOL } from 'os';\r\n\r\nimport {\r\n\tcreateConnection, Diagnostic, Range, TextDocuments, TextDocumentSyncKind, TextEdit, Command, WorkspaceChange, VersionedTextDocumentIdentifier,\r\n\tDidChangeConfigurationNotification,  CodeAction, CodeActionKind, Position, TextDocumentEdit, Message as LMessage, ResponseMessage as LResponseMessage,\r\n\tuinteger, ServerCapabilities, NotebookDocuments, ProposedFeatures, ClientCapabilities, type FullDocumentDiagnosticReport, DocumentDiagnosticReportKind\r\n} from 'vscode-languageserver/node';\r\n\r\nimport { TextDocument } from 'vscode-languageserver-textdocument';\r\nimport { URI } from 'vscode-uri';\r\n\r\nimport {\r\n\tExitCalled, OpenESLintDocRequest, Status, StatusNotification\r\n} from './shared/customMessages';\r\n\r\nimport { Validate, CodeActionsOnSaveMode } from './shared/settings';\r\n\r\nimport {\r\n\tCodeActions, ESLint, ESLintClassOptions, FixableProblem, Fixes, Problem, RuleMetaData, RuleSeverities,\r\n\tSaveRuleConfigs, SuggestionsProblem, TextDocumentSettings,\r\n} from './eslint';\r\n\r\nimport { getFileSystemPath, getUri, isUNC } from './paths';\r\nimport { stringDiff } from './diff';\r\nimport LanguageDefaults from './languageDefaults';\r\n\r\n// The connection to use. Code action requests get removed from the queue if\r\n// canceled.\r\nconst connection: ProposedFeatures.Connection = createConnection(ProposedFeatures.all, {\r\n\tconnectionStrategy: {\r\n\t\tcancelUndispatched: (message: LMessage) => {\r\n\t\t// Code actions can safely be cancel on request.\r\n\t\t\tif (LMessage.isRequest(message) && message.method === 'textDocument/codeAction') {\r\n\t\t\t\tconst response: LResponseMessage = {\r\n\t\t\t\t\tjsonrpc: message.jsonrpc,\r\n\t\t\t\t\tid: message.id,\r\n\t\t\t\t\tresult: null\r\n\t\t\t\t};\r\n\t\t\t\treturn response;\r\n\t\t\t}\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t},\r\n\tmaxParallelism: 1\r\n});\r\n\r\n// Set when handling the initialize request.\r\nlet clientCapabilities: ClientCapabilities;\r\n\r\nconst documents: TextDocuments<TextDocument> = new TextDocuments(TextDocument);\r\n// The notebooks manager is using the normal document manager for the cell documents.\r\n// So all validating will work out of the box since normal document events will fire.\r\nconst notebooks = new NotebookDocuments(documents);\r\n\r\n// This makes loading work in a plain NodeJS and a WebPacked environment\r\ndeclare const __webpack_require__: typeof require;\r\ndeclare const __non_webpack_require__: typeof require;\r\nfunction loadNodeModule<T>(moduleName: string): T | undefined {\r\n\tconst r = typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require;\r\n\ttry {\r\n\t\treturn r(moduleName);\r\n\t} catch (err: any) {\r\n\t\tif (err.stack) {\r\n\t\t\tconnection.console.error(err.stack.toString());\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n}\r\n\r\n// Some plugins call exit which will terminate the server.\r\n// To not loose the information we sent such a behavior\r\n// to the client.\r\nconst nodeExit = process.exit;\r\nprocess.exit = ((code?: number): void => {\r\n\tconst stack = new Error('stack');\r\n\tvoid connection.sendNotification(ExitCalled.type, [code ? code : 0, stack.stack]);\r\n\tsetTimeout(() => {\r\n\t\tnodeExit(code);\r\n\t}, 1000);\r\n}) as any;\r\n\r\n// Handling of uncaught exceptions hitting the event loop.\r\nprocess.on('uncaughtException', (error: any) => {\r\n\tlet message: string | undefined;\r\n\tif (error) {\r\n\t\tif (typeof error.stack === 'string') {\r\n\t\t\tmessage = error.stack;\r\n\t\t} else if (typeof error.message === 'string') {\r\n\t\t\tmessage = error.message;\r\n\t\t} else if (typeof error === 'string') {\r\n\t\t\tmessage = error;\r\n\t\t}\r\n\t\tif (message === undefined || message.length === 0) {\r\n\t\t\ttry {\r\n\t\t\t\tmessage = JSON.stringify(error, undefined, 4);\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// Should not happen.\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// eslint-disable-next-line no-console\r\n\tconsole.error('Uncaught exception received.');\r\n\tif (message) {\r\n\t\t// eslint-disable-next-line no-console\r\n\t\tconsole.error(message);\r\n\t}\r\n});\r\n\r\n/**\r\n * Infers a file path for a given URI / TextDocument. If the document is a notebook\r\n * cell document it uses the file path from the notebook with a corresponding\r\n * extension (e.g. TypeScript -> ts)\r\n */\r\nfunction inferFilePath(documentOrUri: string | TextDocument | URI | undefined): string | undefined {\r\n\tif (!documentOrUri) {\r\n\t\treturn undefined;\r\n\t}\r\n\tconst uri = getUri(documentOrUri);\r\n\tif (uri.scheme === 'file') {\r\n\t\treturn getFileSystemPath(uri);\r\n\t}\r\n\r\n\tconst notebookDocument = notebooks.findNotebookDocumentForCell(uri.toString());\r\n\tif (notebookDocument !== undefined ) {\r\n\t\tconst notebookUri = URI.parse(notebookDocument.uri);\r\n\t\tif (notebookUri.scheme === 'file') {\r\n\t\t\tconst filePath = getFileSystemPath(uri);\r\n\t\t\tif (filePath !== undefined) {\r\n\t\t\t\tconst textDocument = documents.get(uri.toString());\r\n\t\t\t\tif (textDocument !== undefined) {\r\n\t\t\t\t\tconst extension = LanguageDefaults.getExtension(textDocument.languageId);\r\n\t\t\t\t\tif (extension !== undefined) {\r\n\t\t\t\t\t\tconst extname = path.extname(filePath);\r\n\t\t\t\t\t\tif (extname.length === 0 && filePath[0] === '.') {\r\n\t\t\t\t\t\t\treturn `${filePath}.${extension}`;\r\n\t\t\t\t\t\t} else if (extname.length > 0 && extname !== extension) {\r\n\t\t\t\t\t\t\treturn `${filePath.substring(0, filePath.length - extname.length)}.${extension}`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n}\r\n\r\nESLint.initialize(connection, documents, inferFilePath, loadNodeModule);\r\nSaveRuleConfigs.inferFilePath = inferFilePath;\r\n\r\ndocuments.onDidClose(async (event) => {\r\n\tconst document = event.document;\r\n\tconst uri = document.uri;\r\n\tESLint.removeSettings(uri);\r\n\tSaveRuleConfigs.remove(uri);\r\n\tCodeActions.remove(uri);\r\n\tESLint.unregisterAsFormatter(document);\r\n});\r\n\r\nfunction environmentChanged() {\r\n\tESLint.clearSettings();\r\n\tRuleSeverities.clear();\r\n\tSaveRuleConfigs.clear();\r\n\tESLint.clearFormatters();\r\n\tconnection.languages.diagnostics.refresh().catch(() => {\r\n\t\tconnection.console.error('Failed to refresh diagnostics');\r\n\t});\r\n}\r\n\r\nnamespace CommandIds {\r\n\texport const applySingleFix: string = 'eslint.applySingleFix';\r\n\texport const applySuggestion: string = 'eslint.applySuggestion';\r\n\texport const applySameFixes: string = 'eslint.applySameFixes';\r\n\texport const applyAllFixes: string = 'eslint.applyAllFixes';\r\n\texport const applyDisableLine: string = 'eslint.applyDisableLine';\r\n\texport const applyDisableFile: string = 'eslint.applyDisableFile';\r\n\texport const openRuleDoc: string = 'eslint.openRuleDoc';\r\n}\r\n\r\nconnection.onInitialize((params, _cancel, progress) => {\r\n\tprogress.begin('Initializing ESLint Server');\r\n\tconst syncKind: TextDocumentSyncKind = TextDocumentSyncKind.Incremental;\r\n\tclientCapabilities = params.capabilities;\r\n\tprogress.done();\r\n\tconst capabilities: ServerCapabilities = {\r\n\t\ttextDocumentSync: {\r\n\t\t\topenClose: true,\r\n\t\t\tchange: syncKind,\r\n\t\t\twillSaveWaitUntil: false,\r\n\t\t\tsave: {\r\n\t\t\t\tincludeText: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tworkspace: {\r\n\t\t\tworkspaceFolders: {\r\n\t\t\t\tsupported: true\r\n\t\t\t}\r\n\t\t},\r\n\t\texecuteCommandProvider: {\r\n\t\t\tcommands: [\r\n\t\t\t\tCommandIds.applySingleFix,\r\n\t\t\t\tCommandIds.applySuggestion,\r\n\t\t\t\tCommandIds.applySameFixes,\r\n\t\t\t\tCommandIds.applyAllFixes,\r\n\t\t\t\tCommandIds.applyDisableLine,\r\n\t\t\t\tCommandIds.applyDisableFile,\r\n\t\t\t\tCommandIds.openRuleDoc,\r\n\t\t\t]\r\n\t\t},\r\n\t\tdiagnosticProvider: {\r\n\t\t\tidentifier: 'eslint',\r\n\t\t\tinterFileDependencies: false,\r\n\t\t\tworkspaceDiagnostics: false\r\n\t\t}\r\n\t};\r\n\r\n\tif (clientCapabilities.textDocument?.codeAction?.codeActionLiteralSupport?.codeActionKind.valueSet !== undefined) {\r\n\t\tcapabilities.codeActionProvider = {\r\n\t\t\tcodeActionKinds: [CodeActionKind.QuickFix, `${CodeActionKind.SourceFixAll}.eslint`]\r\n\t\t};\r\n\t}\r\n\r\n\treturn { capabilities };\r\n});\r\n\r\nconnection.onInitialized(() => {\r\n\tif (clientCapabilities.workspace?.didChangeConfiguration?.dynamicRegistration === true) {\r\n\t\tconnection.onDidChangeConfiguration((_params) => {\r\n\t\t\tenvironmentChanged();\r\n\t\t});\r\n\t\tvoid connection.client.register(DidChangeConfigurationNotification.type, undefined);\r\n\t}\r\n\r\n\tif (clientCapabilities.workspace?.workspaceFolders === true) {\r\n\t\tconnection.workspace.onDidChangeWorkspaceFolders((_params) => {\r\n\t\t\tenvironmentChanged();\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\r\nconst emptyDiagnosticResult: FullDocumentDiagnosticReport = {\r\n\tkind: DocumentDiagnosticReportKind.Full,\r\n\titems: []\r\n};\r\n\r\nconnection.languages.diagnostics.on(async (params) => {\r\n\tconst document = documents.get(params.textDocument.uri);\r\n\tif (document === undefined) {\r\n\t\treturn emptyDiagnosticResult;\r\n\t}\r\n\r\n\tconst settings = await ESLint.resolveSettings(document);\r\n\tif (settings.validate !== Validate.on || !TextDocumentSettings.hasLibrary(settings)) {\r\n\t\treturn emptyDiagnosticResult;\r\n\t}\r\n\ttry {\r\n\t\tconst start = Date.now();\r\n\t\tconst diagnostics = await ESLint.validate(document, settings);\r\n\t\tconst timeTaken = Date.now() - start;\r\n\t\tvoid connection.sendNotification(StatusNotification.type, { uri: document.uri, state: Status.ok, validationTime: timeTaken });\r\n\t\treturn {\r\n\t\t\tkind: DocumentDiagnosticReportKind.Full,\r\n\t\t\titems: diagnostics\r\n\t\t};\r\n\t} catch (err) {\r\n\t\t// if an exception has occurred while validating clear all errors to ensure\r\n\t\t// we are not showing any stale once\r\n\t\tif (!settings.silent) {\r\n\t\t\tlet status: Status | undefined = undefined;\r\n\t\t\tfor (const handler of ESLint.ErrorHandlers.single) {\r\n\t\t\t\tstatus = handler(err, document, settings.library, settings);\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstatus = status || Status.error;\r\n\t\t\tvoid connection.sendNotification(StatusNotification.type, { uri: document.uri, state: status });\r\n\t\t} else {\r\n\t\t\tconnection.console.info(ESLint.ErrorHandlers.getMessage(err, document));\r\n\t\t\tvoid connection.sendNotification(StatusNotification.type, { uri: document.uri, state: Status.ok });\r\n\t\t}\r\n\t\treturn emptyDiagnosticResult;\r\n\t}\r\n});\r\n\r\nconnection.onDidChangeWatchedFiles(async (params) => {\r\n\t// A .eslintrc has change. No smartness here.\r\n\t// Simply revalidate all file.\r\n\tRuleMetaData.clear();\r\n\tESLint.ErrorHandlers.clearNoConfigReported();\r\n\tESLint.ErrorHandlers.clearMissingModuleReported();\r\n\tESLint.clearSettings(); // config files can change plugins and parser.\r\n\tRuleSeverities.clear();\r\n\tSaveRuleConfigs.clear();\r\n\r\n\tawait Promise.all(params.changes.map(async (change) => {\r\n\t\tconst fsPath = inferFilePath(change.uri);\r\n\t\tif (fsPath === undefined || fsPath.length === 0 || isUNC(fsPath)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst dirname = path.dirname(fsPath);\r\n\t\tif (dirname) {\r\n\t\t\tconst data = ESLint.ErrorHandlers.getConfigErrorReported(fsPath);\r\n\t\t\tif (data !== undefined) {\r\n\t\t\t\tconst eslintClass = await ESLint.newClass(data.library, {}, data.settings);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait eslintClass.lintText('', { filePath: path.join(dirname, '___test___.js') });\r\n\t\t\t\t\tESLint.ErrorHandlers.removeConfigErrorReported(fsPath);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}));\r\n\tconnection.languages.diagnostics.refresh().catch(() => {\r\n\t\tconnection.console.error('Failed to refresh diagnostics');\r\n\t});\r\n});\r\n\r\ntype RuleCodeActions = {\r\n\tfixes: CodeAction[];\r\n\tsuggestions: CodeAction[];\r\n\tdisable?: CodeAction;\r\n\tfixAll?: CodeAction;\r\n\tdisableFile?: CodeAction;\r\n\tshowDocumentation?: CodeAction;\r\n};\r\n\r\nclass CodeActionResult {\r\n\tprivate _actions: Map<string, RuleCodeActions>;\r\n\tprivate _fixAll: CodeAction[] | undefined;\r\n\r\n\tpublic constructor() {\r\n\t\tthis._actions = new Map();\r\n\t}\r\n\r\n\tpublic get(ruleId: string): RuleCodeActions {\r\n\t\tlet result: RuleCodeActions | undefined = this._actions.get(ruleId);\r\n\t\tif (result === undefined) {\r\n\t\t\tresult = { fixes: [], suggestions: [] };\r\n\t\t\tthis._actions.set(ruleId, result);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic get fixAll() {\r\n\t\tif (this._fixAll === undefined) {\r\n\t\t\tthis._fixAll = [];\r\n\t\t}\r\n\t\treturn this._fixAll;\r\n\t}\r\n\r\n\tpublic all(): CodeAction[] {\r\n\t\tconst result: CodeAction[] = [];\r\n\t\tfor (const actions of this._actions.values()) {\r\n\t\t\tresult.push(...actions.fixes);\r\n\t\t\tresult.push(...actions.suggestions);\r\n\t\t\tif (actions.disable) {\r\n\t\t\t\tresult.push(actions.disable);\r\n\t\t\t}\r\n\t\t\tif (actions.fixAll) {\r\n\t\t\t\tresult.push(actions.fixAll);\r\n\t\t\t}\r\n\t\t\tif (actions.disableFile) {\r\n\t\t\t\tresult.push(actions.disableFile);\r\n\t\t\t}\r\n\t\t\tif (actions.showDocumentation) {\r\n\t\t\t\tresult.push(actions.showDocumentation);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._fixAll !== undefined) {\r\n\t\t\tresult.push(...this._fixAll);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic get length(): number {\r\n\t\tlet result: number = 0;\r\n\t\tfor (const actions of this._actions.values()) {\r\n\t\t\tresult += actions.fixes.length;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\nclass Changes {\r\n\r\n\tprivate readonly values: Map<string, WorkspaceChange>;\r\n\tprivate uri: string | undefined;\r\n\tprivate version: number | undefined;\r\n\r\n\tconstructor() {\r\n\t\tthis.values = new Map();\r\n\t\tthis.uri = undefined;\r\n\t\tthis.version = undefined;\r\n\t}\r\n\r\n\tpublic clear(textDocument?: TextDocument): void {\r\n\t\tif (textDocument === undefined) {\r\n\t\t\tthis.uri = undefined;\r\n\t\t\tthis.version = undefined;\r\n\t\t} else {\r\n\t\t\tthis.uri = textDocument.uri;\r\n\t\t\tthis.version = textDocument.version;\r\n\t\t}\r\n\t\tthis.values.clear();\r\n\t}\r\n\r\n\tpublic isUsable(uri: string, version: number): boolean {\r\n\t\treturn this.uri === uri && this.version === version;\r\n\t}\r\n\r\n\tpublic set(key: string, change: WorkspaceChange): void {\r\n\t\tthis.values.set(key, change);\r\n\t}\r\n\r\n\tpublic get(key: string): WorkspaceChange | undefined {\r\n\t\treturn this.values.get(key);\r\n\t}\r\n}\r\n\r\ninterface CommandParams extends VersionedTextDocumentIdentifier {\r\n\tversion: number;\r\n\truleId?: string;\r\n\tsequence?: number;\r\n}\r\n\r\nnamespace CommandParams {\r\n\texport function create(textDocument: TextDocument, ruleId?: string, sequence?: number): CommandParams {\r\n\t\treturn { uri: textDocument.uri, version: textDocument.version, ruleId, sequence };\r\n\t}\r\n\texport function hasRuleId(value: CommandParams): value is CommandParams & { ruleId: string } {\r\n\t\treturn value.ruleId !== undefined;\r\n\t}\r\n}\r\n\r\nconst changes = new Changes();\r\nconst ESLintSourceFixAll: string = `${CodeActionKind.SourceFixAll}.eslint`;\r\n\r\nconnection.onCodeAction(async (params) => {\r\n\tconst result: CodeActionResult = new CodeActionResult();\r\n\tconst uri = params.textDocument.uri;\r\n\tconst textDocument = documents.get(uri);\r\n\tif (textDocument === undefined) {\r\n\t\tchanges.clear(textDocument);\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tfunction createCodeAction(title: string, kind: string, commandId: string, arg: CommandParams, diagnostic?: Diagnostic): CodeAction {\r\n\t\tconst command = Command.create(title, commandId, arg);\r\n\t\tconst action = CodeAction.create(\r\n\t\t\ttitle,\r\n\t\t\tcommand,\r\n\t\t\tkind\r\n\t\t);\r\n\t\tif (diagnostic !== undefined) {\r\n\t\t\taction.diagnostics = [diagnostic];\r\n\t\t}\r\n\t\treturn action;\r\n\t}\r\n\r\n\tfunction getDisableRuleEditInsertionIndex(line: string, commentTags: string | [string, string]): number {\r\n\t\tlet charIndex = line.indexOf('--');\r\n\r\n\t\tif (charIndex < 0) {\r\n\t\t\tif (typeof commentTags === 'string') {\r\n\t\t\t\treturn line.length;\r\n\t\t\t} else { // commentTags is an array containing the block comment closing and opening tags\r\n\t\t\t\tcharIndex = line.indexOf(commentTags[1]);\r\n\t\t\t\twhile (charIndex > 0 && line[charIndex - 1] === ' ') {\r\n\t\t\t\t\tcharIndex--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\twhile (charIndex > 1 && line[charIndex - 1] === ' ') {\r\n\t\t\t\tcharIndex--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn charIndex;\r\n\t}\r\n\r\n\t/**\r\n\t * Prefix characters with special meaning in comment markers with a backslash\r\n\t * See also: https://github.com/microsoft/vscode-eslint/issues/1610\r\n\t */\r\n\tfunction escapeStringRegexp(value: string) {\r\n\t\treturn value.replace(/[|{}\\\\()[\\]^$+*?.]/g, '\\\\$&');\r\n\t}\r\n\r\n\tfunction createDisableLineTextEdit(textDocument: TextDocument, editInfo: Problem, indentationText: string): TextEdit {\r\n\t\tconst lineComment = LanguageDefaults.getLineComment(textDocument.languageId);\r\n\t\tconst blockComment = LanguageDefaults.getBlockComment(textDocument.languageId);\r\n\r\n\t\t// If the concerned line is not the first line of the file\r\n\t\tif (editInfo.line - 1 > 0) {\r\n\t\t\t// Check previous line if there is a eslint-disable-next-line comment already present.\r\n\t\t\tconst prevLine = textDocument.getText(Range.create(Position.create(editInfo.line - 2, 0), Position.create(editInfo.line - 2, uinteger.MAX_VALUE)));\r\n\r\n\t\t\t// For consistency, we ignore the settings here and use the comment style from that\r\n\t\t\t// specific line.\r\n\t\t\tconst matchedLineDisable = new RegExp(`${escapeStringRegexp(lineComment)} eslint-disable-next-line`).test(prevLine);\r\n\t\t\tif (matchedLineDisable) {\r\n\t\t\t\tconst insertionIndex = getDisableRuleEditInsertionIndex(prevLine, lineComment);\r\n\t\t\t\treturn TextEdit.insert(Position.create(editInfo.line - 2, insertionIndex), `, ${editInfo.ruleId}`);\r\n\t\t\t}\r\n\r\n\t\t\tconst matchedBlockDisable = new RegExp(`${escapeStringRegexp(blockComment[0])} eslint-disable-next-line`).test(prevLine);\r\n\t\t\tif (matchedBlockDisable) {\r\n\t\t\t\tconst insertionIndex = getDisableRuleEditInsertionIndex(prevLine, blockComment);\r\n\t\t\t\treturn TextEdit.insert(Position.create(editInfo.line - 2, insertionIndex), `, ${editInfo.ruleId}`);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// We're creating a new disabling comment. Use the comment style given in settings.\r\n\t\tconst commentStyle = settings.codeAction.disableRuleComment.commentStyle;\r\n\t\tlet disableRuleContent: string;\r\n\t\tif (commentStyle === 'block') {\r\n\t\t\tdisableRuleContent = `${indentationText}${blockComment[0]} eslint-disable-next-line ${editInfo.ruleId} ${blockComment[1]}${EOL}`;\r\n\t\t} else { // commentStyle === 'line'\r\n\t\t\tdisableRuleContent = `${indentationText}${lineComment} eslint-disable-next-line ${editInfo.ruleId}${EOL}`;\r\n\t\t}\r\n\r\n\t\treturn TextEdit.insert(Position.create(editInfo.line - 1, 0), disableRuleContent);\r\n\t}\r\n\r\n\tfunction createDisableSameLineTextEdit(textDocument: TextDocument, editInfo: Problem): TextEdit {\r\n\t\tconst lineComment = LanguageDefaults.getLineComment(textDocument.languageId);\r\n\t\tconst blockComment = LanguageDefaults.getBlockComment(textDocument.languageId);\r\n\t\tconst currentLine = textDocument.getText(Range.create(Position.create(editInfo.line - 1, 0), Position.create(editInfo.line - 1, uinteger.MAX_VALUE)));\r\n\t\tlet disableRuleContent: string;\r\n\t\tlet insertionIndex: number;\r\n\r\n\t\t// Check if there's already a disabling comment. If so, we ignore the settings here\r\n\t\t// and use the comment style from that specific line.\r\n\t\tconst matchedLineDisable = new RegExp(`${lineComment} eslint-disable-line`).test(currentLine);\r\n\t\tconst matchedBlockDisable = new RegExp(`${blockComment[0]} eslint-disable-line`).test(currentLine);\r\n\t\tif (matchedLineDisable) {\r\n\t\t\tdisableRuleContent = `, ${editInfo.ruleId}`;\r\n\t\t\tinsertionIndex = getDisableRuleEditInsertionIndex(currentLine, lineComment);\r\n\t\t} else if (matchedBlockDisable) {\r\n\t\t\tdisableRuleContent = `, ${editInfo.ruleId}`;\r\n\t\t\tinsertionIndex = getDisableRuleEditInsertionIndex(currentLine, blockComment);\r\n\t\t} else {\r\n\t\t\t// We're creating a new disabling comment.\r\n\t\t\tconst commentStyle = settings.codeAction.disableRuleComment.commentStyle;\r\n\t\t\tdisableRuleContent = commentStyle === 'line' ? ` ${lineComment} eslint-disable-line ${editInfo.ruleId}` : ` ${blockComment[0]} eslint-disable-line ${editInfo.ruleId} ${blockComment[1]}`;\r\n\t\t\tinsertionIndex = uinteger.MAX_VALUE;\r\n\t\t}\r\n\r\n\t\treturn TextEdit.insert(Position.create(editInfo.line - 1, insertionIndex), disableRuleContent);\r\n\t}\r\n\r\n\tfunction createDisableFileTextEdit(textDocument: TextDocument, editInfo: Problem): TextEdit {\r\n\t\t// If first line contains a shebang, insert on the next line instead.\r\n\t\tconst shebang = textDocument.getText(Range.create(Position.create(0, 0), Position.create(0, 2)));\r\n\t\tconst line = shebang === '#!' ? 1 : 0;\r\n\t\tconst block = LanguageDefaults.getBlockComment(textDocument.languageId);\r\n\t\treturn TextEdit.insert(Position.create(line, 0), `${block[0]} eslint-disable ${editInfo.ruleId} ${block[1]}${EOL}`);\r\n\t}\r\n\r\n\tfunction getLastEdit(array: FixableProblem[]): FixableProblem | undefined {\r\n\t\tconst length = array.length;\r\n\t\tif (length === 0) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\treturn array[length - 1];\r\n\t}\r\n\r\n\tconst settings = await ESLint.resolveSettings(textDocument);\r\n\r\n\t// The file is not validated at all or we couldn't load an eslint library for it.\r\n\tif (settings.validate !== Validate.on || !TextDocumentSettings.hasLibrary(settings)) {\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tconst problems = CodeActions.get(uri);\r\n\t// We validate on type and have no problems ==> nothing to fix.\r\n\tif (problems === undefined && settings.run === 'onType') {\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tconst only: string | undefined = params.context.only !== undefined && params.context.only.length > 0 ? params.context.only[0] : undefined;\r\n\tconst isSource = only === CodeActionKind.Source;\r\n\tconst isSourceFixAll = (only === ESLintSourceFixAll || only === CodeActionKind.SourceFixAll);\r\n\tif (isSourceFixAll || isSource) {\r\n\t\tif (isSourceFixAll) {\r\n\t\t\tconst textDocumentIdentifier: VersionedTextDocumentIdentifier = { uri: textDocument.uri, version: textDocument.version };\r\n\t\t\tconst edits = await computeAllFixes(textDocumentIdentifier, AllFixesMode.onSave);\r\n\t\t\tif (edits !== undefined) {\r\n\t\t\t\tresult.fixAll.push(CodeAction.create(\r\n\t\t\t\t\t`Fix all fixable ESLint issues`,\r\n\t\t\t\t\t{ documentChanges: [ TextDocumentEdit.create(textDocumentIdentifier, edits )]},\r\n\t\t\t\t\tESLintSourceFixAll\r\n\t\t\t\t));\r\n\t\t\t}\r\n\t\t} else if (isSource) {\r\n\t\t\tresult.fixAll.push(createCodeAction(\r\n\t\t\t\t`Fix all fixable ESLint issues`,\r\n\t\t\t\tCodeActionKind.Source,\r\n\t\t\t\tCommandIds.applyAllFixes,\r\n\t\t\t\tCommandParams.create(textDocument)\r\n\t\t\t));\r\n\t\t}\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tif (problems === undefined) {\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tconst fixes = new Fixes(problems);\r\n\tif (fixes.isEmpty()) {\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tlet documentVersion: number = -1;\r\n\tconst allFixableRuleIds: string[] = [];\r\n\tconst kind: CodeActionKind = only ?? CodeActionKind.QuickFix;\r\n\r\n\tfor (const editInfo of fixes.getScoped(params.context.diagnostics)) {\r\n\t\tdocumentVersion = editInfo.documentVersion;\r\n\t\tconst ruleId = editInfo.ruleId;\r\n\t\tallFixableRuleIds.push(ruleId);\r\n\r\n\t\tif (Problem.isFixable(editInfo)) {\r\n\t\t\tconst workspaceChange = new WorkspaceChange();\r\n\t\t\tworkspaceChange.getTextEditChange({ uri, version: documentVersion }).add(FixableProblem.createTextEdit(textDocument, editInfo));\r\n\t\t\tchanges.set(`${CommandIds.applySingleFix}:${ruleId}`, workspaceChange);\r\n\t\t\tconst action = createCodeAction(\r\n\t\t\t\teditInfo.label,\r\n\t\t\t\tkind,\r\n\t\t\t\tCommandIds.applySingleFix,\r\n\t\t\t\tCommandParams.create(textDocument, ruleId),\r\n\t\t\t\teditInfo.diagnostic\r\n\t\t\t);\r\n\t\t\taction.isPreferred = true;\r\n\t\t\tresult.get(ruleId).fixes.push(action);\r\n\t\t}\r\n\t\tif (Problem.hasSuggestions(editInfo)) {\r\n\t\t\teditInfo.suggestions.forEach((suggestion, suggestionSequence) => {\r\n\t\t\t\tconst workspaceChange = new WorkspaceChange();\r\n\t\t\t\tworkspaceChange.getTextEditChange({ uri, version: documentVersion }).add(SuggestionsProblem.createTextEdit(textDocument, suggestion));\r\n\t\t\t\tchanges.set(`${CommandIds.applySuggestion}:${ruleId}:${suggestionSequence}`, workspaceChange);\r\n\t\t\t\tconst action = createCodeAction(\r\n\t\t\t\t\t`${suggestion.desc} (${editInfo.ruleId})`,\r\n\t\t\t\t\tCodeActionKind.QuickFix,\r\n\t\t\t\t\tCommandIds.applySuggestion,\r\n\t\t\t\t\tCommandParams.create(textDocument, ruleId, suggestionSequence),\r\n\t\t\t\t\teditInfo.diagnostic\r\n\t\t\t\t);\r\n\t\t\t\tresult.get(ruleId).suggestions.push(action);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (settings.codeAction.disableRuleComment.enable && ruleId !== RuleMetaData.unusedDisableDirectiveId) {\r\n\t\t\tlet workspaceChange = new WorkspaceChange();\r\n\t\t\tif (settings.codeAction.disableRuleComment.location === 'sameLine') {\r\n\t\t\t\tworkspaceChange.getTextEditChange({ uri, version: documentVersion }).add(createDisableSameLineTextEdit(textDocument, editInfo));\r\n\t\t\t} else {\r\n\t\t\t\tconst lineText = textDocument.getText(Range.create(Position.create(editInfo.line - 1, 0), Position.create(editInfo.line - 1, uinteger.MAX_VALUE)));\r\n\t\t\t\tconst matches = /^([ \\t]*)/.exec(lineText);\r\n\t\t\t\tconst indentationText = matches !== null && matches.length > 0 ? matches[1] : '';\r\n\t\t\t\tworkspaceChange.getTextEditChange({ uri, version: documentVersion }).add(createDisableLineTextEdit(textDocument, editInfo, indentationText));\r\n\t\t\t}\r\n\t\t\tchanges.set(`${CommandIds.applyDisableLine}:${ruleId}`, workspaceChange);\r\n\t\t\tresult.get(ruleId).disable = createCodeAction(\r\n\t\t\t\t`Disable ${ruleId} for this line`,\r\n\t\t\t\tkind,\r\n\t\t\t\tCommandIds.applyDisableLine,\r\n\t\t\t\tCommandParams.create(textDocument, ruleId)\r\n\t\t\t);\r\n\r\n\t\t\tif (result.get(ruleId).disableFile === undefined) {\r\n\t\t\t\tworkspaceChange = new WorkspaceChange();\r\n\t\t\t\tworkspaceChange.getTextEditChange({ uri, version: documentVersion }).add(createDisableFileTextEdit(textDocument, editInfo));\r\n\t\t\t\tchanges.set(`${CommandIds.applyDisableFile}:${ruleId}`, workspaceChange);\r\n\t\t\t\tresult.get(ruleId).disableFile = createCodeAction(\r\n\t\t\t\t\t`Disable ${ruleId} for the entire file`,\r\n\t\t\t\t\tkind,\r\n\t\t\t\t\tCommandIds.applyDisableFile,\r\n\t\t\t\t\tCommandParams.create(textDocument, ruleId)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (settings.codeAction.showDocumentation.enable && result.get(ruleId).showDocumentation === undefined) {\r\n\t\t\tif (RuleMetaData.hasRuleId(ruleId)) {\r\n\t\t\t\tresult.get(ruleId).showDocumentation = createCodeAction(\r\n\t\t\t\t\t`Show documentation for ${ruleId}`,\r\n\t\t\t\t\tkind,\r\n\t\t\t\t\tCommandIds.openRuleDoc,\r\n\t\t\t\t\tCommandParams.create(textDocument, ruleId)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (result.length > 0) {\r\n\t\tconst sameProblems: Map<string, FixableProblem[]> = new Map<string, FixableProblem[]>(allFixableRuleIds.map<[string, FixableProblem[]]>(s => [s, []]));\r\n\r\n\t\tfor (const editInfo of fixes.getAllSorted()) {\r\n\t\t\tif (documentVersion === -1) {\r\n\t\t\t\tdocumentVersion = editInfo.documentVersion;\r\n\t\t\t}\r\n\t\t\tif (sameProblems.has(editInfo.ruleId)) {\r\n\t\t\t\tconst same = sameProblems.get(editInfo.ruleId)!;\r\n\t\t\t\tif (!Fixes.overlaps(getLastEdit(same), editInfo)) {\r\n\t\t\t\t\tsame.push(editInfo);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsameProblems.forEach((same, ruleId) => {\r\n\t\t\tif (same.length > 1) {\r\n\t\t\t\tconst sameFixes: WorkspaceChange = new WorkspaceChange();\r\n\t\t\t\tconst sameTextChange = sameFixes.getTextEditChange({ uri, version: documentVersion });\r\n\t\t\t\tsame.map(fix => FixableProblem.createTextEdit(textDocument, fix)).forEach(edit => sameTextChange.add(edit));\r\n\t\t\t\tchanges.set(CommandIds.applySameFixes, sameFixes);\r\n\t\t\t\tresult.get(ruleId).fixAll = createCodeAction(\r\n\t\t\t\t\t`Fix all ${ruleId} problems`,\r\n\t\t\t\t\tkind,\r\n\t\t\t\t\tCommandIds.applySameFixes,\r\n\t\t\t\t\tCommandParams.create(textDocument)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t\tresult.fixAll.push(createCodeAction(\r\n\t\t\t`Fix all auto-fixable problems`,\r\n\t\t\tkind,\r\n\t\t\tCommandIds.applyAllFixes,\r\n\t\t\tCommandParams.create(textDocument)\r\n\t\t));\r\n\t}\r\n\treturn result.all();\r\n});\r\n\r\nenum AllFixesMode {\r\n\tonSave = 'onsave',\r\n\tformat = 'format',\r\n\tcommand = 'command'\r\n}\r\n\r\nasync function computeAllFixes(identifier: VersionedTextDocumentIdentifier, mode: AllFixesMode): Promise<TextEdit[] | undefined> {\r\n\tconst uri = identifier.uri;\r\n\tconst textDocument = documents.get(uri)!;\r\n\tif (textDocument === undefined || identifier.version !== textDocument.version) {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tconst settings = await ESLint.resolveSettings(textDocument);\r\n\r\n\tif (settings.validate !== Validate.on || !TextDocumentSettings.hasLibrary(settings) || (mode === AllFixesMode.format && !settings.format)) {\r\n\t\treturn [];\r\n\t}\r\n\tconst filePath = inferFilePath(textDocument);\r\n\tconst problems = CodeActions.get(uri);\r\n\tconst originalContent = textDocument.getText();\r\n\tlet start = Date.now();\r\n\t// Only use known fixes when running in onSave mode. See https://github.com/microsoft/vscode-eslint/issues/871\r\n\t// for details\r\n\tif (mode === AllFixesMode.onSave && settings.codeActionOnSave.mode === CodeActionsOnSaveMode.problems) {\r\n\t\tconst result = problems !== undefined && problems.size > 0\r\n\t\t\t? new Fixes(problems).getApplicable().map(fix => FixableProblem.createTextEdit(textDocument, fix))\r\n\t\t\t: [];\r\n\t\tconnection.tracer.log(`Computing all fixes took: ${Date.now() - start} ms.`);\r\n\t\treturn result;\r\n\t} else {\r\n\t\tconst saveConfig = filePath !== undefined && mode === AllFixesMode.onSave ? await SaveRuleConfigs.get(uri, settings) : undefined;\r\n\t\tconst offRules = saveConfig?.offRules;\r\n\t\tconst overrideOptions = saveConfig?.options;\r\n\t\tlet eslintOptions: ESLintClassOptions = { fix: true };\r\n\t\tif (offRules !== undefined || overrideOptions !== undefined) {\r\n\t\t\tif (overrideOptions !== undefined) {\r\n\t\t\t\teslintOptions = { ...eslintOptions, ...overrideOptions };\r\n\t\t\t}\r\n\t\t\tif (offRules !== undefined && offRules.size > 0) {\r\n\t\t\t\tconst overrideConfig = { rules: Object.create(null) };\r\n\t\t\t\tfor (const ruleId of offRules) {\r\n\t\t\t\t\toverrideConfig.rules[ruleId] = 'off';\r\n\t\t\t\t}\r\n\t\t\t\teslintOptions.overrideConfig = overrideConfig;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ESLint.withClass(async (eslintClass) => {\r\n\t\t\t// Don't use any precomputed fixes since neighbour fixes can produce incorrect results.\r\n\t\t\t// See https://github.com/microsoft/vscode-eslint/issues/1745\r\n\t\t\tconst result: TextEdit[] = [];\r\n\t\t\tconst reportResults = await eslintClass.lintText(originalContent, { filePath });\r\n\t\t\tconnection.tracer.log(`Computing all fixes took: ${Date.now() - start} ms.`);\r\n\t\t\tif (Array.isArray(reportResults) && reportResults.length === 1 && reportResults[0].output !== undefined) {\r\n\t\t\t\tconst fixedContent = reportResults[0].output;\r\n\t\t\t\tstart = Date.now();\r\n\t\t\t\tconst diffs = stringDiff(originalContent, fixedContent, false);\r\n\t\t\t\tconnection.tracer.log(`Computing minimal edits took: ${Date.now() - start} ms.`);\r\n\t\t\t\tfor (const diff of diffs) {\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\trange: {\r\n\t\t\t\t\t\t\tstart: textDocument.positionAt(diff.originalStart),\r\n\t\t\t\t\t\t\tend: textDocument.positionAt(diff.originalStart + diff.originalLength)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tnewText: fixedContent.substr(diff.modifiedStart, diff.modifiedLength)\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}, settings, eslintOptions);\r\n\t}\r\n}\r\n\r\nconnection.onExecuteCommand(async (params) => {\r\n\tlet workspaceChange: WorkspaceChange | undefined;\r\n\tconst commandParams: CommandParams = params.arguments![0] as CommandParams;\r\n\tif (params.command === CommandIds.applyAllFixes) {\r\n\t\tconst edits = await computeAllFixes(commandParams, AllFixesMode.command);\r\n\t\tif (edits !== undefined && edits.length > 0) {\r\n\t\t\tworkspaceChange = new WorkspaceChange();\r\n\t\t\tconst textChange = workspaceChange.getTextEditChange(commandParams);\r\n\t\t\tedits.forEach(edit => textChange.add(edit));\r\n\t\t}\r\n\t} else {\r\n\t\tif ([CommandIds.applySingleFix, CommandIds.applyDisableLine, CommandIds.applyDisableFile].indexOf(params.command) !== -1) {\r\n\t\t\tworkspaceChange = changes.get(`${params.command}:${commandParams.ruleId}`);\r\n\t\t} else if ([CommandIds.applySuggestion].indexOf(params.command) !== -1) {\r\n\t\t\tworkspaceChange = changes.get(`${params.command}:${commandParams.ruleId}:${commandParams.sequence}`);\r\n\t\t} else if (params.command === CommandIds.openRuleDoc && CommandParams.hasRuleId(commandParams)) {\r\n\t\t\tconst url = RuleMetaData.getUrl(commandParams.ruleId);\r\n\t\t\tif (url) {\r\n\t\t\t\tvoid connection.sendRequest(OpenESLintDocRequest.type, { url });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tworkspaceChange = changes.get(params.command);\r\n\t\t}\r\n\t}\r\n\r\n\tif (workspaceChange === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\treturn connection.workspace.applyEdit(workspaceChange.edit).then((response) => {\r\n\t\tif (!response.applied) {\r\n\t\t\tconnection.console.error(`Failed to apply command: ${params.command}`);\r\n\t\t}\r\n\t\treturn null;\r\n\t}, () => {\r\n\t\tconnection.console.error(`Failed to apply command: ${params.command}`);\r\n\t\treturn null;\r\n\t});\r\n});\r\n\r\nconnection.onDocumentFormatting((params) => {\r\n\tconst textDocument = documents.get(params.textDocument.uri);\r\n\tif (textDocument === undefined) {\r\n\t\treturn [];\r\n\t}\r\n\treturn computeAllFixes({ uri: textDocument.uri, version: textDocument.version }, AllFixesMode.format);\r\n});\r\n\r\n\r\ndocuments.listen(connection);\r\nnotebooks.listen(connection);\r\nconnection.listen();\r\nconnection.console.info(`ESLint server running in node ${process.version}`);\r\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n    TypeHierarchyPrepareRequest.capabilities = messages_1.CM.create('textDocument.typeHierarchy', 'typeHierarchyProvider');\n})(TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = TypeHierarchySubtypesRequest = {}));\n","module.exports = require(\"os\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n    ShowDocumentRequest.capabilities = messages_1.CM.create('window.showDocument.support', undefined);\n})(ShowDocumentRequest || (exports.ShowDocumentRequest = ShowDocumentRequest = {}));\n","'use strict'\n\nconst numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineCompletionFeature = (Base) => {\n    return class extends Base {\n        get inlineCompletion() {\n            return {\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineCompletionRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineCompletionFeature = InlineCompletionFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" preserve=\"true\"/>\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Files = void 0;\nexports.createConnection = createConnection;\nconst node_util_1 = require(\"node:util\");\nconst Is = __importStar(require(\"../common/utils/is\"));\nconst server_1 = require(\"../common/server\");\nconst fm = __importStar(require(\"./files\"));\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nvar Files;\n(function (Files) {\n    Files.uriToFilePath = fm.uriToFilePath;\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\n    Files.resolve = fm.resolve;\n    Files.resolveModulePath = fm.resolveModulePath;\n})(Files || (exports.Files = Files = {}));\nlet _protocolConnection;\nfunction endProtocolConnection() {\n    if (_protocolConnection === undefined) {\n        return;\n    }\n    try {\n        _protocolConnection.end();\n    }\n    catch (_err) {\n        // Ignore. The client process could have already\n        // did and we can't send an end into the connection.\n    }\n}\nlet _shutdownReceived = false;\nlet exitTimer = undefined;\nfunction setupExitTimer() {\n    const argName = '--clientProcessId';\n    function runTimer(value) {\n        try {\n            const processId = parseInt(value);\n            if (!isNaN(processId)) {\n                exitTimer = setInterval(() => {\n                    try {\n                        process.kill(processId, 0);\n                    }\n                    catch (ex) {\n                        // Parent process doesn't exist anymore. Exit the server.\n                        endProtocolConnection();\n                        process.exit(_shutdownReceived ? 0 : 1);\n                    }\n                }, 3000);\n            }\n        }\n        catch (e) {\n            // Ignore errors;\n        }\n    }\n    for (let i = 2; i < process.argv.length; i++) {\n        const arg = process.argv[i];\n        if (arg === argName && i + 1 < process.argv.length) {\n            runTimer(process.argv[i + 1]);\n            return;\n        }\n        else {\n            const args = arg.split('=');\n            if (args[0] === argName) {\n                runTimer(args[1]);\n            }\n        }\n    }\n}\nsetupExitTimer();\nconst watchDog = {\n    initialize: (params) => {\n        const processId = params.processId;\n        if (Is.number(processId) && exitTimer === undefined) {\n            // We received a parent process id. Set up a timer to periodically check\n            // if the parent is still alive.\n            setInterval(() => {\n                try {\n                    process.kill(processId, 0);\n                }\n                catch (ex) {\n                    // Parent process doesn't exist anymore. Exit the server.\n                    process.exit(_shutdownReceived ? 0 : 1);\n                }\n            }, 3000);\n        }\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (code) => {\n        endProtocolConnection();\n        process.exit(code);\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let input;\n    let output;\n    let options;\n    if (arg1 !== undefined && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (node_1.ConnectionStrategy.is(arg1) || node_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        input = arg1;\n        output = arg2;\n        options = arg3;\n    }\n    return _createConnection(input, output, options, factories);\n}\nfunction _createConnection(input, output, options, factories) {\n    let stdio = false;\n    if (!input && !output && process.argv.length > 2) {\n        let port = undefined;\n        let pipeName = undefined;\n        const argv = process.argv.slice(2);\n        for (let i = 0; i < argv.length; i++) {\n            const arg = argv[i];\n            if (arg === '--node-ipc') {\n                input = new node_1.IPCMessageReader(process);\n                output = new node_1.IPCMessageWriter(process);\n                break;\n            }\n            else if (arg === '--stdio') {\n                stdio = true;\n                input = process.stdin;\n                output = process.stdout;\n                break;\n            }\n            else if (arg === '--socket') {\n                port = parseInt(argv[i + 1]);\n                break;\n            }\n            else if (arg === '--pipe') {\n                pipeName = argv[i + 1];\n                break;\n            }\n            else {\n                const args = arg.split('=');\n                if (args[0] === '--socket') {\n                    port = parseInt(args[1]);\n                    break;\n                }\n                else if (args[0] === '--pipe') {\n                    pipeName = args[1];\n                    break;\n                }\n            }\n        }\n        if (port) {\n            const transport = (0, node_1.createServerSocketTransport)(port);\n            input = transport[0];\n            output = transport[1];\n        }\n        else if (pipeName) {\n            const transport = (0, node_1.createServerPipeTransport)(pipeName);\n            input = transport[0];\n            output = transport[1];\n        }\n    }\n    const commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\n    if (!input) {\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\n    }\n    if (!output) {\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\n    }\n    // Backwards compatibility\n    if (Is.func(input.read) && Is.func(input.on)) {\n        const inputStream = input;\n        inputStream.on('end', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n        inputStream.on('close', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n    }\n    const connectionFactory = (logger) => {\n        const result = (0, node_1.createProtocolConnection)(input, output, logger, options);\n        if (stdio) {\n            patchConsole(logger);\n        }\n        return result;\n    };\n    return (0, server_1.createConnection)(connectionFactory, watchDog, factories);\n}\nfunction patchConsole(logger) {\n    function serialize(args) {\n        return args.map(arg => typeof arg === 'string' ? arg : (0, node_util_1.inspect)(arg)).join(' ');\n    }\n    const counters = new Map();\n    console.assert = function assert(assertion, ...args) {\n        if (assertion) {\n            return;\n        }\n        if (args.length === 0) {\n            logger.error('Assertion failed');\n        }\n        else {\n            const [message, ...rest] = args;\n            logger.error(`Assertion failed: ${message} ${serialize(rest)}`);\n        }\n    };\n    console.count = function count(label = 'default') {\n        const message = String(label);\n        let counter = counters.get(message) ?? 0;\n        counter += 1;\n        counters.set(message, counter);\n        logger.log(`${message}: ${message}`);\n    };\n    console.countReset = function countReset(label) {\n        if (label === undefined) {\n            counters.clear();\n        }\n        else {\n            counters.delete(String(label));\n        }\n    };\n    console.debug = function debug(...args) {\n        logger.log(serialize(args));\n    };\n    console.dir = function dir(arg, options) {\n        logger.log((0, node_util_1.inspect)(arg, options));\n    };\n    console.log = function log(...args) {\n        logger.log(serialize(args));\n    };\n    console.error = function error(...args) {\n        logger.error(serialize(args));\n    };\n    console.trace = function trace(...args) {\n        const stack = new Error().stack.replace(/(.+\\n){2}/, '');\n        let message = 'Trace';\n        if (args.length !== 0) {\n            message += `: ${serialize(args)}`;\n        }\n        logger.log(`${message}\\n${stack}`);\n    };\n    console.warn = function warn(...args) {\n        logger.warn(serialize(args));\n    };\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.GlobPattern = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.RegularExpressionEngineKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangesFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = void 0;\nexports.TextDocumentContentRefreshRequest = exports.TextDocumentContentRequest = exports.InlineCompletionRequest = exports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = __importStar(require(\"./utils/is\"));\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nObject.defineProperty(exports, \"FoldingRangeRefreshRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRefreshRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\nconst protocol_inlineCompletion_1 = require(\"./protocol.inlineCompletion\");\nObject.defineProperty(exports, \"InlineCompletionRequest\", { enumerable: true, get: function () { return protocol_inlineCompletion_1.InlineCompletionRequest; } });\nconst protocol_textDocumentContent_1 = require(\"./protocol.textDocumentContent\");\nObject.defineProperty(exports, \"TextDocumentContentRequest\", { enumerable: true, get: function () { return protocol_textDocumentContent_1.TextDocumentContentRequest; } });\nObject.defineProperty(exports, \"TextDocumentContentRefreshRequest\", { enumerable: true, get: function () { return protocol_textDocumentContent_1.TextDocumentContentRefreshRequest; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * {@link TextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.string(candidate.language) || Is.string(candidate.scheme) || GlobPattern.is(candidate.pattern));\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter || (exports.TextDocumentFilter = TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * {@link NotebookDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter || (exports.NotebookDocumentFilter = NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * {@link NotebookCellTextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * {@link DocumentSelector}s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (const elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector || (exports.DocumentSelector = DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest || (exports.RegistrationRequest = RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest || (exports.UnregistrationRequest = UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind || (exports.ResourceOperationKind = ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind || (exports.FailureHandlingKind = FailureHandlingKind = {}));\n/**\n * Regular Expression Engines\n *\n * @since 3.18.0\n * @proposed\n */\nvar RegularExpressionEngineKind;\n(function (RegularExpressionEngineKind) {\n    RegularExpressionEngineKind.ES2020 = 'ES2020';\n})(RegularExpressionEngineKind || (exports.RegularExpressionEngineKind = RegularExpressionEngineKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units (e.g. bytes).\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode codepoints,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind || (exports.PositionEncodingKind = PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * {@link StaticRegistrationOptions} literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions || (exports.StaticRegistrationOptions = StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * {@link TextDocumentRegistrationOptions} literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * {@link WorkDoneProgressOptions} literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type {@link InitializeParams}\n * the response if of type {@link InitializeResult} of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest || (exports.InitializeRequest = InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes || (exports.InitializeErrorCodes = InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification || (exports.InitializedNotification = InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest || (exports.ShutdownRequest = ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification || (exports.ExitNotification = ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n    DidChangeConfigurationNotification.capabilities = messages_1.CM.create('workspace.didChangeConfiguration', undefined);\n})(DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n    /**\n     * A debug message.\n     *\n     * @since 3.18.0\n     * @proposed\n     */\n    MessageType.Debug = 5;\n})(MessageType || (exports.MessageType = MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n    ShowMessageNotification.capabilities = messages_1.CM.create('window.showMessage', undefined);\n})(ShowMessageNotification || (exports.ShowMessageNotification = ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n    ShowMessageRequest.capabilities = messages_1.CM.create('window.showMessage', undefined);\n})(ShowMessageRequest || (exports.ShowMessageRequest = ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification || (exports.LogMessageNotification = LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification || (exports.TelemetryEventNotification = TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind || (exports.TextDocumentSyncKind = TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n    DidOpenTextDocumentNotification.capabilities = messages_1.CM.create('textDocument.synchronization', 'textDocumentSync.openClose');\n})(DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        const candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        const candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n    DidChangeTextDocumentNotification.capabilities = messages_1.CM.create('textDocument.synchronization', 'textDocumentSync');\n})(DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n    DidCloseTextDocumentNotification.capabilities = messages_1.CM.create('textDocument.synchronization', 'textDocumentSync.openClose');\n})(DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n    DidSaveTextDocumentNotification.capabilities = messages_1.CM.create('textDocument.synchronization.didSave', 'textDocumentSync.save');\n})(DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason || (exports.TextDocumentSaveReason = TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n    WillSaveTextDocumentNotification.capabilities = messages_1.CM.create('textDocument.synchronization.willSave', 'textDocumentSync.willSave');\n})(WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n    WillSaveTextDocumentWaitUntilRequest.capabilities = messages_1.CM.create('textDocument.synchronization.willSaveWaitUntil', 'textDocumentSync.willSaveWaitUntil');\n})(WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n    DidChangeWatchedFilesNotification.capabilities = messages_1.CM.create('workspace.didChangeWatchedFiles', undefined);\n})(DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType || (exports.FileChangeType = FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern || (exports.RelativePattern = RelativePattern = {}));\nvar GlobPattern;\n(function (GlobPattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || RelativePattern.is(candidate);\n    }\n    GlobPattern.is = is;\n})(GlobPattern || (exports.GlobPattern = GlobPattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind || (exports.WatchKind = WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n    PublishDiagnosticsNotification.capabilities = messages_1.CM.create('textDocument.publishDiagnostics', undefined);\n})(PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind || (exports.CompletionTriggerKind = CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response\n * is of type {@link CompletionItem CompletionItem[]} or {@link CompletionList}\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the {@link CompletionItem.detail `detail`}\n * and {@link CompletionItem.documentation `documentation`} properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n    CompletionRequest.capabilities = messages_1.CM.create('textDocument.completion', 'completionProvider');\n})(CompletionRequest || (exports.CompletionRequest = CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type {@link CompletionItem} the response\n * is of type {@link CompletionItem} or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n    CompletionResolveRequest.capabilities = messages_1.CM.create('textDocument.completion.completionItem.resolveSupport', 'completionProvider.resolveProvider');\n})(CompletionResolveRequest || (exports.CompletionResolveRequest = CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response is of\n * type {@link Hover} or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n    HoverRequest.capabilities = messages_1.CM.create('textDocument.hover', 'hoverProvider');\n})(HoverRequest || (exports.HoverRequest = HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n    SignatureHelpRequest.capabilities = messages_1.CM.create('textDocument.signatureHelp', 'signatureHelpProvider');\n})(SignatureHelpRequest || (exports.SignatureHelpRequest = SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPosition}\n * the response is of either type {@link Definition} or a typed array of\n * {@link DefinitionLink} or a Thenable that resolves to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n    DefinitionRequest.capabilities = messages_1.CM.create('textDocument.definition', 'definitionProvider');\n})(DefinitionRequest || (exports.DefinitionRequest = DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type {@link ReferenceParams} the response is of type\n * {@link Location Location[]} or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n    ReferencesRequest.capabilities = messages_1.CM.create('textDocument.references', 'referencesProvider');\n})(ReferencesRequest || (exports.ReferencesRequest = ReferencesRequest = {}));\n/**\n * Request to resolve a {@link DocumentHighlight} for a given\n * text document position. The request's parameter is of type {@link TextDocumentPosition}\n * the request response is an array of type {@link DocumentHighlight}\n * or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n    DocumentHighlightRequest.capabilities = messages_1.CM.create('textDocument.documentHighlight', 'documentHighlightProvider');\n})(DocumentHighlightRequest || (exports.DocumentHighlightRequest = DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type {@link TextDocumentIdentifier} the\n * response is of type {@link SymbolInformation SymbolInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n    DocumentSymbolRequest.capabilities = messages_1.CM.create('textDocument.documentSymbol', 'documentSymbolProvider');\n})(DocumentSymbolRequest || (exports.DocumentSymbolRequest = DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n    CodeActionRequest.capabilities = messages_1.CM.create('textDocument.codeAction', 'codeActionProvider');\n})(CodeActionRequest || (exports.CodeActionRequest = CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type {@link CodeAction} the response\n * is of type {@link CodeAction} or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n    CodeActionResolveRequest.capabilities = messages_1.CM.create('textDocument.codeAction.resolveSupport', 'codeActionProvider.resolveProvider');\n})(CodeActionResolveRequest || (exports.CodeActionResolveRequest = CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the {@link WorkspaceSymbolParams}. The response is\n * of type {@link SymbolInformation SymbolInformation[]} or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n    WorkspaceSymbolRequest.capabilities = messages_1.CM.create('workspace.symbol', 'workspaceSymbolProvider');\n})(WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n    WorkspaceSymbolResolveRequest.capabilities = messages_1.CM.create('workspace.symbol.resolveSupport', 'workspaceSymbolProvider.resolveProvider');\n})(WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n    CodeLensRequest.capabilities = messages_1.CM.create('textDocument.codeLens', 'codeLensProvider');\n})(CodeLensRequest || (exports.CodeLensRequest = CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n    CodeLensResolveRequest.capabilities = messages_1.CM.create('textDocument.codeLens.resolveSupport', 'codeLensProvider.resolveProvider');\n})(CodeLensResolveRequest || (exports.CodeLensResolveRequest = CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n    CodeLensRefreshRequest.capabilities = messages_1.CM.create('workspace.codeLens', undefined);\n})(CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n    DocumentLinkRequest.capabilities = messages_1.CM.create('textDocument.documentLink', 'documentLinkProvider');\n})(DocumentLinkRequest || (exports.DocumentLinkRequest = DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type {@link DocumentLink} the response\n * is of type {@link DocumentLink} or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n    DocumentLinkResolveRequest.capabilities = messages_1.CM.create('textDocument.documentLink', 'documentLinkProvider.resolveProvider');\n})(DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = DocumentLinkResolveRequest = {}));\n/**\n * A request to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n    DocumentFormattingRequest.capabilities = messages_1.CM.create('textDocument.formatting', 'documentFormattingProvider');\n})(DocumentFormattingRequest || (exports.DocumentFormattingRequest = DocumentFormattingRequest = {}));\n/**\n * A request to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n    DocumentRangeFormattingRequest.capabilities = messages_1.CM.create('textDocument.rangeFormatting', 'documentRangeFormattingProvider');\n})(DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = DocumentRangeFormattingRequest = {}));\n/**\n * A request to format ranges in a document.\n *\n * @since 3.18.0\n * @proposed\n */\nvar DocumentRangesFormattingRequest;\n(function (DocumentRangesFormattingRequest) {\n    DocumentRangesFormattingRequest.method = 'textDocument/rangesFormatting';\n    DocumentRangesFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangesFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangesFormattingRequest.method);\n    DocumentRangesFormattingRequest.capabilities = messages_1.CM.create('textDocument.rangeFormatting.rangesSupport', 'documentRangeFormattingProvider.rangesSupport');\n})(DocumentRangesFormattingRequest || (exports.DocumentRangesFormattingRequest = DocumentRangesFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n    DocumentOnTypeFormattingRequest.capabilities = messages_1.CM.create('textDocument.onTypeFormatting', 'documentOnTypeFormattingProvider');\n})(DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n    RenameRequest.capabilities = messages_1.CM.create('textDocument.rename', 'renameProvider');\n})(RenameRequest || (exports.RenameRequest = RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n    PrepareRenameRequest.capabilities = messages_1.CM.create('textDocument.rename.prepareSupport', 'renameProvider.prepareProvider');\n})(PrepareRenameRequest || (exports.PrepareRenameRequest = PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n    ExecuteCommandRequest.capabilities = messages_1.CM.create('workspace.executeCommand', 'executeCommandProvider');\n})(ExecuteCommandRequest || (exports.ExecuteCommandRequest = ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n    ApplyWorkspaceEditRequest.capabilities = messages_1.CM.create('workspace.applyEdit', undefined);\n})(ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = ApplyWorkspaceEditRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = createProtocolConnection;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n    ConfigurationRequest.capabilities = messages_1.CM.create('workspace.configuration', undefined);\n})(ConfigurationRequest || (exports.ConfigurationRequest = ConfigurationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\n/**\n * A manager for simple text documents. The manager requires at a minimum that\n * the server registered for the following text document sync events in the\n * initialize handler or via dynamic registration:\n *\n * - open and close events.\n * - change events.\n *\n * Registering for save and will save events is optional.\n */\nclass TextDocuments {\n    _configuration;\n    _syncedDocuments;\n    _onDidChangeContent;\n    _onDidOpen;\n    _onDidClose;\n    _onDidSave;\n    _onWillSave;\n    _willSaveWaitUntil;\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._configuration = configuration;\n        this._syncedDocuments = new Map();\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._syncedDocuments.get(uri);\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Array.from(this._syncedDocuments.values());\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Array.from(this._syncedDocuments.keys());\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n        const disposables = [];\n        disposables.push(connection.onDidOpenTextDocument((event) => {\n            const td = event.textDocument;\n            const document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._syncedDocuments.set(td.uri, document);\n            const toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        }));\n        disposables.push(connection.onDidChangeTextDocument((event) => {\n            const td = event.textDocument;\n            const changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            let syncedDocument = this._syncedDocuments.get(td.uri);\n            if (syncedDocument !== undefined) {\n                syncedDocument = this._configuration.update(syncedDocument, changes, version);\n                this._syncedDocuments.set(td.uri, syncedDocument);\n                this._onDidChangeContent.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onDidCloseTextDocument((event) => {\n            const syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._syncedDocuments.delete(event.textDocument.uri);\n                this._onDidClose.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocument((event) => {\n            const syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onWillSave.fire(Object.freeze({ document: syncedDocument, reason: event.reason }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            const syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document: syncedDocument, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        }));\n        disposables.push(connection.onDidSaveTextDocument((event) => {\n            const syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onDidSave.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n}\nexports.TextDocuments = TextDocuments;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nconst toString = Object.prototype.toString;\n\nexport function boolean(value: any): value is boolean {\n\treturn value === true || value === false;\n}\n\nexport function nullOrUndefined(value: any): value is null | undefined {\n\treturn value === null || value === undefined;\n}\n\nexport function string(value: any): value is string {\n\treturn toString.call(value) === '[object String]';\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineValueFeature = (Base) => {\n    return class extends Base {\n        get inlineValue() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineValueFeature = InlineValueFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        _onDidChangeWorkspaceFolders;\n        _unregistration;\n        _notificationIsAutoRegistered;\n        constructor() {\n            super();\n            this._notificationIsAutoRegistered = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            const workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        fillServerCapabilities(capabilities) {\n            super.fillServerCapabilities(capabilities);\n            const changeNotifications = capabilities.workspace?.workspaceFolders?.changeNotifications;\n            this._notificationIsAutoRegistered = changeNotifications === true || typeof changeNotifications === 'string';\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._notificationIsAutoRegistered && !this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat || (exports.TokenFormat = TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n    SemanticTokensRequest.capabilities = messages_1.CM.create('textDocument.semanticTokens', 'semanticTokensProvider');\n})(SemanticTokensRequest || (exports.SemanticTokensRequest = SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n    SemanticTokensDeltaRequest.capabilities = messages_1.CM.create('textDocument.semanticTokens.requests.full.delta', 'semanticTokensProvider.full.delta');\n})(SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n    SemanticTokensRangeRequest.capabilities = messages_1.CM.create('textDocument.semanticTokens.requests.range', 'semanticTokensProvider.range');\n})(SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n    SemanticTokensRefreshRequest.capabilities = messages_1.CM.create('workspace.semanticTokens.refreshSupport', undefined);\n})(SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = SemanticTokensRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensDiff = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensDiff {\n    originalSequence;\n    modifiedSequence;\n    constructor(originalSequence, modifiedSequence) {\n        this.originalSequence = originalSequence;\n        this.modifiedSequence = modifiedSequence;\n    }\n    computeDiff() {\n        const originalLength = this.originalSequence.length;\n        const modifiedLength = this.modifiedSequence.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && this.originalSequence[startIndex] === this.modifiedSequence[startIndex]) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= startIndex && modifiedEndIndex >= startIndex && this.originalSequence[originalEndIndex] === this.modifiedSequence[modifiedEndIndex]) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            // if one moved behind the start index move them forward again\n            if (originalEndIndex < startIndex || modifiedEndIndex < startIndex) {\n                originalEndIndex++;\n                modifiedEndIndex++;\n            }\n            const deleteCount = originalEndIndex - startIndex + 1;\n            const newData = this.modifiedSequence.slice(startIndex, modifiedEndIndex + 1);\n            // If we moved behind the start index we could have missed a simple delete.\n            if (newData.length === 1 && newData[0] === this.originalSequence[originalEndIndex]) {\n                return [\n                    { start: startIndex, deleteCount: deleteCount - 1 }\n                ];\n            }\n            else {\n                return [\n                    { start: startIndex, deleteCount, data: newData }\n                ];\n            }\n        }\n        else if (startIndex < modifiedLength) {\n            return [\n                { start: startIndex, deleteCount: 0, data: this.modifiedSequence.slice(startIndex) }\n            ];\n        }\n        else if (startIndex < originalLength) {\n            return [\n                { start: startIndex, deleteCount: originalLength - startIndex }\n            ];\n        }\n        else {\n            // The two arrays are the same.\n            return [];\n        }\n    }\n}\nexports.SemanticTokensDiff = SemanticTokensDiff;\nclass SemanticTokensBuilder {\n    _id;\n    _prevLine;\n    _prevChar;\n    _dataIsSortedAndDeltaEncoded;\n    _data;\n    _dataNonDelta;\n    _dataLen;\n    _prevData;\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataNonDelta = [];\n        this._dataLen = 0;\n        this._dataIsSortedAndDeltaEncoded = true;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        if (this._dataIsSortedAndDeltaEncoded && (line < this._prevLine || (line === this._prevLine && char < this._prevChar))) {\n            // push calls were ordered and are no longer ordered\n            this._dataIsSortedAndDeltaEncoded = false;\n            this._dataNonDelta = SemanticTokensBuilder._deltaDecode(this._data);\n        }\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataIsSortedAndDeltaEncoded && this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        const dataSource = this._dataIsSortedAndDeltaEncoded ? this._data : this._dataNonDelta;\n        dataSource[this._dataLen++] = pushLine;\n        dataSource[this._dataLen++] = pushChar;\n        dataSource[this._dataLen++] = length;\n        dataSource[this._dataLen++] = tokenType;\n        dataSource[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    static _deltaDecode(data) {\n        // Remove delta encoding from data\n        const tokenCount = (data.length / 5) | 0;\n        let prevLine = 0;\n        let prevChar = 0;\n        const result = [];\n        for (let i = 0; i < tokenCount; i++) {\n            const dstOffset = 5 * i;\n            let line = data[dstOffset];\n            let char = data[dstOffset + 1];\n            if (line === 0) {\n                // on the same line as previous token\n                line = prevLine;\n                char += prevChar;\n            }\n            else {\n                // on a different line than previous token\n                line += prevLine;\n            }\n            const length = data[dstOffset + 2];\n            const tokenType = data[dstOffset + 3];\n            const tokenModifiers = data[dstOffset + 4];\n            result[dstOffset + 0] = line;\n            result[dstOffset + 1] = char;\n            result[dstOffset + 2] = length;\n            result[dstOffset + 3] = tokenType;\n            result[dstOffset + 4] = tokenModifiers;\n            prevLine = line;\n            prevChar = char;\n        }\n        return result;\n    }\n    static _sortAndDeltaEncode(data) {\n        const pos = [];\n        const tokenCount = (data.length / 5) | 0;\n        for (let i = 0; i < tokenCount; i++) {\n            pos[i] = i;\n        }\n        pos.sort((a, b) => {\n            const aLine = data[5 * a];\n            const bLine = data[5 * b];\n            if (aLine === bLine) {\n                const aChar = data[5 * a + 1];\n                const bChar = data[5 * b + 1];\n                return aChar - bChar;\n            }\n            return aLine - bLine;\n        });\n        const result = [];\n        let prevLine = 0;\n        let prevChar = 0;\n        for (let i = 0; i < tokenCount; i++) {\n            const srcOffset = 5 * pos[i];\n            const line = data[srcOffset + 0];\n            const char = data[srcOffset + 1];\n            const length = data[srcOffset + 2];\n            const tokenType = data[srcOffset + 3];\n            const tokenModifiers = data[srcOffset + 4];\n            const pushLine = line - prevLine;\n            const pushChar = (pushLine === 0 ? char - prevChar : char);\n            const dstOffset = 5 * i;\n            result[dstOffset + 0] = pushLine;\n            result[dstOffset + 1] = pushChar;\n            result[dstOffset + 2] = length;\n            result[dstOffset + 3] = tokenType;\n            result[dstOffset + 4] = tokenModifiers;\n            prevLine = line;\n            prevChar = char;\n        }\n        return result;\n    }\n    getFinalDataDelta() {\n        if (this._dataIsSortedAndDeltaEncoded) {\n            return this._data;\n        }\n        else {\n            return SemanticTokensBuilder._sortAndDeltaEncode(this._dataNonDelta);\n        }\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this.getFinalDataDelta();\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this.getFinalDataDelta()\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            return {\n                resultId: this.id,\n                edits: (new SemanticTokensDiff(this._prevData, this.getFinalDataDelta())).computeDiff()\n            };\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event || (exports.Event = Event = {}));\nclass CallbackList {\n    _callbacks;\n    _contexts;\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    _options;\n    static _noop = function () { };\n    _event;\n    _callbacks;\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress || (exports.WorkDoneProgress = WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n    WorkDoneProgressCreateRequest.capabilities = messages_1.CM.create('window.workDoneProgress', undefined);\n})(WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = WorkDoneProgressCancelNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                return handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                return handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                return handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.NotebookDocuments = exports.TextDocuments = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\nconst ic = __importStar(require(\"./inlineCompletion.proposed\"));\nconst tdc = __importStar(require(\"./textDocumentContent\"));\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\nconst textDocuments_1 = require(\"./textDocuments\");\nObject.defineProperty(exports, \"TextDocuments\", { enumerable: true, get: function () { return textDocuments_1.TextDocuments; } });\nconst notebook_1 = require(\"./notebook\");\nObject.defineProperty(exports, \"NotebookDocuments\", { enumerable: true, get: function () { return notebook_1.NotebookDocuments; } });\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features',\n        workspace: tdc.TextDocumentContentFeature,\n        languages: ic.InlineCompletionFeature\n    };\n})(ProposedFeatures || (exports.ProposedFeatures = ProposedFeatures = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type {@link FoldingRangeParams}, the\n * response is of type {@link FoldingRangeList} or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n    FoldingRangeRequest.capabilities = messages_1.CM.create('textDocument.foldingRange', 'foldingRangeProvider');\n})(FoldingRangeRequest || (exports.FoldingRangeRequest = FoldingRangeRequest = {}));\n/**\n * @since 3.18.0\n * @proposed\n */\nvar FoldingRangeRefreshRequest;\n(function (FoldingRangeRefreshRequest) {\n    FoldingRangeRefreshRequest.method = `workspace/foldingRange/refresh`;\n    FoldingRangeRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    FoldingRangeRefreshRequest.type = new messages_1.ProtocolRequestType0(FoldingRangeRefreshRequest.method);\n    FoldingRangeRefreshRequest.capabilities = messages_1.CM.create('workspace.foldingRange.refreshSupport', undefined);\n})(FoldingRangeRefreshRequest || (exports.FoldingRangeRefreshRequest = FoldingRangeRefreshRequest = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressFeature = void 0;\nexports.attachWorkDone = attachWorkDone;\nexports.attachPartialResult = attachPartialResult;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    _connection;\n    _token;\n    static Instances = new Map();\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        const param = {\n            kind: 'begin',\n            title,\n            message,\n            cancellable\n        };\n        if (typeof percentage === 'number') {\n            // Round to the nearest integer, because the percentage\n            // is a uinteger according to the specification\n            param.percentage = Math.round(percentage);\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        const param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            // Round to the nearest integer, because the percentage\n            // is a uinteger according to the specification\n            param.percentage = Math.round(arg0);\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    _source;\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    _source;\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        _progressSupported;\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            if (capabilities?.window?.workDoneProgress === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    const progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = (0, uuid_1.generateUuid)();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    _connection;\n    _token;\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type {@link InlineValueParams}, the response is of type\n * {@link InlineValue InlineValue[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n    InlineValueRequest.capabilities = messages_1.CM.create('textDocument.inlineValue', 'inlineValueProvider');\n})(InlineValueRequest || (exports.InlineValueRequest = InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n    InlineValueRefreshRequest.capabilities = messages_1.CM.create('workspace.inlineValue.refreshSupport', undefined);\n})(InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = InlineValueRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nconst Is = __importStar(require(\"./is\"));\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter || (exports.MessageWriter = MessageWriter = {}));\nclass AbstractMessageWriter {\n    errorEmitter;\n    closeEmitter;\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    writable;\n    options;\n    errorCount;\n    writeSemaphore;\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" preserve=\"true\"/>\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.AbstractMessageBuffer = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.RequestCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.TraceValue = exports.Trace = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst sharedArrayCancellation_1 = require(\"./sharedArrayCancellation\");\nObject.defineProperty(exports, \"SharedArraySenderStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArraySenderStrategy; } });\nObject.defineProperty(exports, \"SharedArrayReceiverStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArrayReceiverStrategy; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst messageBuffer_1 = require(\"./messageBuffer\");\nObject.defineProperty(exports, \"AbstractMessageBuffer\", { enumerable: true, get: function () { return messageBuffer_1.AbstractMessageBuffer; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValue\", { enumerable: true, get: function () { return connection_1.TraceValue; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"IdCancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.IdCancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"RequestCancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.RequestCancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nObject.defineProperty(exports, \"MessageStrategy\", { enumerable: true, get: function () { return connection_1.MessageStrategy; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nconst ral_1 = __importDefault(require(\"./ral\"));\nexports.RAL = ral_1.default;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline completions in a document. The request's parameter is of\n * type {@link InlineCompletionParams}, the response is of type\n * {@link InlineCompletion InlineCompletion[]} or a Thenable that resolves to such.\n *\n * @since 3.18.0\n * @proposed\n */\nvar InlineCompletionRequest;\n(function (InlineCompletionRequest) {\n    InlineCompletionRequest.method = 'textDocument/inlineCompletion';\n    InlineCompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineCompletionRequest.type = new messages_1.ProtocolRequestType(InlineCompletionRequest.method);\n    InlineCompletionRequest.capabilities = messages_1.CM.create('textDocument.inlineCompletion', 'inlineCompletionProvider');\n})(InlineCompletionRequest || (exports.InlineCompletionRequest = InlineCompletionRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch || (exports.Touch = Touch = {}));\nclass LinkedMap {\n    [Symbol.toStringTag] = 'LinkedMap';\n    _map;\n    _head;\n    _tail;\n    _size;\n    _state;\n    constructor() {\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    before(key) {\n        const item = this._map.get(key);\n        return item ? item.previous?.value : undefined;\n    }\n    after(key) {\n        const item = this._map.get(key);\n        return item ? item.next?.value : undefined;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    _limit;\n    _ratio;\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type {@link SelectionRangeParams}, the\n * response is of type {@link SelectionRange SelectionRange[]} or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n    SelectionRangeRequest.capabilities = messages_1.CM.create('textDocument.selectionRange', 'selectionRangeProvider');\n})(SelectionRangeRequest || (exports.SelectionRangeRequest = SelectionRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = __importStar(require(\"./utils/is\"));\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind || (exports.NotebookCellKind = NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary || (exports.ExecutionSummary = ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell || (exports.NotebookCell = NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument || (exports.NotebookDocument = NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange || (exports.NotebookCellArrayChange = NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = DidCloseNotebookDocumentNotification = {}));\n","'use strict'\n\nconst debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const match = `-${identifier}`.match(this.options.loose ? re[t.PRERELEASELOOSE] : re[t.PRERELEASE])\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSystem = void 0;\nexports.uriToFilePath = uriToFilePath;\nexports.resolve = resolve;\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\nexports.resolveModulePath = resolveModulePath;\nconst url = __importStar(require(\"url\"));\nconst path = __importStar(require(\"path\"));\nconst fs = __importStar(require(\"fs\"));\nconst child_process_1 = require(\"child_process\");\n/**\n * @deprecated Use the `vscode-uri` npm module which provides a more\n * complete implementation of handling VS Code URIs.\n */\nfunction uriToFilePath(uri) {\n    const parsed = url.parse(uri);\n    if (parsed.protocol !== 'file:' || !parsed.path) {\n        return undefined;\n    }\n    const segments = parsed.path.split('/');\n    for (let i = 0, len = segments.length; i < len; i++) {\n        segments[i] = decodeURIComponent(segments[i]);\n    }\n    if (process.platform === 'win32' && segments.length > 1) {\n        const first = segments[0];\n        const second = segments[1];\n        // Do we have a drive letter and we started with a / which is the\n        // case if the first segement is empty (see split above)\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\n            // Remove first slash\n            segments.shift();\n        }\n    }\n    return path.normalize(segments.join('/'));\n}\nfunction isWindows() {\n    return process.platform === 'win32';\n}\nfunction resolve(moduleName, nodePath, cwd, tracer) {\n    const nodePathKey = 'NODE_PATH';\n    const app = [\n        'var p = process;',\n        'p.on(\\'message\\',function(m){',\n        'if(m.c===\\'e\\'){',\n        'p.exit(0);',\n        '}',\n        'else if(m.c===\\'rs\\'){',\n        'try{',\n        'var r=require.resolve(m.a);',\n        'p.send({c:\\'r\\',s:true,r:r});',\n        '}',\n        'catch(err){',\n        'p.send({c:\\'r\\',s:false});',\n        '}',\n        '}',\n        '});'\n    ].join('');\n    return new Promise((resolve, reject) => {\n        const env = process.env;\n        const newEnv = Object.create(null);\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\n            if (newEnv[nodePathKey]) {\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\n            }\n            else {\n                newEnv[nodePathKey] = nodePath;\n            }\n            if (tracer) {\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\n            }\n        }\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\n        try {\n            const cp = (0, child_process_1.fork)('', [], {\n                cwd: cwd,\n                env: newEnv,\n                execArgv: ['-e', app]\n            });\n            if (cp.pid === void 0) {\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\n                return;\n            }\n            cp.on('error', (error) => {\n                reject(error);\n            });\n            cp.on('message', (message) => {\n                if (message.c === 'r') {\n                    cp.send({ c: 'e' });\n                    if (message.s) {\n                        resolve(message.r);\n                    }\n                    else {\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\n                    }\n                }\n            });\n            const message = {\n                c: 'rs',\n                a: moduleName\n            };\n            cp.send(message);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\n/**\n * Resolve the global npm package path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalNodePath(tracer) {\n    let npmCommand = 'npm';\n    const env = Object.create(null);\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\n    env['NO_UPDATE_NOTIFIER'] = 'true';\n    const options = {\n        encoding: 'utf8',\n        env\n    };\n    if (isWindows()) {\n        npmCommand = 'npm.cmd';\n        options.shell = true;\n    }\n    const handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        const stdout = (0, child_process_1.spawnSync)(npmCommand, ['config', 'get', 'prefix'], options).stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'npm config get prefix' didn't return a value.`);\n            }\n            return undefined;\n        }\n        const prefix = stdout.trim();\n        if (tracer) {\n            tracer(`'npm config get prefix' value is: ${prefix}`);\n        }\n        if (prefix.length > 0) {\n            if (isWindows()) {\n                return path.join(prefix, 'node_modules');\n            }\n            else {\n                return path.join(prefix, 'lib', 'node_modules');\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\n/*\n * Resolve the global yarn pakage path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalYarnPath(tracer) {\n    let yarnCommand = 'yarn';\n    const options = {\n        encoding: 'utf8'\n    };\n    if (isWindows()) {\n        yarnCommand = 'yarn.cmd';\n        options.shell = true;\n    }\n    const handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        const results = (0, child_process_1.spawnSync)(yarnCommand, ['global', 'dir', '--json'], options);\n        const stdout = results.stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'yarn global dir' didn't return a value.`);\n                if (results.stderr) {\n                    tracer(results.stderr);\n                }\n            }\n            return undefined;\n        }\n        const lines = stdout.trim().split(/\\r?\\n/);\n        for (const line of lines) {\n            try {\n                const yarn = JSON.parse(line);\n                if (yarn.type === 'log') {\n                    return path.join(yarn.data, 'node_modules');\n                }\n            }\n            catch (e) {\n                // Do nothing. Ignore the line\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nvar FileSystem;\n(function (FileSystem) {\n    let _isCaseSensitive = undefined;\n    function isCaseSensitive() {\n        if (_isCaseSensitive !== void 0) {\n            return _isCaseSensitive;\n        }\n        if (process.platform === 'win32') {\n            _isCaseSensitive = false;\n        }\n        else {\n            // convert current file name to upper case / lower case and check if file exists\n            // (guards against cases when name is already all uppercase or lowercase)\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\n        }\n        return _isCaseSensitive;\n    }\n    FileSystem.isCaseSensitive = isCaseSensitive;\n    function isParent(parent, child) {\n        if (isCaseSensitive()) {\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\n        }\n        else {\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\n        }\n    }\n    FileSystem.isParent = isParent;\n})(FileSystem || (exports.FileSystem = FileSystem = {}));\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\n    if (nodePath) {\n        if (!path.isAbsolute(nodePath)) {\n            nodePath = path.join(workspaceRoot, nodePath);\n        }\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\n            if (FileSystem.isParent(nodePath, value)) {\n                return value;\n            }\n            else {\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\n            }\n        }).then(undefined, (_error) => {\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n        });\n    }\n    else {\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n    }\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable || (exports.Disposable = Disposable = {}));\n","'use strict'\n\nconst compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocumentContentRefreshRequest = exports.TextDocumentContentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/textDocumentContent` request is sent from the client to the\n * server to request the content of a text document.\n *\n * @since 3.18.0\n * @proposed\n */\nvar TextDocumentContentRequest;\n(function (TextDocumentContentRequest) {\n    TextDocumentContentRequest.method = 'workspace/textDocumentContent';\n    TextDocumentContentRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TextDocumentContentRequest.type = new messages_1.ProtocolRequestType(TextDocumentContentRequest.method);\n    TextDocumentContentRequest.capabilities = messages_1.CM.create('workspace.textDocumentContent', 'workspace.textDocumentContent');\n})(TextDocumentContentRequest || (exports.TextDocumentContentRequest = TextDocumentContentRequest = {}));\n/**\n * The `workspace/textDocumentContent` request is sent from the server to the client to refresh\n * the content of a specific text document.\n *\n * @since 3.18.0\n * @proposed\n */\nvar TextDocumentContentRefreshRequest;\n(function (TextDocumentContentRefreshRequest) {\n    TextDocumentContentRefreshRequest.method = `workspace/textDocumentContent/refresh`;\n    TextDocumentContentRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    TextDocumentContentRefreshRequest.type = new messages_1.ProtocolRequestType(TextDocumentContentRefreshRequest.method);\n})(TextDocumentContentRefreshRequest || (exports.TextDocumentContentRefreshRequest = TextDocumentContentRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nclass Semaphore {\n    _capacity;\n    _active;\n    _waiting;\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`Too many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport { NotificationType, NotificationType0, RequestType, TextDocumentIdentifier } from 'vscode-languageserver-protocol';\n\nexport enum Status {\n\tok = 1,\n\twarn = 2,\n\terror = 3\n}\n\nexport type StatusParams = {\n\turi: string;\n\tstate: Status;\n\tvalidationTime?: number;\n};\n\n/**\n * The status notification is sent from the server to the client to\n * inform the client about server status changes.\n */\nexport namespace StatusNotification {\n\texport const method: 'eslint/status' = 'eslint/status';\n\texport const type = new NotificationType<StatusParams>(method);\n}\n\nexport type NoConfigParams = {\n\tmessage: string;\n\tdocument: TextDocumentIdentifier;\n};\n\nexport type NoConfigResult = {\n};\n\n/**\n * The NoConfigRequest is sent from the server to the client to inform\n * the client that no eslint configuration file could be found when\n * trying to lint a file.\n */\nexport namespace NoConfigRequest {\n\texport const method: 'eslint/noConfig' = 'eslint/noConfig';\n\texport const type = new RequestType<NoConfigParams, NoConfigResult, void>(method);\n}\n\nexport type NoESLintLibraryParams = {\n\tsource: TextDocumentIdentifier;\n};\n\nexport type NoESLintLibraryResult = {\n};\n\n/**\n * The NoESLintLibraryRequest is sent from the server to the client to\n * inform the client that no eslint library could be found when trying\n * to lint a file.\n */\nexport namespace NoESLintLibraryRequest {\n\texport const method: 'eslint/noLibrary' = 'eslint/noLibrary';\n\texport const type = new RequestType<NoESLintLibraryParams, NoESLintLibraryResult, void>(method);\n}\n\nexport type OpenESLintDocParams = {\n\turl: string;\n};\n\nexport type OpenESLintDocResult = {\n};\n\n/**\n * The eslint/openDoc request is sent from the server to the client to\n * ask the client to open the documentation URI for a given\n * ESLint rule.\n */\nexport namespace OpenESLintDocRequest {\n\texport const method: 'eslint/openDoc' = 'eslint/openDoc';\n\texport const type = new RequestType<OpenESLintDocParams, OpenESLintDocResult, void>(method);\n}\n\nexport type ProbeFailedParams = {\n\ttextDocument: TextDocumentIdentifier;\n};\n\n/**\n * The eslint/probeFailed request is sent from the server to the client\n * to tell the client the the lint probing for a certain document has\n * failed and that there is no need to sync that document to the server\n * anymore.\n */\nexport namespace ProbeFailedRequest {\n\texport const method: 'eslint/probeFailed' = 'eslint/probeFailed';\n\texport const type = new RequestType<ProbeFailedParams, void, void>(method);\n}\n\n/**\n * The eslint/showOutputChannel notification is sent from the server to\n * the client to ask the client to reveal it's output channel.\n */\nexport namespace ShowOutputChannel {\n\texport const method: 'eslint/showOutputChannel' = 'eslint/showOutputChannel';\n\texport const type = new NotificationType0('eslint/showOutputChannel');\n}\n\n/**\n * The eslint/exitCalled notification is sent from the server to the client\n * to inform the client that a process.exit call on the server got intercepted.\n * The call was very likely made by an ESLint plugin.\n */\nexport namespace ExitCalled {\n\texport const method: 'eslint/exitCalled' = 'eslint/exitCalled';\n\texport const type = new NotificationType<[number, string]>(method);\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlayHintFeature = (Base) => {\n    return class extends Base {\n        get inlayHint() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                },\n                resolve: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlayHintFeature = InlayHintFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = void 0;\nconst cancellation_1 = require(\"./cancellation\");\nvar CancellationState;\n(function (CancellationState) {\n    CancellationState.Continue = 0;\n    CancellationState.Cancelled = 1;\n})(CancellationState || (CancellationState = {}));\nclass SharedArraySenderStrategy {\n    buffers;\n    constructor() {\n        this.buffers = new Map();\n    }\n    enableCancellation(request) {\n        if (request.id === null) {\n            return;\n        }\n        const buffer = new SharedArrayBuffer(4);\n        const data = new Int32Array(buffer, 0, 1);\n        data[0] = CancellationState.Continue;\n        this.buffers.set(request.id, buffer);\n        request.$cancellationData = buffer;\n    }\n    async sendCancellation(_conn, id) {\n        const buffer = this.buffers.get(id);\n        if (buffer === undefined) {\n            return;\n        }\n        const data = new Int32Array(buffer, 0, 1);\n        Atomics.store(data, 0, CancellationState.Cancelled);\n    }\n    cleanup(id) {\n        this.buffers.delete(id);\n    }\n    dispose() {\n        this.buffers.clear();\n    }\n}\nexports.SharedArraySenderStrategy = SharedArraySenderStrategy;\nclass SharedArrayBufferCancellationToken {\n    data;\n    constructor(buffer) {\n        this.data = new Int32Array(buffer, 0, 1);\n    }\n    get isCancellationRequested() {\n        return Atomics.load(this.data, 0) === CancellationState.Cancelled;\n    }\n    get onCancellationRequested() {\n        throw new Error(`Cancellation over SharedArrayBuffer doesn't support cancellation events`);\n    }\n}\nclass SharedArrayBufferCancellationTokenSource {\n    token;\n    constructor(buffer) {\n        this.token = new SharedArrayBufferCancellationToken(buffer);\n    }\n    cancel() {\n    }\n    dispose() {\n    }\n}\nclass SharedArrayReceiverStrategy {\n    kind = 'request';\n    createCancellationTokenSource(request) {\n        const buffer = request.$cancellationData;\n        if (buffer === undefined) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n        return new SharedArrayBufferCancellationTokenSource(buffer);\n    }\n}\nexports.SharedArrayReceiverStrategy = SharedArrayReceiverStrategy;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TypeHierarchyFeature = (Base) => {\n    return class extends Base {\n        get typeHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onSupertypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onSubtypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(changes, version) {\n        for (const change of changes) {\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                const range = getWellformedRange(change.range);\n                // update content\n                const startOffset = this.offsetAt(range.start);\n                const endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                const startLine = Math.max(range.start.line, 0);\n                const endLine = Math.max(range.end.line, 0);\n                let lineOffsets = this._lineOffsets;\n                const addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (let i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice(startLine + 1, endLine - startLine, ...addedLineOffsets);\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                const diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (let i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        const lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            const mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        const line = low - 1;\n        offset = this.ensureBeforeEOL(offset, lineOffsets[line]);\n        return { line, character: offset - lineOffsets[line] };\n    }\n    offsetAt(position) {\n        const lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        const lineOffset = lineOffsets[position.line];\n        if (position.character <= 0) {\n            return lineOffset;\n        }\n        const nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        const offset = Math.min(lineOffset + position.character, nextLineOffset);\n        return this.ensureBeforeEOL(offset, lineOffset);\n    }\n    ensureBeforeEOL(offset, lineOffset) {\n        while (offset > lineOffset && isEOL(this._content.charCodeAt(offset - 1))) {\n            offset--;\n        }\n        return offset;\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n    static isIncremental(event) {\n        const candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    static isFull(event) {\n        const candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n}\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifying its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @param version the changes version for the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        const text = document.getText();\n        const sortedEdits = mergeSort(edits.map(getWellformedEdit), (a, b) => {\n            const diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = 0;\n        const spans = [];\n        for (const e of sortedEdits) {\n            const startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    const p = (data.length / 2) | 0;\n    const left = data.slice(0, p);\n    const right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    let leftIdx = 0;\n    let rightIdx = 0;\n    let i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        const ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset = 0) {\n    const result = isAtLineStart ? [textOffset] : [];\n    for (let i = 0; i < text.length; i++) {\n        const ch = text.charCodeAt(i);\n        if (isEOL(ch)) {\n            if (ch === 13 /* CharCode.CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* CharCode.LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction isEOL(char) {\n    return char === 13 /* CharCode.CarriageReturn */ || char === 10 /* CharCode.LineFeed */;\n}\nfunction getWellformedRange(range) {\n    const start = range.start;\n    const end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    const range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range };\n    }\n    return textEdit;\n}\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n    LinkedEditingRangeRequest.capabilities = messages_1.CM.create('textDocument.linkedEditingRange', 'linkedEditingRangeProvider');\n})(LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = LinkedEditingRangeRequest = {}));\n","module.exports = require(\"child_process\");","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\n// This should either come from LSP or VS Code. That we repeat this is bogus.\n\ntype LanguageConfig = {\n\text: string;\n\tlineComment: string;\n\tblockComment: [string, string];\n};\n\nconst languageId2Config: Map<string, LanguageConfig> = new Map([\n\t['javascript', { ext: 'js', lineComment: '//', blockComment: ['/*', '*/'] }],\n\t['javascriptreact', { ext: 'jsx', lineComment: '//', blockComment: ['/*', '*/'] }],\n\t['typescript', { ext: 'ts', lineComment: '//', blockComment: ['/*', '*/'] } ],\n\t['typescriptreact', { ext: 'tsx', lineComment: '//', blockComment: ['/*', '*/'] } ],\n\t['html', { ext: 'html', lineComment: '//', blockComment: ['<!--', '-->'] }],\n\t['vue', { ext: 'vue', lineComment: '//', blockComment: ['<!--', '-->'] }],\n\t['coffeescript', { ext: 'coffee', lineComment: '#', blockComment: ['###', '###'] }],\n\t['yaml', { ext: 'yaml', lineComment: '#', blockComment: ['#', ''] }],\n\t['graphql', { ext: 'graphql', lineComment: '#', blockComment: ['#', ''] }]\n]);\n\nnamespace LanguageDefaults {\n\texport function getLineComment(languageId: string): string {\n\t\treturn languageId2Config.get(languageId)?.lineComment ?? '//';\n\t}\n\n\texport function getBlockComment(languageId: string): [string, string] {\n\t\treturn languageId2Config.get(languageId)?.blockComment ?? ['/**', '*/'];\n\t}\n\n\texport function getExtension(languageId: string): string | undefined {\n\t\treturn languageId2Config.get(languageId)?.ext;\n\t}\n}\n\nexport default LanguageDefaults;","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\ninterface Item<K, V> {\n\tprevious: Item<K, V> | undefined;\n\tnext: Item<K, V> | undefined;\n\tkey: K;\n\tvalue: V;\n}\n\nexport namespace Touch {\n\texport const None: 0 = 0;\n\texport const First: 1 = 1;\n\texport const AsOld: 1 = Touch.First;\n\texport const Last: 2 = 2;\n\texport const AsNew: 2 = Touch.Last;\n}\n\nexport type Touch = 0 | 1 | 2;\n\nexport class LinkedMap<K, V> implements Map<K, V> {\n\n\treadonly [Symbol.toStringTag] = 'LinkedMap';\n\n\tprivate _map: Map<K, Item<K, V>>;\n\tprivate _head: Item<K, V> | undefined;\n\tprivate _tail: Item<K, V> | undefined;\n\tprivate _size: number;\n\n\tprivate _state: number;\n\n\tpublic constructor() {\n\t\tthis._map = new Map<K, Item<K, V>>();\n\t\tthis._head = undefined;\n\t\tthis._tail = undefined;\n\t\tthis._size = 0;\n\t\tthis._state = 0;\n\t}\n\n\tpublic clear(): void {\n\t\tthis._map.clear();\n\t\tthis._head = undefined;\n\t\tthis._tail = undefined;\n\t\tthis._size = 0;\n\t\tthis._state++;\n\t}\n\n\tpublic isEmpty(): boolean {\n\t\treturn !this._head && !this._tail;\n\t}\n\n\tpublic get size(): number {\n\t\treturn this._size;\n\t}\n\n\tpublic get first(): V | undefined {\n\t\treturn this._head?.value;\n\t}\n\n\tpublic get last(): V | undefined {\n\t\treturn this._tail?.value;\n\t}\n\n\tpublic has(key: K): boolean {\n\t\treturn this._map.has(key);\n\t}\n\n\tpublic get(key: K, touch: Touch = Touch.None): V | undefined {\n\t\tconst item = this._map.get(key);\n\t\tif (!item) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (touch !== Touch.None) {\n\t\t\tthis.touch(item, touch);\n\t\t}\n\t\treturn item.value;\n\t}\n\n\tpublic set(key: K, value: V, touch: Touch = Touch.None): this {\n\t\tlet item = this._map.get(key);\n\t\tif (item) {\n\t\t\titem.value = value;\n\t\t\tif (touch !== Touch.None) {\n\t\t\t\tthis.touch(item, touch);\n\t\t\t}\n\t\t} else {\n\t\t\titem = { key, value, next: undefined, previous: undefined };\n\t\t\tswitch (touch) {\n\t\t\t\tcase Touch.None:\n\t\t\t\t\tthis.addItemLast(item);\n\t\t\t\t\tbreak;\n\t\t\t\tcase Touch.First:\n\t\t\t\t\tthis.addItemFirst(item);\n\t\t\t\t\tbreak;\n\t\t\t\tcase Touch.Last:\n\t\t\t\t\tthis.addItemLast(item);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.addItemLast(item);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._map.set(key, item);\n\t\t\tthis._size++;\n\t\t}\n\t\treturn this;\n\t}\n\n\tpublic delete(key: K): boolean {\n\t\treturn !!this.remove(key);\n\t}\n\n\tpublic remove(key: K): V | undefined {\n\t\tconst item = this._map.get(key);\n\t\tif (!item) {\n\t\t\treturn undefined;\n\t\t}\n\t\tthis._map.delete(key);\n\t\tthis.removeItem(item);\n\t\tthis._size--;\n\t\treturn item.value;\n\t}\n\n\tpublic shift(): V | undefined {\n\t\tif (!this._head && !this._tail) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (!this._head || !this._tail) {\n\t\t\tthrow new Error('Invalid list');\n\t\t}\n\t\tconst item = this._head;\n\t\tthis._map.delete(item.key);\n\t\tthis.removeItem(item);\n\t\tthis._size--;\n\t\treturn item.value;\n\t}\n\n\tpublic forEach(callbackfn: (value: V, key: K, map: LinkedMap<K, V>) => void, thisArg?: any): void {\n\t\tconst state = this._state;\n\t\tlet current = this._head;\n\t\twhile (current) {\n\t\t\tif (thisArg) {\n\t\t\t\tcallbackfn.bind(thisArg)(current.value, current.key, this);\n\t\t\t} else {\n\t\t\t\tcallbackfn(current.value, current.key, this);\n\t\t\t}\n\t\t\tif (this._state !== state) {\n\t\t\t\tthrow new Error(`LinkedMap got modified during iteration.`);\n\t\t\t}\n\t\t\tcurrent = current.next;\n\t\t}\n\t}\n\n\tpublic keys(): IterableIterator<K> {\n\t\tconst map = this;\n\t\tconst state = this._state;\n\t\tlet current = this._head;\n\t\tconst iterator: IterableIterator<K> = {\n\t\t\t[Symbol.iterator]() {\n\t\t\t\treturn iterator;\n\t\t\t},\n\t\t\tnext(): IteratorResult<K> {\n\t\t\t\tif (map._state !== state) {\n\t\t\t\t\tthrow new Error(`LinkedMap got modified during iteration.`);\n\t\t\t\t}\n\t\t\t\tif (current) {\n\t\t\t\t\tconst result = { value: current.key, done: false };\n\t\t\t\t\tcurrent = current.next;\n\t\t\t\t\treturn result;\n\t\t\t\t} else {\n\t\t\t\t\treturn { value: undefined, done: true };\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn iterator;\n\t}\n\n\tpublic values(): IterableIterator<V> {\n\t\tconst map = this;\n\t\tconst state = this._state;\n\t\tlet current = this._head;\n\t\tconst iterator: IterableIterator<V> = {\n\t\t\t[Symbol.iterator]() {\n\t\t\t\treturn iterator;\n\t\t\t},\n\t\t\tnext(): IteratorResult<V> {\n\t\t\t\tif (map._state !== state) {\n\t\t\t\t\tthrow new Error(`LinkedMap got modified during iteration.`);\n\t\t\t\t}\n\t\t\t\tif (current) {\n\t\t\t\t\tconst result = { value: current.value, done: false };\n\t\t\t\t\tcurrent = current.next;\n\t\t\t\t\treturn result;\n\t\t\t\t} else {\n\t\t\t\t\treturn { value: undefined, done: true };\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn iterator;\n\t}\n\n\tpublic entries(): IterableIterator<[K, V]> {\n\t\tconst map = this;\n\t\tconst state = this._state;\n\t\tlet current = this._head;\n\t\tconst iterator: IterableIterator<[K, V]> = {\n\t\t\t[Symbol.iterator]() {\n\t\t\t\treturn iterator;\n\t\t\t},\n\t\t\tnext(): IteratorResult<[K, V]> {\n\t\t\t\tif (map._state !== state) {\n\t\t\t\t\tthrow new Error(`LinkedMap got modified during iteration.`);\n\t\t\t\t}\n\t\t\t\tif (current) {\n\t\t\t\t\tconst result: IteratorResult<[K, V]> = { value: [current.key, current.value], done: false };\n\t\t\t\t\tcurrent = current.next;\n\t\t\t\t\treturn result;\n\t\t\t\t} else {\n\t\t\t\t\treturn { value: undefined, done: true };\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn iterator;\n\t}\n\n\tpublic [Symbol.iterator](): IterableIterator<[K, V]> {\n\t\treturn this.entries();\n\t}\n\n\tprotected trimOld(newSize: number) {\n\t\tif (newSize >= this.size) {\n\t\t\treturn;\n\t\t}\n\t\tif (newSize === 0) {\n\t\t\tthis.clear();\n\t\t\treturn;\n\t\t}\n\t\tlet current = this._head;\n\t\tlet currentSize = this.size;\n\t\twhile (current && currentSize > newSize) {\n\t\t\tthis._map.delete(current.key);\n\t\t\tcurrent = current.next;\n\t\t\tcurrentSize--;\n\t\t}\n\t\tthis._head = current;\n\t\tthis._size = currentSize;\n\t\tif (current) {\n\t\t\tcurrent.previous = undefined;\n\t\t}\n\t\tthis._state++;\n\t}\n\n\tprivate addItemFirst(item: Item<K, V>): void {\n\t\t// First time Insert\n\t\tif (!this._head && !this._tail) {\n\t\t\tthis._tail = item;\n\t\t} else if (!this._head) {\n\t\t\tthrow new Error('Invalid list');\n\t\t} else {\n\t\t\titem.next = this._head;\n\t\t\tthis._head.previous = item;\n\t\t}\n\t\tthis._head = item;\n\t\tthis._state++;\n\t}\n\n\tprivate addItemLast(item: Item<K, V>): void {\n\t\t// First time Insert\n\t\tif (!this._head && !this._tail) {\n\t\t\tthis._head = item;\n\t\t} else if (!this._tail) {\n\t\t\tthrow new Error('Invalid list');\n\t\t} else {\n\t\t\titem.previous = this._tail;\n\t\t\tthis._tail.next = item;\n\t\t}\n\t\tthis._tail = item;\n\t\tthis._state++;\n\t}\n\n\tprivate removeItem(item: Item<K, V>): void {\n\t\tif (item === this._head && item === this._tail) {\n\t\t\tthis._head = undefined;\n\t\t\tthis._tail = undefined;\n\t\t}\n\t\telse if (item === this._head) {\n\t\t\t// This can only happen if size === 1 which is handled\n\t\t\t// by the case above.\n\t\t\tif (!item.next) {\n\t\t\t\tthrow new Error('Invalid list');\n\t\t\t}\n\t\t\titem.next.previous = undefined;\n\t\t\tthis._head = item.next;\n\t\t}\n\t\telse if (item === this._tail) {\n\t\t\t// This can only happen if size === 1 which is handled\n\t\t\t// by the case above.\n\t\t\tif (!item.previous) {\n\t\t\t\tthrow new Error('Invalid list');\n\t\t\t}\n\t\t\titem.previous.next = undefined;\n\t\t\tthis._tail = item.previous;\n\t\t}\n\t\telse {\n\t\t\tconst next = item.next;\n\t\t\tconst previous = item.previous;\n\t\t\tif (!next || !previous) {\n\t\t\t\tthrow new Error('Invalid list');\n\t\t\t}\n\t\t\tnext.previous = previous;\n\t\t\tprevious.next = next;\n\t\t}\n\t\titem.next = undefined;\n\t\titem.previous = undefined;\n\t\tthis._state++;\n\t}\n\n\tprivate touch(item: Item<K, V>, touch: Touch): void {\n\t\tif (!this._head || !this._tail) {\n\t\t\tthrow new Error('Invalid list');\n\t\t}\n\t\tif ((touch !== Touch.First && touch !== Touch.Last)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (touch === Touch.First) {\n\t\t\tif (item === this._head) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst next = item.next;\n\t\t\tconst previous = item.previous;\n\n\t\t\t// Unlink the item\n\t\t\tif (item === this._tail) {\n\t\t\t\t// previous must be defined since item was not head but is tail\n\t\t\t\t// So there are more than on item in the map\n\t\t\t\tprevious!.next = undefined;\n\t\t\t\tthis._tail = previous;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Both next and previous are not undefined since item was neither head nor tail.\n\t\t\t\tnext!.previous = previous;\n\t\t\t\tprevious!.next = next;\n\t\t\t}\n\n\t\t\t// Insert the node at head\n\t\t\titem.previous = undefined;\n\t\t\titem.next = this._head;\n\t\t\tthis._head.previous = item;\n\t\t\tthis._head = item;\n\t\t\tthis._state++;\n\t\t} else if (touch === Touch.Last) {\n\t\t\tif (item === this._tail) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst next = item.next;\n\t\t\tconst previous = item.previous;\n\n\t\t\t// Unlink the item.\n\t\t\tif (item === this._head) {\n\t\t\t\t// next must be defined since item was not tail but is head\n\t\t\t\t// So there are more than on item in the map\n\t\t\t\tnext!.previous = undefined;\n\t\t\t\tthis._head = next;\n\t\t\t} else {\n\t\t\t\t// Both next and previous are not undefined since item was neither head nor tail.\n\t\t\t\tnext!.previous = previous;\n\t\t\t\tprevious!.next = next;\n\t\t\t}\n\t\t\titem.next = undefined;\n\t\t\titem.previous = this._tail;\n\t\t\tthis._tail.next = item;\n\t\t\tthis._tail = item;\n\t\t\tthis._state++;\n\t\t}\n\t}\n\n\tpublic toJSON(): [K, V][] {\n\t\tconst data: [K, V][] = [];\n\n\t\tthis.forEach((value, key) => {\n\t\t\tdata.push([key, value]);\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tpublic fromJSON(data: [K, V][]): void {\n\t\tthis.clear();\n\n\t\tfor (const [key, value] of data) {\n\t\t\tthis.set(key, value);\n\t\t}\n\t}\n}\n\nexport class LRUCache<K, V> extends LinkedMap<K, V> {\n\n\tprivate _limit: number;\n\tprivate _ratio: number;\n\n\tpublic constructor(limit: number, ratio: number = 1) {\n\t\tsuper();\n\t\tthis._limit = limit;\n\t\tthis._ratio = Math.min(Math.max(0, ratio), 1);\n\t}\n\n\tpublic get limit(): number {\n\t\treturn this._limit;\n\t}\n\n\tpublic set limit(limit: number) {\n\t\tthis._limit = limit;\n\t\tthis.checkTrim();\n\t}\n\n\tpublic get ratio(): number {\n\t\treturn this._ratio;\n\t}\n\n\tpublic set ratio(ratio: number) {\n\t\tthis._ratio = Math.min(Math.max(0, ratio), 1);\n\t\tthis.checkTrim();\n\t}\n\n\tpublic get(key: K, touch: Touch = Touch.AsNew): V | undefined {\n\t\treturn super.get(key, touch);\n\t}\n\n\tpublic peek(key: K): V | undefined {\n\t\treturn super.get(key, Touch.None);\n\t}\n\n\tpublic set(key: K, value: V): this {\n\t\tsuper.set(key, value, Touch.Last);\n\t\tthis.checkTrim();\n\t\treturn this;\n\t}\n\n\tprivate checkTrim() {\n\t\tif (this.size > this._limit) {\n\t\t\tthis.trimOld(Math.round(this._limit * this._ratio));\n\t\t}\n\t}\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FoldingRangeFeature = (Base) => {\n    return class extends Base {\n        get foldingRange() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.FoldingRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.FoldingRangeFeature = FoldingRangeFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = __importStar(require(\"./utils/is\"));\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n    DocumentDiagnosticRequest.capabilities = messages_1.CM.create('textDocument.diagnostic', 'diagnosticProvider');\n})(DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n    WorkspaceDiagnosticRequest.capabilities = messages_1.CM.create('workspace.diagnostics', 'diagnosticProvider.workspaceDiagnostics');\n})(WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n    DiagnosticRefreshRequest.capabilities = messages_1.CM.create('workspace.diagnostics.refreshSupport', undefined);\n})(DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = DiagnosticRefreshRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.empty = void 0;\nexports.v4 = v4;\nexports.isUUID = isUUID;\nexports.parse = parse;\nexports.generateUuid = generateUuid;\nclass ValueUUID {\n    _value;\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    static _chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n    static _timeHighBits = ['8', '9', 'a', 'b'];\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n}\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nfunction generateUuid() {\n    return v4().asHex();\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = __importStar(require(\"./is\"));\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes || (exports.ErrorCodes = ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    code;\n    data;\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    kind;\n    /**\n     * The parameter structure is automatically inferred on the number of parameters\n     * and the parameter type in case of a single param.\n     */\n    static auto = new ParameterStructures('auto');\n    /**\n     * Forces `byPosition` parameter structure. This is useful if you have a single\n     * parameter which has a literal type.\n     */\n    static byPosition = new ParameterStructures('byPosition');\n    /**\n     * Forces `byName` parameter structure. This is only useful when having a single\n     * parameter. The library will report errors if used with a different number of\n     * parameters.\n     */\n    static byName = new ParameterStructures('byName');\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    method;\n    numberOfParams;\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    _parameterStructures;\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    _parameterStructures;\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    _parameterStructures;\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    _parameterStructures;\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message || (exports.Message = Message = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * {@link Position} literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line, character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Position} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * {@link Range} literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(`Range#create called with invalid arguments[${one}, ${two}, ${three}, ${four}]`);\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Range} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * {@link Location} literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri, range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Location} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * {@link LocationLink} literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri, targetRange, targetSelectionRange, originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link LocationLink} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link Color} literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red,\n            green,\n            blue,\n            alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Color} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * {@link ColorInformation} literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range,\n            color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link ColorPresentation} literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label,\n            textEdit,\n            additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * {@link FoldingRange} literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        const result = {\n            startLine,\n            endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * {@link DiagnosticRelatedInformation} literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location,\n            message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * {@link Diagnostic} literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        const result = { range, message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n     */\n    function is(value) {\n        var _a;\n        const candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * {@link Command} literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command, ...args) {\n        const result = { title, command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Command} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && (candidate.tooltip === undefined || Is.string(candidate.tooltip)) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range, newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        const result = { label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range, newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        const candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument, edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        const result = {\n            kind: 'create',\n            uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        const result = {\n            kind: 'rename',\n            oldUri,\n            newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        const result = {\n            kind: 'delete',\n            uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        const candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every((change) => {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nclass TextEditChangeImpl {\n    constructor(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    insert(position, newText, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    replace(range, newText, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    delete(range, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    add(edit) {\n        this.edits.push(edit);\n    }\n    all() {\n        return this.edits;\n    }\n    clear() {\n        this.edits.splice(0, this.edits.length);\n    }\n    assertChangeAnnotations(value) {\n        if (value === undefined) {\n            throw new Error(`Text edit change is not configured to manage change annotations.`);\n        }\n    }\n}\nexport var SnippetTextEdit;\n(function (SnippetTextEdit) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && Range.is(candidate.range)\n            && StringValue.isSnippet(candidate.snippet)\n            && (candidate.annotationId === undefined ||\n                (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId)));\n    }\n    SnippetTextEdit.is = is;\n})(SnippetTextEdit || (SnippetTextEdit = {}));\n/**\n * A helper class\n */\nclass ChangeAnnotations {\n    constructor(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    all() {\n        return this._annotations;\n    }\n    get size() {\n        return this._size;\n    }\n    manage(idOrAnnotation, annotation) {\n        let id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(`Id ${id} is already in use.`);\n        }\n        if (annotation === undefined) {\n            throw new Error(`No annotation provided for id ${id}`);\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    }\n    nextId() {\n        this._counter++;\n        return this._counter.toString();\n    }\n}\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nexport class WorkspaceChange {\n    constructor(workspaceEdit) {\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach((change) => {\n                    if (TextDocumentEdit.is(change)) {\n                        const textEditChange = new TextEditChangeImpl(change.edits, this._changeAnnotations);\n                        this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach((key) => {\n                    const textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    /**\n     * Returns the underlying {@link WorkspaceEdit} literal\n     * use to be returned from a workspace edit operation like rename.\n     */\n    get edit() {\n        this.initDocumentChanges();\n        if (this._changeAnnotations !== undefined) {\n            if (this._changeAnnotations.size === 0) {\n                this._workspaceEdit.changeAnnotations = undefined;\n            }\n            else {\n                this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n            }\n        }\n        return this._workspaceEdit;\n    }\n    getTextEditChange(key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            const textDocument = { uri: key.uri, version: key.version };\n            let result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                const edits = [];\n                const textDocumentEdit = {\n                    textDocument,\n                    edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            let result = this._textEditChanges[key];\n            if (!result) {\n                const edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    }\n    initDocumentChanges() {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    }\n    initChanges() {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    }\n    createFile(uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    renameFile(oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    deleteFile(uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n}\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * {@link TextDocumentIdentifier} literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link VersionedTextDocumentIdentifier} literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri, version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link OptionalVersionedTextDocumentIdentifier} literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri, version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * Predefined Language kinds\n * @since 3.18.0\n */\nexport var LanguageKind;\n(function (LanguageKind) {\n    LanguageKind.ABAP = 'abap';\n    LanguageKind.WindowsBat = 'bat';\n    LanguageKind.BibTeX = 'bibtex';\n    LanguageKind.Clojure = 'clojure';\n    LanguageKind.Coffeescript = 'coffeescript';\n    LanguageKind.C = 'c';\n    LanguageKind.CPP = 'cpp';\n    LanguageKind.CSharp = 'csharp';\n    LanguageKind.CSS = 'css';\n    /**\n     * @since 3.18.0\n     * @proposed\n     */\n    LanguageKind.D = 'd';\n    /**\n     * @since 3.18.0\n     * @proposed\n     */\n    LanguageKind.Delphi = 'pascal';\n    LanguageKind.Diff = 'diff';\n    LanguageKind.Dart = 'dart';\n    LanguageKind.Dockerfile = 'dockerfile';\n    LanguageKind.Elixir = 'elixir';\n    LanguageKind.Erlang = 'erlang';\n    LanguageKind.FSharp = 'fsharp';\n    LanguageKind.GitCommit = 'git-commit';\n    LanguageKind.GitRebase = 'rebase';\n    LanguageKind.Go = 'go';\n    LanguageKind.Groovy = 'groovy';\n    LanguageKind.Handlebars = 'handlebars';\n    LanguageKind.Haskell = 'haskell';\n    LanguageKind.HTML = 'html';\n    LanguageKind.Ini = 'ini';\n    LanguageKind.Java = 'java';\n    LanguageKind.JavaScript = 'javascript';\n    LanguageKind.JavaScriptReact = 'javascriptreact';\n    LanguageKind.JSON = 'json';\n    LanguageKind.LaTeX = 'latex';\n    LanguageKind.Less = 'less';\n    LanguageKind.Lua = 'lua';\n    LanguageKind.Makefile = 'makefile';\n    LanguageKind.Markdown = 'markdown';\n    LanguageKind.ObjectiveC = 'objective-c';\n    LanguageKind.ObjectiveCPP = 'objective-cpp';\n    /**\n     * @since 3.18.0\n     * @proposed\n     */\n    LanguageKind.Pascal = 'pascal';\n    LanguageKind.Perl = 'perl';\n    LanguageKind.Perl6 = 'perl6';\n    LanguageKind.PHP = 'php';\n    LanguageKind.Powershell = 'powershell';\n    LanguageKind.Pug = 'jade';\n    LanguageKind.Python = 'python';\n    LanguageKind.R = 'r';\n    LanguageKind.Razor = 'razor';\n    LanguageKind.Ruby = 'ruby';\n    LanguageKind.Rust = 'rust';\n    LanguageKind.SCSS = 'scss';\n    LanguageKind.SASS = 'sass';\n    LanguageKind.Scala = 'scala';\n    LanguageKind.ShaderLab = 'shaderlab';\n    LanguageKind.ShellScript = 'shellscript';\n    LanguageKind.SQL = 'sql';\n    LanguageKind.Swift = 'swift';\n    LanguageKind.TypeScript = 'typescript';\n    LanguageKind.TypeScriptReact = 'typescriptreact';\n    LanguageKind.TeX = 'tex';\n    LanguageKind.VisualBasic = 'vb';\n    LanguageKind.XML = 'xml';\n    LanguageKind.XSL = 'xsl';\n    LanguageKind.YAML = 'yaml';\n})(LanguageKind || (LanguageKind = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * {@link TextDocumentItem} literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri, languageId, version, text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the {@link MarkupKind} type.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the {@link MarkupContent} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText, insert, replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\n/**\n * Defines how values from a set of defaults and an individual item will be\n * merged.\n *\n * @since 3.18.0\n */\nexport var ApplyKind;\n(function (ApplyKind) {\n    /**\n     * The value from the individual item (if provided and not `null`) will be\n     * used instead of the default.\n     */\n    ApplyKind.Replace = 1;\n    /**\n     * The value from the item will be merged with the default.\n     *\n     * The specific rules for mergeing values are defined against each field\n     * that supports merging.\n     */\n    ApplyKind.Merge = 2;\n})(ApplyKind || (ApplyKind = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the {@link MarkedString} type.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the {@link Hover} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * {@link ParameterInformation} literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label, documentation } : { label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * {@link SignatureInformation} literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation, ...parameters) {\n        const result = { label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * {@link DocumentHighlight} literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        const result = { range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        const result = {\n            name,\n            kind,\n            location: { uri, range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name, kind, location: { uri, range } }\n            : { name, kind, location: { uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        const result = {\n            name,\n            detail,\n            kind,\n            range,\n            selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring move actions: `refactor.move`\n     *\n     * Example move actions:\n     *\n     * - Move a function to a new file\n     * - Move a property between classes\n     * - Move method to base class\n     * - ...\n     *\n     * @since 3.18.0\n     * @proposed\n     */\n    CodeActionKind.RefactorMove = 'refactor.move';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n    /**\n     * Base kind for all code actions applying to the entire notebook's scope. CodeActionKinds using\n     * this should always begin with `notebook.`\n     *\n     * @since 3.18.0\n     */\n    CodeActionKind.Notebook = 'notebook';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * {@link CodeActionContext} literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        const result = { diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\n/**\n * Code action tags are extra annotations that tweak the behavior of a code action.\n *\n * @since 3.18.0 - proposed\n */\nexport var CodeActionTag;\n(function (CodeActionTag) {\n    /**\n     * Marks the code action as LLM-generated.\n     */\n    CodeActionTag.LLMGenerated = 1;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeActionTag} interface.\n     */\n    function is(value) {\n        return Is.defined(value) && value === CodeActionTag.LLMGenerated;\n    }\n    CodeActionTag.is = is;\n})(CodeActionTag || (CodeActionTag = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        const result = { title };\n        let checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit)) &&\n            (candidate.tags === undefined || Is.typedArray(candidate.tags, CodeActionTag.is));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * {@link CodeLens} literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        const result = { range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeLens} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * {@link FormattingOptions} literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize, insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * {@link DocumentLink} literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range, target, data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range, parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n    /**\n     * @since 3.18.0\n     */\n    SemanticTokenTypes[\"label\"] = \"label\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range, text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range, variableName, caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range, expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * {@link InlineValueContext} literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId, stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        const result = { position, label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var StringValue;\n(function (StringValue) {\n    function createSnippet(value) {\n        return { kind: 'snippet', value };\n    }\n    StringValue.createSnippet = createSnippet;\n    function isSnippet(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && candidate.kind === 'snippet'\n            && Is.string(candidate.value);\n    }\n    StringValue.isSnippet = isSnippet;\n})(StringValue || (StringValue = {}));\nexport var InlineCompletionItem;\n(function (InlineCompletionItem) {\n    function create(insertText, filterText, range, command) {\n        return { insertText, filterText, range, command };\n    }\n    InlineCompletionItem.create = create;\n})(InlineCompletionItem || (InlineCompletionItem = {}));\nexport var InlineCompletionList;\n(function (InlineCompletionList) {\n    function create(items) {\n        return { items };\n    }\n    InlineCompletionList.create = create;\n})(InlineCompletionList || (InlineCompletionList = {}));\n/**\n * Describes how an {@link InlineCompletionItemProvider inline completion provider} was triggered.\n *\n * @since 3.18.0\n * @proposed\n */\nexport var InlineCompletionTriggerKind;\n(function (InlineCompletionTriggerKind) {\n    /**\n     * Completion was triggered explicitly by a user gesture.\n     */\n    InlineCompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered automatically while editing.\n     */\n    InlineCompletionTriggerKind.Automatic = 2;\n})(InlineCompletionTriggerKind || (InlineCompletionTriggerKind = {}));\nexport var SelectedCompletionInfo;\n(function (SelectedCompletionInfo) {\n    function create(range, text) {\n        return { range, text };\n    }\n    SelectedCompletionInfo.create = create;\n})(SelectedCompletionInfo || (SelectedCompletionInfo = {}));\nexport var InlineCompletionContext;\n(function (InlineCompletionContext) {\n    function create(triggerKind, selectedCompletionInfo) {\n        return { triggerKind, selectedCompletionInfo };\n    }\n    InlineCompletionContext.create = create;\n})(InlineCompletionContext || (InlineCompletionContext = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport const EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        const sortedEdits = mergeSort(edits, (a, b) => {\n            const diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = text.length;\n        for (let i = sortedEdits.length - 1; i >= 0; i--) {\n            const e = sortedEdits[i];\n            const startOffset = document.offsetAt(e.range.start);\n            const endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        const p = (data.length / 2) | 0;\n        const left = data.slice(0, p);\n        const right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        let leftIdx = 0;\n        let rightIdx = 0;\n        let i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            const ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            const lineOffsets = [];\n            const text = this._content;\n            let isLineStart = true;\n            for (let i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                const ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        const lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            const mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        const line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    }\n    offsetAt(position) {\n        const lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        const lineOffset = lineOffsets[position.line];\n        const nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n}\nvar Is;\n(function (Is) {\n    const toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport * as crypto from 'crypto';\nimport { execSync } from 'child_process';\n\nimport semverParse = require('semver/functions/parse');\nimport semverGte = require('semver/functions/gte');\n\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport {\n\tDiagnostic, DiagnosticSeverity, DiagnosticTag, ProposedFeatures, Range, TextEdit, Files, DocumentFilter, DocumentFormattingRegistrationOptions,\n\tDisposable, DocumentFormattingRequest, TextDocuments, uinteger\n} from 'vscode-languageserver/node';\nimport { URI } from 'vscode-uri';\n\nimport { ProbeFailedParams, ProbeFailedRequest, NoESLintLibraryRequest, Status, NoConfigRequest, StatusNotification } from './shared/customMessages';\nimport { ConfigurationSettings, DirectoryItem, ESLintOptions, ESLintSeverity, ModeEnum, ModeItem, PackageManagers, RuleCustomization, RuleSeverity, Validate } from './shared/settings';\n\nimport * as Is from './is';\nimport { LRUCache } from './linkedMap';\nimport { isUNC, normalizeDriveLetter, normalizePath } from './paths';\nimport LanguageDefaults from './languageDefaults';\n\n\n/**\n * ESLint specific settings for a text document.\n */\nexport type TextDocumentSettings = Omit<ConfigurationSettings, 'workingDirectory'>  & {\n\tsilent: boolean;\n\tworkingDirectory: DirectoryItem | undefined;\n\tlibrary: ESLintModule | undefined;\n\tresolvedGlobalPackageManagerPath: string | undefined;\n};\n\nexport namespace TextDocumentSettings {\n\texport function hasLibrary(settings: TextDocumentSettings): settings is (TextDocumentSettings & { library: ESLintModule }) {\n\t\treturn settings.library !== undefined;\n\t}\n}\n\n/**\n * A special error thrown by the ESLint library\n */\nexport interface ESLintError extends Error {\n\tmessageTemplate?: string;\n\tmessageData?: {\n\t\tpluginName?: string;\n\t};\n}\n\nexport namespace ESLintError {\n\texport function isNoConfigFound(error: any): boolean {\n\t\tconst candidate = error as ESLintError;\n\t\treturn candidate.messageTemplate === 'no-config-found' || candidate.message === 'No ESLint configuration found.';\n\t}\n}\n\ntype ESLintAutoFixEdit = {\n\trange: [number, number];\n\ttext: string;\n};\n\ntype ESLintSuggestionResult = {\n\tdesc: string;\n\tfix: ESLintAutoFixEdit;\n};\n\ntype ESLintProblem = {\n\tline: number;\n\tcolumn: number;\n\tendLine?: number;\n\tendColumn?: number;\n\tseverity: number;\n\truleId: string;\n\tmessage: string;\n\tfix?: ESLintAutoFixEdit;\n\tsuggestions?: ESLintSuggestionResult[];\n};\n\ntype ESLintDocumentReport = {\n\tfilePath: string;\n\terrorCount: number;\n\twarningCount: number;\n\tmessages: ESLintProblem[];\n\toutput?: string;\n};\n\ntype ESLintReport = {\n\terrorCount: number;\n\twarningCount: number;\n\tresults: ESLintDocumentReport[];\n};\n\nexport type CLIOptions = {\n\tcwd?: string;\n\tfixTypes?: string[];\n\tfix?: boolean;\n};\n\nexport type SeverityConf = 0 | 1 | 2 | 'off' | 'warn' | 'error';\n\nexport type RuleConf = SeverityConf | [SeverityConf, ...any[]];\n\nexport type ConfigData = {\n\trules?: Record<string, RuleConf>;\n};\n\nexport type ESLintClassOptions = {\n\tcwd?: string;\n\tfixTypes?: string[];\n\tfix?: boolean;\n\toverrideConfig?: ConfigData;\n\toverrideConfigFile?: string | null;\n};\n\nexport type RuleMetaData = {\n\tdocs?: {\n\t\turl?: string;\n\t};\n\ttype?: string;\n};\n\nexport namespace RuleMetaData {\n\t// For unused eslint-disable comments, ESLint does not include a rule ID\n\t// nor any other metadata (although they do provide a fix). In order to\n\t// provide code actions for these, we create a fake rule ID and metadata.\n\texport const unusedDisableDirectiveId = 'unused-disable-directive';\n\tconst unusedDisableDirectiveMeta: RuleMetaData = {\n\t\tdocs: {\n\t\t\turl: 'https://eslint.org/docs/latest/use/configure/rules#report-unused-eslint-disable-comments'\n\t\t},\n\t\ttype: 'directive'\n\t};\n\n\tconst handled: Set<string> = new Set();\n\tconst ruleId2Meta: Map<string, RuleMetaData> = new Map([[unusedDisableDirectiveId, unusedDisableDirectiveMeta]]);\n\n\texport function capture(eslint: ESLintClass, reports: ESLintDocumentReport[]): void {\n\t\tlet rulesMetaData: Record<string, RuleMetaData> | undefined;\n\t\tif (eslint.isCLIEngine) {\n\t\t\tconst toHandle = reports.filter(report => !handled.has(report.filePath));\n\t\t\tif (toHandle.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trulesMetaData = typeof eslint.getRulesMetaForResults === 'function' ? eslint.getRulesMetaForResults(toHandle) : undefined;\n\t\t\ttoHandle.forEach(report => handled.add(report.filePath));\n\t\t} else {\n\t\t\trulesMetaData = typeof eslint.getRulesMetaForResults === 'function' ? eslint.getRulesMetaForResults(reports) : undefined;\n\t\t}\n\t\tif (rulesMetaData === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tObject.entries(rulesMetaData).forEach(([key, meta]) => {\n\t\t\tif (ruleId2Meta.has(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (meta && meta.docs && Is.string(meta.docs.url)) {\n\t\t\t\truleId2Meta.set(key, meta);\n\t\t\t}\n\t\t});\n\t}\n\n\texport function clear(): void {\n\t\thandled.clear();\n\t\truleId2Meta.clear();\n\t\truleId2Meta.set(unusedDisableDirectiveId, unusedDisableDirectiveMeta);\n\t}\n\n\texport function getUrl(ruleId: string): string | undefined {\n\t\treturn ruleId2Meta.get(ruleId)?.docs?.url;\n\t}\n\n\texport function getType(ruleId: string): string | undefined {\n\t\treturn ruleId2Meta.get(ruleId)?.type;\n\t}\n\n\texport function hasRuleId(ruleId: string): boolean {\n\t\treturn ruleId2Meta.has(ruleId);\n\t}\n\n\texport function isUnusedDisableDirectiveProblem(problem: ESLintProblem): boolean {\n\t\treturn problem.ruleId === null && problem.message.startsWith('Unused eslint-disable directive');\n\t}\n}\n\ntype ParserOptions = {\n\tparser?: string;\n};\n\ntype ESLintRcConfig = {\n \tenv: Record<string, boolean>;\n\textends:  string | string[];\n \t// globals: Record<string, GlobalConf>;\n \tignorePatterns: string | string[];\n \tnoInlineConfig: boolean;\n \t// overrides: OverrideConfigData[];\n \tparser: string | null;\n \tparserOptions?: ParserOptions;\n \tplugins: string[];\n \tprocessor: string;\n \treportUnusedDisableDirectives: boolean | undefined;\n \troot: boolean;\n \trules: Record<string, RuleConf>;\n \tsettings: object;\n};\ntype ESLintConfig = ESLintRcConfig;\n\nexport type Problem = {\n\tlabel: string;\n\tdocumentVersion: number;\n\truleId: string;\n\tline: number;\n\tdiagnostic: Diagnostic;\n\tedit?: ESLintAutoFixEdit;\n\tsuggestions?: ESLintSuggestionResult[];\n};\n\nexport namespace Problem {\n\texport function isFixable(problem: Problem): problem is FixableProblem {\n\t\treturn problem.edit !== undefined;\n\t}\n\n\texport function hasSuggestions(problem: Problem): problem is SuggestionsProblem {\n\t\treturn problem.suggestions !== undefined;\n\t}\n}\n\nexport type FixableProblem = Problem & {\n\tedit: ESLintAutoFixEdit;\n};\n\nexport namespace FixableProblem {\n\texport function createTextEdit(document: TextDocument, editInfo: FixableProblem): TextEdit {\n\t\treturn TextEdit.replace(Range.create(document.positionAt(editInfo.edit.range[0]), document.positionAt(editInfo.edit.range[1])), editInfo.edit.text || '');\n\t}\n}\n\nexport type SuggestionsProblem = Problem & {\n\tsuggestions: ESLintSuggestionResult[];\n};\n\nexport namespace SuggestionsProblem {\n\texport function createTextEdit(document: TextDocument, suggestion: ESLintSuggestionResult): TextEdit {\n\t\treturn TextEdit.replace(Range.create(document.positionAt(suggestion.fix.range[0]), document.positionAt(suggestion.fix.range[1])), suggestion.fix.text || '');\n\t}\n}\n\ninterface ESLintClass extends Object {\n\t// https://eslint.org/docs/developer-guide/nodejs-api#-eslintlinttextcode-options\n\tlintText(content: string, options: {filePath?: string; warnIgnored?: boolean}): Promise<ESLintDocumentReport[]>;\n\t// https://eslint.org/docs/developer-guide/nodejs-api#-eslintispathignoredfilepath\n\tisPathIgnored(path: string): Promise<boolean>;\n\t// https://eslint.org/docs/developer-guide/nodejs-api#-eslintgetrulesmetaforresultsresults\n\tgetRulesMetaForResults?(results: ESLintDocumentReport[]): Record<string, RuleMetaData> | undefined /* for ESLintClassEmulator */;\n\t// https://eslint.org/docs/developer-guide/nodejs-api#-eslintcalculateconfigforfilefilepath\n\tcalculateConfigForFile(path: string): Promise<ESLintConfig | undefined /* for ESLintClassEmulator */>;\n\t// Whether it is the old CLI Engine\n\tisCLIEngine?: boolean;\n}\n\nnamespace ESLintClass {\n\texport function getConfigType(eslint: ESLintClass): 'eslintrc' | 'flat' {\n\t\tif (eslint.isCLIEngine === true) {\n\t\t\treturn 'eslintrc';\n\t\t}\n\t\tconst configType = (eslint.constructor as ESLintClassConstructor).configType;\n\t\treturn configType ?? 'eslintrc';\n\t}\n}\n\ninterface ESLintClassConstructor {\n\tconfigType?: 'eslintrc' | 'flat';\n\tversion?: string;\n\tnew(options: ESLintClassOptions): ESLintClass;\n}\n\ninterface CLIEngineConstructor {\n\tnew(options: CLIOptions): CLIEngine;\n}\n\n/**\n * A loaded ESLint npm module.\n */\nexport type ESLintModule =\n{\n\t// version < 7.0\n\tESLint: undefined;\n\tCLIEngine: CLIEngineConstructor;\n\tloadESLint?: undefined;\n} | {\n\t// 7.0 <= version < 8.0\n\tESLint: ESLintClassConstructor;\n\tCLIEngine: CLIEngineConstructor;\n\tloadESLint?: undefined;\n} | {\n\t// 8.0 <= version.\n\tESLint: ESLintClassConstructor;\n\tisFlatConfig?: boolean;\n\tCLIEngine: undefined;\n\tloadESLint?: (options?: { cwd?: string; useFlatConfig?: boolean }) => Promise<ESLintClassConstructor>;\n};\n\nexport namespace ESLintModule {\n\texport function hasLoadESLint(value: ESLintModule): value is { ESLint: ESLintClassConstructor; CLIEngine: undefined; loadESLint: (options?: { cwd?: string; useFlatConfig?: boolean }) => Promise<ESLintClassConstructor> } {\n\t\treturn value.loadESLint !== undefined;\n\t}\n\texport function hasESLintClass(value: ESLintModule): value is { ESLint: ESLintClassConstructor; CLIEngine: undefined } {\n\t\treturn value.ESLint !== undefined;\n\t}\n\texport function hasCLIEngine(value: ESLintModule): value is { ESLint: undefined; CLIEngine: CLIEngineConstructor } {\n\t\treturn value.CLIEngine !== undefined;\n\t}\n\texport function isFlatConfig(value: ESLintModule): value is { ESLint: ESLintClassConstructor; CLIEngine: undefined; isFlatConfig: true } {\n\t\tconst candidate: { ESLint: ESLintClassConstructor; isFlatConfig?: boolean } = value as any;\n\t\treturn candidate.ESLint !== undefined && candidate.isFlatConfig === true;\n\t}\n}\n\n// { meta: { docs: [Object], schema: [Array] }, create: [Function: create] }\ntype RuleData = {\n\tmeta?: RuleMetaData;\n};\n\nnamespace RuleData {\n\texport function hasMetaType(value: RuleMetaData | undefined): value is RuleMetaData & { type: string } {\n\t\treturn value !== undefined && value.type !== undefined;\n\t}\n}\n\ninterface CLIEngine {\n\texecuteOnText(content: string, file?: string, warn?: boolean): ESLintReport;\n\tisPathIgnored(path: string): boolean;\n\t// This is only available from v4.15.0 forward\n\tgetRules?(): Map<string, RuleData>;\n\tgetConfigForFile?(path: string): ESLintConfig;\n}\n\nnamespace CLIEngine {\n\texport function hasRule(value: CLIEngine): value is CLIEngine & { getRules(): Map<string, RuleData> } {\n\t\treturn value.getRules !== undefined;\n\t}\n}\n\n/**\n * ESLint class emulator using CLI Engine.\n */\nclass ESLintClassEmulator implements ESLintClass {\n\n\tprivate cli: CLIEngine;\n\n\tconstructor(cli: CLIEngine) {\n\t\tthis.cli = cli;\n\t}\n\tget isCLIEngine(): boolean {\n\t\treturn true;\n\t}\n\tasync lintText(content: string, options: { filePath?: string | undefined; warnIgnored?: boolean | undefined }): Promise<ESLintDocumentReport[]> {\n\t\treturn this.cli.executeOnText(content, options.filePath, options.warnIgnored).results;\n\t}\n\tasync isPathIgnored(path: string): Promise<boolean> {\n\t\treturn this.cli.isPathIgnored(path);\n\t}\n\tgetRulesMetaForResults(_results: ESLintDocumentReport[]): Record<string, RuleMetaData> | undefined {\n\t\tif (!CLIEngine.hasRule(this.cli)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst rules: Record<string, RuleMetaData> = {};\n\t\tfor (const [name, rule] of this.cli.getRules()) {\n\t\t\tif (rule.meta !== undefined) {\n\t\t\t\trules[name] = rule.meta;\n\t\t\t}\n\t\t}\n\t\treturn rules;\n\t}\n\tasync calculateConfigForFile(path: string): Promise<ESLintConfig | undefined> {\n\t\treturn typeof this.cli.getConfigForFile === 'function' ? this.cli.getConfigForFile(path) : undefined;\n\t}\n}\n\n\n/**\n * Class for dealing with Fixes.\n */\nexport class Fixes {\n\tconstructor(private edits: Map<string, Problem>) {\n\t}\n\n\tpublic static overlaps(a: FixableProblem | undefined, b: FixableProblem): boolean {\n\t\treturn a !== undefined && a.edit.range[1] > b.edit.range[0];\n\t}\n\n\tpublic static sameRange(a: FixableProblem, b: FixableProblem): boolean {\n\t\treturn a.edit.range[0] === b.edit.range[0] && a.edit.range[1] === b.edit.range[1];\n\t}\n\n\tpublic isEmpty(): boolean {\n\t\treturn this.edits.size === 0;\n\t}\n\n\tpublic getDocumentVersion(): number {\n\t\tif (this.isEmpty()) {\n\t\t\tthrow new Error('No edits recorded.');\n\t\t}\n\t\treturn this.edits.values().next().value!.documentVersion;\n\t}\n\n\tpublic getScoped(diagnostics: Diagnostic[]): Problem[] {\n\t\tconst result: Problem[] = [];\n\t\tfor (const diagnostic of diagnostics) {\n\t\t\tconst key = Diagnostics.computeKey(diagnostic);\n\t\t\tconst editInfo = this.edits.get(key);\n\t\t\tif (editInfo) {\n\t\t\t\tresult.push(editInfo);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getAllSorted(): FixableProblem[] {\n\t\tconst result: FixableProblem[] = [];\n\t\tfor (const value of this.edits.values()) {\n\t\t\tif (Problem.isFixable(value)) {\n\t\t\t\tresult.push(value);\n\t\t\t}\n\t\t}\n\t\treturn result.sort((a, b) => {\n\t\t\tconst d0 = a.edit.range[0] - b.edit.range[0];\n\t\t\tif (d0 !== 0) {\n\t\t\t\treturn d0;\n\t\t\t}\n\t\t\t// Both edits have now the same start offset.\n\n\t\t\t// Length of a and length of b\n\t\t\tconst al = a.edit.range[1] - a.edit.range[0];\n\t\t\tconst bl = b.edit.range[1] - b.edit.range[0];\n\t\t\t// Both has the same start offset and length.\n\t\t\tif (al === bl) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (al === 0) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (bl === 0) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn al - bl;\n\t\t});\n\t}\n\n\tpublic getApplicable(): FixableProblem[] {\n\t\tconst sorted = this.getAllSorted();\n\t\tif (sorted.length <= 1) {\n\t\t\treturn sorted;\n\t\t}\n\t\tconst result: FixableProblem[] = [];\n\t\tlet last: FixableProblem = sorted[0];\n\t\tresult.push(last);\n\t\tfor (let i = 1; i < sorted.length; i++) {\n\t\t\tconst current = sorted[i];\n\t\t\tif (!Fixes.overlaps(last, current) && !Fixes.sameRange(last, current)) {\n\t\t\t\tresult.push(current);\n\t\t\t\tlast = current;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\nexport type SaveRuleConfigItem = { offRules: Set<string>; onRules: Set<string>; options: ESLintOptions | undefined};\n\n/**\n * Manages the special save rule configurations done in the VS Code settings.\n */\nexport namespace SaveRuleConfigs {\n\n\texport let inferFilePath: (documentOrUri: string | TextDocument | URI | undefined) => string | undefined;\n\n\tconst saveRuleConfigCache = new LRUCache<string, SaveRuleConfigItem | null>(128);\n\texport async function get(uri: string, settings: TextDocumentSettings  & { library: ESLintModule }): Promise<SaveRuleConfigItem | undefined> {\n\t\tconst filePath = inferFilePath(uri);\n\t\tlet result = saveRuleConfigCache.get(uri);\n\t\tif (filePath === undefined || result === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (result !== undefined) {\n\t\t\treturn result;\n\t\t}\n\t\tconst rules = settings.codeActionOnSave.rules;\n\t\tconst options = settings.codeActionOnSave.options;\n\t\tresult = await ESLint.withClass(async (eslint) => {\n\t\t\tif ((rules === undefined && options === undefined) || eslint.isCLIEngine) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst config = await eslint.calculateConfigForFile(filePath);\n\t\t\tif (config === undefined || config.rules === undefined || config.rules.length === 0) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst offRules: Set<string> = new Set();\n\t\t\tconst onRules: Set<string> = new Set();\n\t\t\tif (rules !== undefined) {\n\t\t\t\tif (rules.length === 0) {\n\t\t\t\t\tObject.keys(config.rules).forEach(ruleId => offRules.add(ruleId));\n\t\t\t\t} else {\n\t\t\t\t\tfor (const ruleId of Object.keys(config.rules)) {\n\t\t\t\t\t\tif (isOff(ruleId, rules)) {\n\t\t\t\t\t\t\toffRules.add(ruleId);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tonRules.add(ruleId);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn (offRules.size > 0 || options) ? { offRules, onRules, options } : undefined;\n\t\t}, settings);\n\t\tif (result === undefined || result === null) {\n\t\t\tsaveRuleConfigCache.set(uri, null);\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\tsaveRuleConfigCache.set(uri, result);\n\t\t\treturn result;\n\t\t}\n\t}\n\texport function remove(key: string): boolean {\n\t\treturn saveRuleConfigCache.delete(key);\n\t}\n\n\texport function clear(): void {\n\t\tsaveRuleConfigCache.clear();\n\t}\n\n\tfunction isOff(ruleId: string, matchers: string[]): boolean {\n\t\tfor (const matcher of matchers) {\n\t\t\tif (matcher.startsWith('!') && new RegExp(`^${matcher.slice(1).replace(/\\*/g, '.*')}$`, 'g').test(ruleId)) {\n\t\t\t\treturn true;\n\t\t\t} else if (new RegExp(`^${matcher.replace(/\\*/g, '.*')}$`, 'g').test(ruleId)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\n/**\n * Manages rule severity overrides done using VS Code settings.\n */\nexport namespace RuleSeverities {\n\n\tconst ruleSeverityCache = new LRUCache<string, RuleSeverity | null>(1024);\n\n\texport function getOverride(ruleId: string, customizations: RuleCustomization[], isFixable?: boolean): RuleSeverity | undefined {\n\t\tlet result: RuleSeverity | undefined | null = ruleSeverityCache.get(ruleId);\n\t\tif (result === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (result !== undefined) {\n\t\t\treturn result;\n\t\t}\n\t\tfor (const customization of customizations) {\n\t\t\tif (\n\t\t\t\t// Rule name should match\n\t\t\t\tasteriskMatches(customization.rule, ruleId) &&\n\t\t\t\t// Fixable flag should match the fixability of the rule if it's defined\n\t\t\t\t(customization.fixable === undefined || customization.fixable === isFixable)\n\t\t\t) {\n\t\t\t\tresult = customization.severity;\n\t\t\t}\n\t\t}\n\t\tif (result === undefined) {\n\t\t\truleSeverityCache.set(ruleId, null);\n\t\t\treturn undefined;\n\t\t}\n\n\t\truleSeverityCache.set(ruleId, result);\n\t\treturn result;\n\t}\n\n\texport function clear(): void {\n\t\truleSeverityCache.clear();\n\t}\n\n\tfunction asteriskMatches(matcher: string, ruleId: string): boolean {\n\t\treturn matcher.startsWith('!')\n\t\t\t? !(new RegExp(`^${matcher.slice(1).replace(/\\*/g, '.*')}$`, 'g').test(ruleId))\n\t\t\t: new RegExp(`^${matcher.replace(/\\*/g, '.*')}$`, 'g').test(ruleId);\n\t}\n}\n\n\n/**\n * Creates LSP Diagnostics and captures code action information.\n */\nnamespace Diagnostics {\n\n\texport function computeKey(diagnostic: Diagnostic): string {\n\t\tconst range = diagnostic.range;\n\t\tlet message: string | undefined;\n\t\tif (diagnostic.message) {\n\t\t\tconst hash  = crypto.createHash('sha256');\n\t\t\thash.update(diagnostic.message);\n\t\t\tmessage = hash.digest('base64');\n\t\t}\n\t\treturn `[${range.start.line},${range.start.character},${range.end.line},${range.end.character}]-${diagnostic.code}-${message ?? ''}`;\n\t}\n\n\texport function create(settings: TextDocumentSettings, problem: ESLintProblem, document: TextDocument): [Diagnostic, RuleSeverity | undefined] {\n\t\tconst message = problem.message;\n\t\tconst startLine = typeof problem.line !== 'number' || Number.isNaN(problem.line) ? 0 : Math.max(0, problem.line - 1);\n\t\tconst startChar = typeof problem.column !== 'number' || Number.isNaN(problem.column) ? 0 : Math.max(0, problem.column - 1);\n\t\tlet endLine = typeof problem.endLine !== 'number' || Number.isNaN(problem.endLine) ? startLine : Math.max(0, problem.endLine - 1);\n\t\tlet endChar = typeof problem.endColumn !== 'number' || Number.isNaN(problem.endColumn) ? startChar : Math.max(0, problem.endColumn - 1);\n\t\tif (settings.problems.shortenToSingleLine && endLine !== startLine) {\n\t\t\tconst startLineText = document.getText({\n\t\t\t\tstart: {\n\t\t\t\t\tline: startLine,\n\t\t\t\t\tcharacter: 0,\n\t\t\t\t},\n\t\t\t\tend: {\n\t\t\t\t\tline: startLine,\n\t\t\t\t\tcharacter: uinteger.MAX_VALUE,\n\t\t\t\t}\n\t\t\t});\n\t\t\tendLine = startLine;\n\t\t\tendChar = startLineText.length;\n\t\t}\n\n\t\tconst override = RuleSeverities.getOverride(problem.ruleId, settings.rulesCustomizations, problem.fix !== undefined);\n\t\tconst result: Diagnostic = {\n\t\t\tmessage: message,\n\t\t\tseverity: convertSeverityToDiagnosticWithOverride(problem.severity, override),\n\t\t\tsource: 'eslint',\n\t\t\trange: {\n\t\t\t\tstart: { line: startLine, character: startChar },\n\t\t\t\tend: { line: endLine, character: endChar }\n\t\t\t}\n\t\t};\n\t\tif (problem.ruleId) {\n\t\t\tconst url = RuleMetaData.getUrl(problem.ruleId);\n\t\t\tresult.code = problem.ruleId;\n\t\t\tif (url !== undefined) {\n\t\t\t\tresult.codeDescription = {\n\t\t\t\t\thref: url\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (problem.ruleId === 'no-unused-vars') {\n\t\t\t\tresult.tags = [DiagnosticTag.Unnecessary];\n\t\t\t}\n\t\t}\n\n\t\treturn [result, override];\n\t}\n\n\tfunction adjustSeverityForOverride(severity: number | RuleSeverity, severityOverride?: RuleSeverity) {\n\t\tswitch (severityOverride) {\n\t\t\tcase RuleSeverity.off:\n\t\t\tcase RuleSeverity.info:\n\t\t\tcase RuleSeverity.warn:\n\t\t\tcase RuleSeverity.error:\n\t\t\t\treturn severityOverride;\n\n\t\t\tcase RuleSeverity.downgrade:\n\t\t\t\tswitch (convertSeverityToDiagnostic(severity)) {\n\t\t\t\t\tcase DiagnosticSeverity.Error:\n\t\t\t\t\t\treturn RuleSeverity.warn;\n\t\t\t\t\tcase DiagnosticSeverity.Warning:\n\t\t\t\t\tcase DiagnosticSeverity.Information:\n\t\t\t\t\t\treturn RuleSeverity.info;\n\t\t\t\t}\n\n\t\t\tcase RuleSeverity.upgrade:\n\t\t\t\tswitch (convertSeverityToDiagnostic(severity)) {\n\t\t\t\t\tcase DiagnosticSeverity.Information:\n\t\t\t\t\t\treturn RuleSeverity.warn;\n\t\t\t\t\tcase DiagnosticSeverity.Warning:\n\t\t\t\t\tcase DiagnosticSeverity.Error:\n\t\t\t\t\t\treturn RuleSeverity.error;\n\t\t\t\t}\n\n\t\t\tdefault:\n\t\t\t\treturn severity;\n\t\t}\n\t}\n\n\tfunction convertSeverityToDiagnostic(severity: number | RuleSeverity) {\n\t// RuleSeverity concerns an overridden rule. A number is direct from ESLint.\n\t\tswitch (severity) {\n\t\t// Eslint 1 is warning\n\t\t\tcase 1:\n\t\t\tcase RuleSeverity.warn:\n\t\t\t\treturn DiagnosticSeverity.Warning;\n\t\t\tcase 2:\n\t\t\tcase RuleSeverity.error:\n\t\t\t\treturn DiagnosticSeverity.Error;\n\t\t\tcase RuleSeverity.info:\n\t\t\t\treturn DiagnosticSeverity.Information;\n\t\t\tdefault:\n\t\t\t\treturn DiagnosticSeverity.Error;\n\t\t}\n\t}\n\n\tfunction convertSeverityToDiagnosticWithOverride(severity: number | RuleSeverity, severityOverride: RuleSeverity | undefined): DiagnosticSeverity {\n\t\treturn convertSeverityToDiagnostic(adjustSeverityForOverride(severity, severityOverride));\n\n\t}\n}\n\n/**\n * Capture information necessary to compute code actions.\n */\nexport namespace CodeActions {\n\tconst codeActions: Map<string, Map<string, Problem>> = new Map<string, Map<string, Problem>>();\n\n\texport function get(uri: string): Map<string, Problem> | undefined {\n\t\treturn codeActions.get(uri);\n\t}\n\n\texport function set(uri: string, value: Map<string, Problem>): void {\n\t\tcodeActions.set(uri, value);\n\t}\n\n\texport function remove(uri: string): boolean {\n\t\treturn codeActions.delete(uri);\n\t}\n\n\texport function record(document: TextDocument, diagnostic: Diagnostic, problem: ESLintProblem): void {\n\t\tif (!problem.ruleId) {\n\t\t\treturn;\n\t\t}\n\t\tconst uri = document.uri;\n\t\tlet edits: Map<string, Problem> | undefined = CodeActions.get(uri);\n\t\tif (edits === undefined) {\n\t\t\tedits = new Map<string, Problem>();\n\t\t\tCodeActions.set(uri, edits);\n\t\t}\n\t\tedits.set(Diagnostics.computeKey(diagnostic), {\n\t\t\tlabel: `Fix this ${problem.ruleId} problem`,\n\t\t\tdocumentVersion: document.version,\n\t\t\truleId: problem.ruleId,\n\t\t\tline: problem.line,\n\t\t\tdiagnostic: diagnostic,\n\t\t\tedit: problem.fix,\n\t\t\tsuggestions: problem.suggestions\n\t\t});\n\t}\n}\n\n/**\n * Wrapper round the ESLint npm module.\n */\nexport namespace ESLint {\n\n\tlet connection: ProposedFeatures.Connection;\n\tlet documents: TextDocuments<TextDocument>;\n\tlet inferFilePath: (documentOrUri: string | TextDocument | URI | undefined) => string | undefined;\n\tlet loadNodeModule: <T>(moduleName: string) => T | undefined;\n\n\tconst languageId2ParserRegExp: Map<string, RegExp[]> = function createLanguageId2ParserRegExp() {\n\t\tconst result = new Map<string, RegExp[]>();\n\t\tconst typescript = /\\/@typescript-eslint\\/parser\\//;\n\t\tconst babelESLint = /\\/babel-eslint\\/lib\\/index.js$/;\n\t\tconst vueESLint = /\\/vue-eslint-parser\\/index.js$/;\n\t\tresult.set('typescript', [typescript, babelESLint, vueESLint]);\n\t\tresult.set('typescriptreact', [typescript, babelESLint, vueESLint]);\n\n\t\tconst angular = /\\/@angular-eslint\\/template-parser\\//;\n\t\tresult.set('html', [angular]);\n\n\t\treturn result;\n\t}();\n\n\tconst languageId2ParserOptions: Map<string, { regExps: RegExp[]; parsers: Set<string>; parserRegExps?: RegExp[] }> = function createLanguageId2ParserOptionsRegExp() {\n\t\tconst result = new Map<string, { regExps: RegExp[]; parsers: Set<string>; parserRegExps?: RegExp[] }>();\n\t\tconst vue = /vue-eslint-parser\\/.*\\.js$/;\n\t\tconst typescriptEslintParser = /@typescript-eslint\\/parser\\/.*\\.js$/;\n\t\tresult.set('typescript', { regExps: [vue], parsers: new Set<string>(['@typescript-eslint/parser']), parserRegExps: [typescriptEslintParser] });\n\t\treturn result;\n\t}();\n\n\tconst languageId2PluginName: Map<string, string> = new Map([\n\t\t['astro', 'astro'],\n\t\t['civet', 'civet'],\n\t\t['html', 'html'],\n\t\t['json', 'jsonc'],\n\t\t['json5', 'jsonc'],\n\t\t['jsonc', 'jsonc'],\n\t\t['mdx', 'mdx'],\n\t\t['vue', 'vue'],\n\t\t['markdown', 'markdown']\n\t]);\n\n\tconst defaultLanguageIds: Set<string> = new Set([\n\t\t'javascript', 'javascriptreact'\n\t]);\n\n\tconst projectFolderIndicators: {\n\t\tfileName: string;\n\t\tisRoot: boolean;\n\t\tisFlatConfig: boolean;\n\t}[] = [\n\t\t{ fileName: 'eslint.config.js', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'eslint.config.cjs', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'eslint.config.mjs', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'eslint.config.ts', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'eslint.config.cts', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'eslint.config.mts', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'package.json', isRoot: true, isFlatConfig: false },\n\t\t{ fileName: '.eslintignore', isRoot: true, isFlatConfig: false },\n\t\t{ fileName: '.eslintrc', isRoot: false, isFlatConfig: false },\n\t\t{ fileName: '.eslintrc.json', isRoot: false, isFlatConfig: false },\n\t\t{ fileName: '.eslintrc.js', isRoot: false, isFlatConfig: false },\n\t\t{ fileName: '.eslintrc.yaml', isRoot: false, isFlatConfig: false },\n\t\t{ fileName: '.eslintrc.yml', isRoot: false, isFlatConfig: false }\n\t];\n\n\tconst path2Library: Map<string, ESLintModule> = new Map<string, ESLintModule>();\n\tconst document2Settings: Map<string, Promise<TextDocumentSettings>> = new Map<string, Promise<TextDocumentSettings>>();\n\tconst formatterRegistrations: Map<string, Promise<Disposable>> = new Map();\n\n\texport function initialize($connection: ProposedFeatures.Connection, $documents: TextDocuments<TextDocument>, $inferFilePath: (documentOrUri: string | TextDocument | URI | undefined) => string | undefined, $loadNodeModule: <T>(moduleName: string) => T | undefined) {\n\t\tconnection = $connection;\n\t\tdocuments = $documents;\n\t\tinferFilePath = $inferFilePath;\n\t\tloadNodeModule = $loadNodeModule;\n\t}\n\n\texport function removeSettings(key: string): boolean {\n\t\treturn document2Settings.delete(key);\n\t}\n\n\texport function clearSettings(): void {\n\t\tdocument2Settings.clear();\n\t}\n\n\texport function unregisterAsFormatter(document: TextDocument): void {\n\t\tconst unregister = formatterRegistrations.get(document.uri);\n\t\tif (unregister !== undefined) {\n\t\t\tvoid unregister.then(disposable => disposable.dispose());\n\t\t\tformatterRegistrations.delete(document.uri);\n\t\t}\n\t}\n\n\texport function clearFormatters(): void {\n\t\tfor (const unregistration of formatterRegistrations.values()) {\n\t\t\tvoid unregistration.then(disposable => disposable.dispose());\n\t\t}\n\t\tformatterRegistrations.clear();\n\t}\n\n\texport function resolveSettings(document: TextDocument): Promise<TextDocumentSettings> {\n\t\tconst uri = document.uri;\n\t\tlet resultPromise = document2Settings.get(uri);\n\t\tif (resultPromise) {\n\t\t\treturn resultPromise;\n\t\t}\n\t\tresultPromise = connection.workspace.getConfiguration({ scopeUri: uri, section: '' }).then((configuration: ConfigurationSettings) => {\n\t\t\tconst settings: TextDocumentSettings = Object.assign(\n\t\t\t\t{},\n\t\t\t\tconfiguration,\n\t\t\t\t{ silent: false, library: undefined, resolvedGlobalPackageManagerPath: undefined },\n\t\t\t\t{ workingDirectory: undefined}\n\t\t\t);\n\t\t\tif (settings.validate === Validate.off) {\n\t\t\t\treturn settings;\n\t\t\t}\n\t\t\tsettings.resolvedGlobalPackageManagerPath = GlobalPaths.get(settings.packageManager);\n\t\t\tconst filePath = inferFilePath(document);\n\t\t\tconst workspaceFolderPath = settings.workspaceFolder !== undefined ? inferFilePath(settings.workspaceFolder.uri) : undefined;\n\t\t\tlet assumeFlatConfig:boolean = false;\n\t\t\tconst hasUserDefinedWorkingDirectories: boolean = configuration.workingDirectory !== undefined;\n\t\t\tconst workingDirectoryConfig = configuration.workingDirectory ?? { mode: ModeEnum.location };\n\t\t\tif (ModeItem.is(workingDirectoryConfig)) {\n\t\t\t\tlet candidate: string | undefined;\n\t\t\t\tif (workingDirectoryConfig.mode === ModeEnum.location) {\n\t\t\t\t\tif (workspaceFolderPath !== undefined) {\n\t\t\t\t\t\tconst [configLocation, isFlatConfig] = findWorkingDirectory(workspaceFolderPath, filePath);\n\t\t\t\t\t\tif (isFlatConfig && settings.useFlatConfig !== false) {\n\t\t\t\t\t\t\tcandidate = configLocation;\n\t\t\t\t\t\t\tassumeFlatConfig = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcandidate = workspaceFolderPath;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (filePath !== undefined && !isUNC(filePath)) {\n\t\t\t\t\t\tcandidate = path.dirname(filePath);\n\t\t\t\t\t}\n\t\t\t\t} else if (workingDirectoryConfig.mode === ModeEnum.auto) {\n\t\t\t\t\tif (workspaceFolderPath !== undefined) {\n\t\t\t\t\t\tcandidate = findWorkingDirectory(workspaceFolderPath, filePath)[0];\n\t\t\t\t\t} else if (filePath !== undefined && !isUNC(filePath)) {\n\t\t\t\t\t\tcandidate = path.dirname(filePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (candidate !== undefined && fs.existsSync(candidate)) {\n\t\t\t\t\tsettings.workingDirectory = { directory: candidate };\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsettings.workingDirectory = workingDirectoryConfig;\n\t\t\t}\n\t\t\tlet nodePath: string | undefined;\n\t\t\tif (settings.nodePath !== null) {\n\t\t\t\tnodePath = settings.nodePath;\n\t\t\t\tif (!path.isAbsolute(nodePath) && workspaceFolderPath !== undefined) {\n\t\t\t\t\tnodePath = path.join(workspaceFolderPath, nodePath);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet moduleResolveWorkingDirectory: string | undefined;\n\t\t\tif (!hasUserDefinedWorkingDirectories && filePath !== undefined) {\n\t\t\t\tmoduleResolveWorkingDirectory = path.dirname(filePath);\n\t\t\t}\n\t\t\tif (moduleResolveWorkingDirectory === undefined && settings.workingDirectory !== undefined && !settings.workingDirectory['!cwd']) {\n\t\t\t\tmoduleResolveWorkingDirectory = settings.workingDirectory.directory;\n\t\t\t}\n\n\t\t\tlet promise: Promise<string>;\n\t\t\t// During Flat Config is considered experimental,\n\t\t\t// we need to import FlatESLint from 'eslint/use-at-your-own-risk'.\n\t\t\t// See: https://eslint.org/blog/2022/08/new-config-system-part-3/\n\t\t\tconst eslintPath = settings.experimental?.useFlatConfig ? 'eslint/use-at-your-own-risk' : 'eslint';\n\t\t\tif (nodePath !== undefined) {\n\t\t\t\tpromise = Files.resolve(eslintPath, nodePath, nodePath, trace).then<string, string>(undefined, () => {\n\t\t\t\t\treturn Files.resolve(eslintPath, settings.resolvedGlobalPackageManagerPath, moduleResolveWorkingDirectory, trace);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tpromise = Files.resolve(eslintPath, settings.resolvedGlobalPackageManagerPath, moduleResolveWorkingDirectory, trace);\n\t\t\t}\n\n\t\t\tsettings.silent = settings.validate === Validate.probe;\n\t\t\treturn promise.then(async (libraryPath) => {\n\t\t\t\tlet library = path2Library.get(libraryPath);\n\t\t\t\tif (library === undefined) {\n\t\t\t\t\tif (settings.experimental?.useFlatConfig === true) {\n\t\t\t\t\t\tconst lib = loadNodeModule<{ FlatESLint?: ESLintClassConstructor }>(libraryPath);\n\t\t\t\t\t\tif (lib === undefined) {\n\t\t\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\t\t\tif (!settings.silent) {\n\t\t\t\t\t\t\t\tconnection.console.error(`Failed to load eslint library from ${libraryPath}. If you are using ESLint v8.21 or earlier, try upgrading it. For newer versions, try disabling the 'eslint.experimental.useFlatConfig' setting. See the output panel for more information.`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (lib.FlatESLint === undefined) {\n\t\t\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\t\t\tconnection.console.error(`The eslint library loaded from ${libraryPath} doesn\\'t export a FlatESLint class.`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconnection.console.info(`ESLint library loaded from: ${libraryPath}`);\n\t\t\t\t\t\t\t// pretend to be a regular eslint endpoint\n\t\t\t\t\t\t\tlibrary = {\n\t\t\t\t\t\t\t\tESLint: lib.FlatESLint,\n\t\t\t\t\t\t\t\tisFlatConfig: true,\n\t\t\t\t\t\t\t\tCLIEngine: undefined,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tsettings.library = library;\n\t\t\t\t\t\t\tpath2Library.set(libraryPath, library);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlibrary = loadNodeModule(libraryPath);\n\t\t\t\t\t\tif (library === undefined) {\n\t\t\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\t\t\tif (!settings.silent) {\n\t\t\t\t\t\t\t\tconnection.console.error(`Failed to load eslint library from ${libraryPath}. See output panel for more information.`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (library.CLIEngine === undefined && library.ESLint === undefined) {\n\t\t\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\t\t\tconnection.console.error(`The eslint library loaded from ${libraryPath} doesn\\'t export neither a CLIEngine nor an ESLint class. You need at least eslint@1.0.0`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconnection.console.info(`ESLint library loaded from: ${libraryPath}`);\n\t\t\t\t\t\t\tsettings.library = library;\n\t\t\t\t\t\t\tpath2Library.set(libraryPath, library);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (library !== undefined && ESLintModule.hasESLintClass(library) && typeof library.ESLint.version === 'string') {\n\t\t\t\t\t\tconst esLintVersion = semverParse(library.ESLint.version);\n\t\t\t\t\t\tif (esLintVersion !== null) {\n\t\t\t\t\t\t\tif (semverGte(esLintVersion, '8.57.0') && settings.experimental?.useFlatConfig === true) {\n\t\t\t\t\t\t\t\tconnection.console.info(`ESLint version ${library.ESLint.version} supports flat config without experimental opt-in. The 'eslint.experimental.useFlatConfig' setting can be removed.`);\n\t\t\t\t\t\t\t} else if (semverGte(esLintVersion, '10.0.0') && (settings.experimental?.useFlatConfig === false || settings.useFlatConfig === false)) {\n\t\t\t\t\t\t\t\tconnection.console.info(`ESLint version ${library.ESLint.version} only supports flat configs. Setting is ignored.`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsettings.library = library;\n\t\t\t\t}\n\t\t\t\tif (settings.validate === Validate.probe && TextDocumentSettings.hasLibrary(settings)) {\n\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\tconst filePath = ESLint.getFilePath(document, settings);\n\t\t\t\t\tif (filePath !== undefined) {\n\t\t\t\t\t\tconst parserRegExps = languageId2ParserRegExp.get(document.languageId);\n\t\t\t\t\t\tconst pluginName = languageId2PluginName.get(document.languageId);\n\t\t\t\t\t\tconst parserOptions = languageId2ParserOptions.get(document.languageId);\n\t\t\t\t\t\tif (defaultLanguageIds.has(document.languageId)) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tconst [isIgnored, configType] = await ESLint.withClass(async (eslintClass) => {\n\t\t\t\t\t\t\t\t\treturn [await eslintClass.isPathIgnored(filePath), ESLintClass.getConfigType(eslintClass)];\n\t\t\t\t\t\t\t\t}, settings);\n\t\t\t\t\t\t\t\tif (isIgnored === false || (isIgnored === true && settings.onIgnoredFiles !== ESLintSeverity.off)) {\n\t\t\t\t\t\t\t\t\tsettings.validate = Validate.on;\n\t\t\t\t\t\t\t\t\tif (assumeFlatConfig && configType === 'eslintrc') {\n\t\t\t\t\t\t\t\t\t\tconnection.console.info(`Expected to use flat configuration from directory ${settings.workingDirectory?.directory} but loaded eslintrc config.`);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\t\t\t\tawait connection.sendNotification(StatusNotification.type, { uri, state: Status.error });\n\t\t\t\t\t\t\t\tconnection.console.error(`Calculating config file for ${uri}) failed.\\n${error instanceof Error ? error.stack : ''}`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (parserRegExps !== undefined || pluginName !== undefined || parserOptions !== undefined) {\n\t\t\t\t\t\t\tconst [eslintConfig, configType] = await ESLint.withClass(async (eslintClass) => {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif (await eslintClass.isPathIgnored(filePath)) {\n\t\t\t\t\t\t\t\t\t\treturn [undefined, undefined];\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn [await eslintClass.calculateConfigForFile(filePath), ESLintClass.getConfigType(eslintClass)];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tawait connection.sendNotification(StatusNotification.type, { uri, state: Status.error });\n\t\t\t\t\t\t\t\t\t\tconnection.console.error(`Calculating config file for ${uri}) failed.\\n${err instanceof Error ? err.stack : ''}`);\n\t\t\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\t\t\t// little we can do here\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn [undefined, undefined];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, settings);\n\t\t\t\t\t\t\tif (eslintConfig !== undefined) {\n\t\t\t\t\t\t\t\tif (assumeFlatConfig && configType === 'eslintrc') {\n\t\t\t\t\t\t\t\t\tconnection.console.info(`Expected to use flat configuration from directory ${settings.workingDirectory?.directory} but loaded eslintrc config.`);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (configType === 'flat' || ESLintModule.isFlatConfig(settings.library)) {\n\t\t\t\t\t\t\t\t\t// We have a flat configuration. This means that the config file needs to\n\t\t\t\t\t\t\t\t\t// have a section per file extension we want to validate. If there is none than\n\t\t\t\t\t\t\t\t\t// `calculateConfigForFile` will return no config since the config options without\n\t\t\t\t\t\t\t\t\t// a `files` property only applies to `**/*.js, **/*.cjs, and **/*.mjs` by default\n\t\t\t\t\t\t\t\t\t// See https://eslint.org/docs/latest/user-guide/configuring/configuration-files-new#specifying-files-and-ignores\n\n\t\t\t\t\t\t\t\t\t// This means since we have found a configuration for the given file we assume that\n\t\t\t\t\t\t\t\t\t// that configuration is correctly pointing to a parser.\n\t\t\t\t\t\t\t\t\tsettings.validate = Validate.on;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst parser: string | undefined =  eslintConfig.parser !== null\n\t\t\t\t\t\t\t\t\t\t? normalizePath(eslintConfig.parser)\n\t\t\t\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\t\t\t\t\tif (parser !== undefined) {\n\t\t\t\t\t\t\t\t\t\tif (parserRegExps !== undefined) {\n\t\t\t\t\t\t\t\t\t\t\tfor (const regExp of parserRegExps) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (regExp.test(parser)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsettings.validate = Validate.on;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (settings.validate !== Validate.on && parserOptions !== undefined && typeof eslintConfig.parserOptions?.parser === 'string') {\n\t\t\t\t\t\t\t\t\t\t\tconst eslintConfigParserOptionsParser = normalizePath(eslintConfig.parserOptions.parser);\n\t\t\t\t\t\t\t\t\t\t\tfor (const regExp of parserOptions.regExps) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (regExp.test(parser) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\tparserOptions.parsers.has(eslintConfig.parserOptions.parser) ||\n\t\t\t\t\t\t\t\t\t\t\tparserOptions.parserRegExps !== undefined && parserOptions.parserRegExps.some(parserRegExp => parserRegExp.test(eslintConfigParserOptionsParser))\n\t\t\t\t\t\t\t\t\t\t\t\t)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsettings.validate = Validate.on;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (settings.validate !== Validate.on && Array.isArray(eslintConfig.plugins) && eslintConfig.plugins.length > 0 && pluginName !== undefined) {\n\t\t\t\t\t\t\t\t\t\tfor (const name of eslintConfig.plugins) {\n\t\t\t\t\t\t\t\t\t\t\tif (name === pluginName) {\n\t\t\t\t\t\t\t\t\t\t\t\tsettings.validate = Validate.on;\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (settings.validate === Validate.off) {\n\t\t\t\t\t\tconst params: ProbeFailedParams = { textDocument: { uri: document.uri } };\n\t\t\t\t\t\tvoid connection.sendRequest(ProbeFailedRequest.type, params);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (settings.validate === Validate.on) {\n\t\t\t\t\tsettings.silent = false;\n\t\t\t\t\tif (settings.format && TextDocumentSettings.hasLibrary(settings) && !formatterRegistrations.has(uri)) {\n\t\t\t\t\t\tconst Uri = URI.parse(uri);\n\t\t\t\t\t\tconst isFile = Uri.scheme === 'file';\n\t\t\t\t\t\tlet pattern: string = isFile\n\t\t\t\t\t\t\t? Uri.fsPath.replace(/\\\\/g, '/')\n\t\t\t\t\t\t\t: Uri.fsPath;\n\t\t\t\t\t\tpattern = pattern.replace(/[\\[\\]\\{\\}]/g, '?');\n\n\t\t\t\t\t\tconst filter: DocumentFilter = { scheme: Uri.scheme, pattern: pattern };\n\t\t\t\t\t\tconst options: DocumentFormattingRegistrationOptions = { documentSelector: [filter] };\n\t\t\t\t\t\tif (!isFile) {\n\t\t\t\t\t\t\tformatterRegistrations.set(uri, connection.client.register(DocumentFormattingRequest.type, options));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst filePath = inferFilePath(uri)!;\n\t\t\t\t\t\t\tawait ESLint.withClass(async (eslintClass) => {\n\t\t\t\t\t\t\t\tif (!await eslintClass.isPathIgnored(filePath)) {\n\t\t\t\t\t\t\t\t\tformatterRegistrations.set(uri, connection.client.register(DocumentFormattingRequest.type, options));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, settings);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn settings;\n\t\t\t}, () => {\n\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\tif (!settings.silent) {\n\t\t\t\t\tvoid connection.sendRequest(NoESLintLibraryRequest.type, { source: { uri: document.uri } });\n\t\t\t\t}\n\t\t\t\treturn settings;\n\t\t\t});\n\t\t});\n\t\tdocument2Settings.set(uri, resultPromise);\n\t\treturn resultPromise;\n\t}\n\n\texport async function newClass(library: ESLintModule, newOptions: ESLintClassOptions | CLIOptions, settings: TextDocumentSettings): Promise<ESLintClass> {\n\t\t// Since ESLint version 8.57 we have a dedicated loadESLint function\n\t\t// which takes care of loading the right ESLint class. We available\n\t\t// we use it.\n\t\tif (ESLintModule.hasLoadESLint(library)) {\n\t\t\treturn new (await library.loadESLint({ useFlatConfig: settings.useFlatConfig }))(newOptions);\n\t\t}\n\t\t// If we have version 7 where we have both ESLint class and CLIEngine we only\n\t\t// use the ESLint class if a corresponding setting (useESLintClass) is set.\n\t\tif (ESLintModule.hasESLintClass(library) && settings.useESLintClass) {\n\t\t\treturn new library.ESLint(newOptions);\n\t\t}\n\t\tif (ESLintModule.hasCLIEngine(library)) {\n\t\t\treturn new ESLintClassEmulator(new library.CLIEngine(newOptions));\n\t\t}\n\t\treturn new library.ESLint(newOptions);\n\t}\n\n\texport async function withClass<T>(func: (eslintClass: ESLintClass) => Promise<T>, settings: TextDocumentSettings & { library: ESLintModule }, options?: ESLintClassOptions | CLIOptions): Promise<T> {\n\t\tconst newOptions: ESLintClassOptions | CLIOptions = options === undefined\n\t\t\t? Object.assign(Object.create(null), settings.options)\n\t\t\t: Object.assign(Object.create(null), settings.options, options);\n\n\t\tconst cwd = process.cwd();\n\t\ttry {\n\t\t\tif (settings.workingDirectory) {\n\t\t\t\t// A lot of libs are sensitive to drive letter casing and assume a\n\t\t\t\t// upper case drive letter. Make sure we support that correctly.\n\t\t\t\tconst newCWD = normalizeWorkingDirectory(settings.workingDirectory.directory);\n\t\t\t\tnewOptions.cwd = newCWD;\n\t\t\t\tif (settings.workingDirectory['!cwd'] !== true && fs.existsSync(newCWD)) {\n\t\t\t\t\tprocess.chdir(newCWD);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst eslintClass = await newClass(settings.library, newOptions, settings);\n\t\t\t// We need to await the result to ensure proper execution of the\n\t\t\t// finally block.\n\t\t\treturn await func(eslintClass);\n\t\t} finally {\n\t\t\tif (cwd !== process.cwd()) {\n\t\t\t\tprocess.chdir(cwd);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction normalizeWorkingDirectory(value: string): string {\n\t\tconst result = normalizeDriveLetter(value);\n\t\tif (result.length === 0) {\n\t\t\treturn result;\n\t\t}\n\t\treturn result[result.length - 1] === path.sep\n\t\t\t? result.substring(0, result.length - 1)\n\t\t\t: result;\n\t}\n\n\texport function getFilePath(document: TextDocument | undefined, settings: TextDocumentSettings): string | undefined {\n\t\tif (document === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst uri = URI.parse(document.uri);\n\t\tif (uri.scheme !== 'file') {\n\t\t\tif (settings.workspaceFolder !== undefined) {\n\t\t\t\tconst ext = LanguageDefaults.getExtension(document.languageId);\n\t\t\t\tconst workspacePath = inferFilePath(settings.workspaceFolder.uri);\n\t\t\t\tif (workspacePath !== undefined && ext !== undefined) {\n\t\t\t\t\treturn path.join(workspacePath, `test.${ext}`);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\treturn inferFilePath(uri);\n\t\t}\n\t}\n\n\tconst validFixTypes = new Set<string>(['problem', 'suggestion', 'layout', 'directive']);\n\texport async function validate(document: TextDocument, settings: TextDocumentSettings & { library: ESLintModule }): Promise<Diagnostic[]> {\n\t\tconst newOptions: CLIOptions = Object.assign(Object.create(null), settings.options);\n\t\tlet fixTypes: Set<string> | undefined = undefined;\n\t\tif (Array.isArray(newOptions.fixTypes) && newOptions.fixTypes.length > 0) {\n\t\t\tfixTypes = new Set();\n\t\t\tfor (const item of newOptions.fixTypes) {\n\t\t\t\tif (validFixTypes.has(item)) {\n\t\t\t\t\tfixTypes.add(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (fixTypes.size === 0) {\n\t\t\t\tfixTypes = undefined;\n\t\t\t}\n\t\t}\n\n\t\tconst content = document.getText();\n\t\tconst uri = document.uri;\n\t\tconst file = getFilePath(document, settings);\n\n\t\treturn withClass(async (eslintClass) => {\n\t\t\tCodeActions.remove(uri);\n\t\t\tconst reportResults: ESLintDocumentReport[] = await eslintClass.lintText(content, { filePath: file, warnIgnored: settings.onIgnoredFiles !== ESLintSeverity.off });\n\t\t\tRuleMetaData.capture(eslintClass, reportResults);\n\t\t\tconst diagnostics: Diagnostic[] = [];\n\t\t\tif (reportResults && Array.isArray(reportResults) && reportResults.length > 0) {\n\t\t\t\tconst docReport = reportResults[0];\n\t\t\t\tif (docReport.messages && Array.isArray(docReport.messages)) {\n\t\t\t\t\tdocReport.messages.forEach((problem) => {\n\t\t\t\t\t\tif (problem) {\n\t\t\t\t\t\t\tconst [diagnostic, override] = Diagnostics.create(settings, problem, document);\n\t\t\t\t\t\t\tif (!(override === RuleSeverity.off || (settings.quiet && diagnostic.severity === DiagnosticSeverity.Warning))) {\n\t\t\t\t\t\t\t\tdiagnostics.push(diagnostic);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (fixTypes !== undefined && problem.ruleId !== undefined && problem.fix !== undefined) {\n\t\t\t\t\t\t\t\tconst type = RuleMetaData.getType(problem.ruleId);\n\t\t\t\t\t\t\t\tif (type !== undefined && fixTypes.has(type)) {\n\t\t\t\t\t\t\t\t\tCodeActions.record(document, diagnostic, problem);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (RuleMetaData.isUnusedDisableDirectiveProblem(problem)) {\n\t\t\t\t\t\t\t\t\tproblem.ruleId = RuleMetaData.unusedDisableDirectiveId;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tCodeActions.record(document, diagnostic, problem);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn diagnostics;\n\t\t}, settings);\n\t}\n\n\tfunction trace(message: string, verbose?: string): void {\n\t\tconnection.tracer.log(message, verbose);\n\t}\n\n\t/**\n\t * Global paths for the different package managers\n\t */\n\tnamespace GlobalPaths {\n\t\tconst globalPaths: Record<string, { cache: string | undefined; get(): string | undefined }> = {\n\t\t\tyarn: {\n\t\t\t\tcache: undefined,\n\t\t\t\tget(): string | undefined {\n\t\t\t\t\treturn Files.resolveGlobalYarnPath(trace);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnpm: {\n\t\t\t\tcache: undefined,\n\t\t\t\tget(): string | undefined {\n\t\t\t\t\treturn Files.resolveGlobalNodePath(trace);\n\t\t\t\t}\n\t\t\t},\n\t\t\tpnpm: {\n\t\t\t\tcache: undefined,\n\t\t\t\tget(): string {\n\t\t\t\t\tconst pnpmPath = execSync('pnpm root -g').toString().trim();\n\t\t\t\t\treturn pnpmPath;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\texport function get(packageManager: PackageManagers): string | undefined {\n\t\t\tconst pm = globalPaths[packageManager];\n\t\t\tif (pm) {\n\t\t\t\tif (pm.cache === undefined) {\n\t\t\t\t\tpm.cache = pm.get();\n\t\t\t\t}\n\t\t\t\treturn pm.cache;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\texport function findWorkingDirectory(workspaceFolder: string, file: string | undefined): [string, boolean] {\n\t\tif (file === undefined || isUNC(file)) {\n\t\t\treturn [workspaceFolder, false];\n\t\t}\n\t\t// Don't probe for something in node modules folder.\n\t\tif (file.indexOf(`${path.sep}node_modules${path.sep}`) !== -1) {\n\t\t\treturn [workspaceFolder, false];\n\t\t}\n\n\t\tlet result: string = workspaceFolder;\n\t\tlet flatConfig: boolean = false;\n\t\tlet directory: string | undefined = path.dirname(file);\n\t\touter: while (directory !== undefined && directory.startsWith(workspaceFolder)) {\n\t\t\tfor (const { fileName, isRoot, isFlatConfig } of projectFolderIndicators) {\n\t\t\t\tif (fs.existsSync(path.join(directory, fileName))) {\n\t\t\t\t\tresult = directory;\n\t\t\t\t\tflatConfig = isFlatConfig;\n\t\t\t\t\tif (isRoot) {\n\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst parent = path.dirname(directory);\n\t\t\tdirectory = parent !== directory ? parent : undefined;\n\t\t}\n\t\treturn [result, flatConfig];\n\t}\n\n\texport namespace ErrorHandlers {\n\n\t\texport const single: ((error: any, document: TextDocument, library: ESLintModule, settings: TextDocumentSettings) => Status | undefined)[] = [\n\t\t\ttryHandleNoConfig,\n\t\t\ttryHandleConfigError,\n\t\t\ttryHandleMissingModule,\n\t\t\tshowErrorMessage\n\t\t];\n\n\t\texport function getMessage(err: any, document: TextDocument): string {\n\t\t\tlet result: string | undefined = undefined;\n\t\t\tif (typeof err.message === 'string' || err.message instanceof String) {\n\t\t\t\tresult = <string>err.message;\n\t\t\t\tresult = result.replace(/\\r?\\n/g, ' ');\n\t\t\t\tif (/^CLI: /.test(result)) {\n\t\t\t\t\tresult = result.substr(5);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = `An unknown error occurred while validating document: ${document.uri}`;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tconst noConfigReported: Map<string, ESLintModule> = new Map<string, ESLintModule>();\n\n\t\texport function clearNoConfigReported(): void {\n\t\t\tnoConfigReported.clear();\n\t\t}\n\n\t\tfunction tryHandleNoConfig(error: any, document: TextDocument, library: ESLintModule): Status | undefined {\n\t\t\tif (!ESLintError.isNoConfigFound(error)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tif (!noConfigReported.has(document.uri)) {\n\t\t\t\tconnection.sendRequest(\n\t\t\t\t\tNoConfigRequest.type,\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage: getMessage(error, document),\n\t\t\t\t\t\tdocument: {\n\t\t\t\t\t\t\turi: document.uri\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t).then(undefined, () => { });\n\t\t\t\tnoConfigReported.set(document.uri, library);\n\t\t\t}\n\t\t\treturn Status.warn;\n\t\t}\n\n\t\tconst configErrorReported: Map<string, { library: ESLintModule; settings: TextDocumentSettings }> = new Map();\n\n\t\texport function getConfigErrorReported(key: string): { library: ESLintModule; settings: TextDocumentSettings } | undefined {\n\t\t\treturn configErrorReported.get(key);\n\t\t}\n\n\t\texport function removeConfigErrorReported(key: string): boolean {\n\t\t\treturn configErrorReported.delete(key);\n\t\t}\n\n\t\tfunction tryHandleConfigError(error: any, document: TextDocument, library: ESLintModule, settings: TextDocumentSettings): Status | undefined {\n\t\t\tif (!error.message) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tfunction handleFileName(filename: string): Status {\n\t\t\t\tif (!configErrorReported.has(filename)) {\n\t\t\t\t\tconnection.console.error(getMessage(error, document));\n\t\t\t\t\tif (!documents.get(URI.file(filename).toString())) {\n\t\t\t\t\t\tconnection.window.showInformationMessage(getMessage(error, document));\n\t\t\t\t\t}\n\t\t\t\t\tconfigErrorReported.set(filename, { library, settings });\n\t\t\t\t}\n\t\t\t\treturn Status.warn;\n\t\t\t}\n\n\t\t\tlet matches = /Cannot read config file:\\s+(.*)\\nError:\\s+(.*)/.exec(error.message);\n\t\t\tif (matches && matches.length === 3) {\n\t\t\t\treturn handleFileName(matches[1]);\n\t\t\t}\n\n\t\t\tmatches = /(.*):\\n\\s*Configuration for rule \\\"(.*)\\\" is /.exec(error.message);\n\t\t\tif (matches && matches.length === 3) {\n\t\t\t\treturn handleFileName(matches[1]);\n\t\t\t}\n\n\t\t\tmatches = /Cannot find module '([^']*)'\\nReferenced from:\\s+(.*)/.exec(error.message);\n\t\t\tif (matches && matches.length === 3) {\n\t\t\t\treturn handleFileName(matches[2]);\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst missingModuleReported: Map<string, ESLintModule> = new Map<string, ESLintModule>();\n\n\t\texport function clearMissingModuleReported(): void {\n\t\t\tmissingModuleReported.clear();\n\t\t}\n\n\t\tfunction tryHandleMissingModule(error: any, document: TextDocument, library: ESLintModule): Status | undefined {\n\t\t\tif (!error.message) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tfunction handleMissingModule(plugin: string, module: string, error: ESLintError): Status {\n\t\t\t\tif (!missingModuleReported.has(plugin)) {\n\t\t\t\t\tconst fsPath = inferFilePath(document);\n\t\t\t\t\tmissingModuleReported.set(plugin, library);\n\t\t\t\t\tif (error.messageTemplate === 'plugin-missing') {\n\t\t\t\t\t\tconnection.console.error([\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t`${error.message.toString()}`,\n\t\t\t\t\t\t\t`Happened while validating ${fsPath ? fsPath : document.uri}`,\n\t\t\t\t\t\t\t`This can happen for a couple of reasons:`,\n\t\t\t\t\t\t\t`1. The plugin name is spelled incorrectly in an ESLint configuration file (e.g. .eslintrc).`,\n\t\t\t\t\t\t\t`2. If ESLint is installed globally, then make sure ${module} is installed globally as well.`,\n\t\t\t\t\t\t\t`3. If ESLint is installed locally, then ${module} isn't installed correctly.`,\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t`Consider running eslint --debug ${fsPath ? fsPath : document.uri} from a terminal to obtain a trace about the configuration files used.`\n\t\t\t\t\t\t].join('\\n'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconnection.console.error([\n\t\t\t\t\t\t\t`${error.message.toString()}`,\n\t\t\t\t\t\t\t`Happened while validating ${fsPath ? fsPath : document.uri}`\n\t\t\t\t\t\t].join('\\n'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn Status.warn;\n\t\t\t}\n\n\t\t\tconst matches = /Failed to load plugin (.*): Cannot find module (.*)/.exec(error.message);\n\t\t\tif (matches && matches.length === 3) {\n\t\t\t\treturn handleMissingModule(matches[1], matches[2], error);\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\n\t\tfunction showErrorMessage(error: any, document: TextDocument): Status {\n\t\t\tif (Is.string(error.stack)) {\n\t\t\t\tconnection.console.error('An unexpected error occurred:');\n\t\t\t\tconnection.console.error(error.stack);\n\t\t\t} else {\n\t\t\t\tconnection.console.error(`An unexpected error occurred: ${getMessage(error, document)}.`);\n\t\t\t}\n\t\t\treturn Status.error;\n\t\t}\n\t}\n}\n","'use strict'\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Declaration} or a typed array of {@link DeclarationLink}\n * or a Thenable that resolves to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n    DeclarationRequest.capabilities = messages_1.CM.create('textDocument.declaration', 'declarationProvider');\n})(DeclarationRequest || (exports.DeclarationRequest = DeclarationRequest = {}));\n","module.exports = require(\"path\");","module.exports = require(\"crypto\");","module.exports = require(\"url\");","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.PortMessageWriter = exports.PortMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\nexports.generateRandomPipeName = generateRandomPipeName;\nexports.createClientPipeTransport = createClientPipeTransport;\nexports.createServerPipeTransport = createServerPipeTransport;\nexports.createClientSocketTransport = createClientSocketTransport;\nexports.createServerSocketTransport = createServerSocketTransport;\nexports.createMessageConnection = createMessageConnection;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = __importDefault(require(\"./ril\"));\n// Install the node runtime abstract.\nril_1.default.install();\nconst path = __importStar(require(\"path\"));\nconst os = __importStar(require(\"os\"));\nconst fs = __importStar(require(\"fs\"));\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    process;\n    constructor(process) {\n        super();\n        this.process = process;\n        const eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    process;\n    errorCount;\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        const eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass PortMessageReader extends api_1.AbstractMessageReader {\n    onData;\n    constructor(port) {\n        super();\n        this.onData = new api_1.Emitter;\n        port.on('close', () => this.fireClose);\n        port.on('error', (error) => this.fireError(error));\n        port.on('message', (message) => {\n            this.onData.fire(message);\n        });\n    }\n    listen(callback) {\n        return this.onData.event(callback);\n    }\n}\nexports.PortMessageReader = PortMessageReader;\nclass PortMessageWriter extends api_1.AbstractMessageWriter {\n    port;\n    errorCount;\n    constructor(port) {\n        super();\n        this.port = port;\n        this.errorCount = 0;\n        port.on('close', () => this.fireClose());\n        port.on('error', (error) => this.fireError(error));\n    }\n    write(msg) {\n        try {\n            this.port.postMessage(msg);\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.PortMessageWriter = PortMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    socket;\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readable, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readable), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\lsp-${(0, crypto_1.randomBytes)(16).toString('hex')}-sock`;\n    }\n    let randomLength = 32;\n    const fixedLength = 'lsp-.sock'.length;\n    const tmpDir = fs.realpathSync(XDG_RUNTIME_DIR ?? os.tmpdir());\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined) {\n        randomLength = Math.min(limit - tmpDir.length - fixedLength, randomLength);\n    }\n    if (randomLength < 16) {\n        throw new Error(`Unable to generate a random pipe name with ${randomLength} characters.`);\n    }\n    const randomSuffix = (0, crypto_1.randomBytes)(Math.floor(randomLength / 2)).toString('hex');\n    return path.join(tmpDir, `lsp-${randomSuffix}.sock`);\n}\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\n","'use strict'\n\nconst debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = createProtocolConnection;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\n","var LIB;(()=>{\"use strict\";var t={975:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,n=\"\",i=0,o=-1,s=0,h=0;h<=t.length;++h){if(h<t.length)r=t.charCodeAt(h);else{if(47===r)break;r=47}if(47===r){if(o===h-1||1===s);else if(o!==h-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var a=n.lastIndexOf(\"/\");if(a!==n.length-1){-1===a?(n=\"\",i=0):i=(n=n.slice(0,a)).length-1-n.lastIndexOf(\"/\"),o=h,s=0;continue}}else if(2===n.length||1===n.length){n=\"\",i=0,o=h,s=0;continue}e&&(n.length>0?n+=\"/..\":n=\"..\",i=2)}else n.length>0?n+=\"/\"+t.slice(o+1,h):n=t.slice(o+1,h),i=h-o-1;o=h,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var t,n=\"\",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(n=s+\"/\"+n,i=47===s.charCodeAt(0))}return n=r(n,!i),i?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var n=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t=\".\"),t.length>0&&i&&(t+=\"/\"),n?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var i=arguments[r];e(i),i.length>0&&(void 0===t?t=i:t+=\"/\"+i)}return void 0===t?\".\":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=n.resolve(t))===(r=n.resolve(r)))return\"\";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,s=o-i,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var a=r.length-h,c=s<a?s:a,f=-1,u=0;u<=c;++u){if(u===c){if(a>c){if(47===r.charCodeAt(h+u))return r.slice(h+u+1);if(0===u)return r.slice(h+u)}else s>c&&(47===t.charCodeAt(i+u)?f=u:0===u&&(f=0));break}var l=t.charCodeAt(i+u);if(l!==r.charCodeAt(h+u))break;47===l&&(f=u)}var g=\"\";for(u=i+f+1;u<=o;++u)u!==o&&47!==t.charCodeAt(u)||(0===g.length?g+=\"..\":g+=\"/..\");return g.length>0?g+r.slice(h+f):(h+=f,47===r.charCodeAt(h)&&++h,r.slice(h))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),n=47===r,i=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(r=t.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?n?\"/\":\".\":n&&1===i?\"//\":t.slice(0,i)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var n,i=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var h=r.length-1,a=-1;for(n=t.length-1;n>=0;--n){var c=t.charCodeAt(n);if(47===c){if(!s){i=n+1;break}}else-1===a&&(s=!1,a=n+1),h>=0&&(c===r.charCodeAt(h)?-1==--h&&(o=n):(h=-1,o=a))}return i===o?o=a:-1===o&&(o=t.length),t.slice(i,o)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!s){i=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?\"\":t.slice(i,o)},extname:function(t){e(t);for(var r=-1,n=0,i=-1,o=!0,s=0,h=t.length-1;h>=0;--h){var a=t.charCodeAt(h);if(47!==a)-1===i&&(o=!1,i=h+1),46===a?-1===r?r=h:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){n=h+1;break}}return-1===r||-1===i||0===s||1===s&&r===i-1&&r===n+1?\"\":t.slice(r,i)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+n:r+\"/\"+n:n}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var n,i=t.charCodeAt(0),o=47===i;o?(r.root=\"/\",n=1):n=0;for(var s=-1,h=0,a=-1,c=!0,f=t.length-1,u=0;f>=n;--f)if(47!==(i=t.charCodeAt(f)))-1===a&&(c=!1,a=f+1),46===i?-1===s?s=f:1!==u&&(u=1):-1!==s&&(u=-1);else if(!c){h=f+1;break}return-1===s||-1===a||0===u||1===u&&s===a-1&&s===h+1?-1!==a&&(r.base=r.name=0===h&&o?t.slice(1,a):t.slice(h,a)):(0===h&&o?(r.name=t.slice(1,s),r.base=t.slice(1,a)):(r.name=t.slice(h,s),r.base=t.slice(h,a)),r.ext=t.slice(s,a)),h>0?r.dir=t.slice(0,h-1):o&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,t.exports=n}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var n={};let i;if(r.r(n),r.d(n,{URI:()=>l,Utils:()=>I}),\"object\"==typeof process)i=\"win32\"===process.platform;else if(\"object\"==typeof navigator){let t=navigator.userAgent;i=t.indexOf(\"Windows\")>=0}const o=/^\\w[\\w\\d+.-]*$/,s=/^\\//,h=/^\\/\\//;function a(t,e){if(!t.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: \"\", authority: \"${t.authority}\", path: \"${t.path}\", query: \"${t.query}\", fragment: \"${t.fragment}\"}`);if(t.scheme&&!o.test(t.scheme))throw new Error(\"[UriError]: Scheme contains illegal characters.\");if(t.path)if(t.authority){if(!s.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character')}else if(h.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")')}const c=\"\",f=\"/\",u=/^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;class l{static isUri(t){return t instanceof l||!!t&&\"string\"==typeof t.authority&&\"string\"==typeof t.fragment&&\"string\"==typeof t.path&&\"string\"==typeof t.query&&\"string\"==typeof t.scheme&&\"string\"==typeof t.fsPath&&\"function\"==typeof t.with&&\"function\"==typeof t.toString}scheme;authority;path;query;fragment;constructor(t,e,r,n,i,o=!1){\"object\"==typeof t?(this.scheme=t.scheme||c,this.authority=t.authority||c,this.path=t.path||c,this.query=t.query||c,this.fragment=t.fragment||c):(this.scheme=function(t,e){return t||e?t:\"file\"}(t,o),this.authority=e||c,this.path=function(t,e){switch(t){case\"https\":case\"http\":case\"file\":e?e[0]!==f&&(e=f+e):e=f}return e}(this.scheme,r||c),this.query=n||c,this.fragment=i||c,a(this,o))}get fsPath(){return v(this,!1)}with(t){if(!t)return this;let{scheme:e,authority:r,path:n,query:i,fragment:o}=t;return void 0===e?e=this.scheme:null===e&&(e=c),void 0===r?r=this.authority:null===r&&(r=c),void 0===n?n=this.path:null===n&&(n=c),void 0===i?i=this.query:null===i&&(i=c),void 0===o?o=this.fragment:null===o&&(o=c),e===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&o===this.fragment?this:new d(e,r,n,i,o)}static parse(t,e=!1){const r=u.exec(t);return r?new d(r[2]||c,w(r[4]||c),w(r[5]||c),w(r[7]||c),w(r[9]||c),e):new d(c,c,c,c,c)}static file(t){let e=c;if(i&&(t=t.replace(/\\\\/g,f)),t[0]===f&&t[1]===f){const r=t.indexOf(f,2);-1===r?(e=t.substring(2),t=f):(e=t.substring(2,r),t=t.substring(r)||f)}return new d(\"file\",e,t,c,c)}static from(t){const e=new d(t.scheme,t.authority,t.path,t.query,t.fragment);return a(e,!0),e}toString(t=!1){return b(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof l)return t;{const e=new d(t);return e._formatted=t.external,e._fsPath=t._sep===g?t.fsPath:null,e}}return t}}const g=i?1:void 0;class d extends l{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=v(this,!1)),this._fsPath}toString(t=!1){return t?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){const t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=g),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}}const p={58:\"%3A\",47:\"%2F\",63:\"%3F\",35:\"%23\",91:\"%5B\",93:\"%5D\",64:\"%40\",33:\"%21\",36:\"%24\",38:\"%26\",39:\"%27\",40:\"%28\",41:\"%29\",42:\"%2A\",43:\"%2B\",44:\"%2C\",59:\"%3B\",61:\"%3D\",32:\"%20\"};function m(t,e,r){let n,i=-1;for(let o=0;o<t.length;o++){const s=t.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||e&&47===s||r&&91===s||r&&93===s||r&&58===s)-1!==i&&(n+=encodeURIComponent(t.substring(i,o)),i=-1),void 0!==n&&(n+=t.charAt(o));else{void 0===n&&(n=t.substr(0,o));const e=p[s];void 0!==e?(-1!==i&&(n+=encodeURIComponent(t.substring(i,o)),i=-1),n+=e):-1===i&&(i=o)}}return-1!==i&&(n+=encodeURIComponent(t.substring(i))),void 0!==n?n:t}function y(t){let e;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);35===n||63===n?(void 0===e&&(e=t.substr(0,r)),e+=p[n]):void 0!==e&&(e+=t[r])}return void 0!==e?e:t}function v(t,e){let r;return r=t.authority&&t.path.length>1&&\"file\"===t.scheme?`//${t.authority}${t.path}`:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?e?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,i&&(r=r.replace(/\\//g,\"\\\\\")),r}function b(t,e){const r=e?y:m;let n=\"\",{scheme:i,authority:o,path:s,query:h,fragment:a}=t;if(i&&(n+=i,n+=\":\"),(o||\"file\"===i)&&(n+=f,n+=f),o){let t=o.indexOf(\"@\");if(-1!==t){const e=o.substr(0,t);o=o.substr(t+1),t=e.lastIndexOf(\":\"),-1===t?n+=r(e,!1,!1):(n+=r(e.substr(0,t),!1,!1),n+=\":\",n+=r(e.substr(t+1),!1,!0)),n+=\"@\"}o=o.toLowerCase(),t=o.lastIndexOf(\":\"),-1===t?n+=r(o,!1,!0):(n+=r(o.substr(0,t),!1,!0),n+=o.substr(t))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const t=s.charCodeAt(1);t>=65&&t<=90&&(s=`/${String.fromCharCode(t+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const t=s.charCodeAt(0);t>=65&&t<=90&&(s=`${String.fromCharCode(t+32)}:${s.substr(2)}`)}n+=r(s,!0,!1)}return h&&(n+=\"?\",n+=r(h,!1,!1)),a&&(n+=\"#\",n+=e?a:m(a,!1,!1)),n}function C(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substr(0,3)+C(t.substr(3)):t}}const A=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(t){return t.match(A)?t.replace(A,(t=>C(t))):t}var x=r(975);const P=x.posix||x,_=\"/\";var I;!function(t){t.joinPath=function(t,...e){return t.with({path:P.join(t.path,...e)})},t.resolvePath=function(t,...e){let r=t.path,n=!1;r[0]!==_&&(r=_+r,n=!0);let i=P.resolve(r,...e);return n&&i[0]===_&&!t.authority&&(i=i.substring(1)),t.with({path:i})},t.dirname=function(t){if(0===t.path.length||t.path===_)return t;let e=P.dirname(t.path);return 1===e.length&&46===e.charCodeAt(0)&&(e=\"\"),t.with({path:e})},t.basename=function(t){return P.basename(t.path)},t.extname=function(t){return P.extname(t.path)}}(I||(I={})),LIB=n})();export const{URI,Utils}=LIB;\n//# sourceMappingURL=index.mjs.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type {@link DocumentColorParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n    DocumentColorRequest.capabilities = messages_1.CM.create('textDocument.colorProvider', 'colorProvider');\n})(DocumentColorRequest || (exports.DocumentColorRequest = DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type {@link ColorPresentationParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest || (exports.ColorPresentationRequest = ColorPresentationRequest = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport * as fs from 'fs';\n\nimport { URI } from 'vscode-uri';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\n\nimport * as Is from './is';\n\n/**\n * Special functions to deal with path conversions in the context of ESLint\n */\n\n/**\n * Normalizes the drive letter to upper case which is the default in Node but not in\n * VS Code.\n */\nexport function normalizeDriveLetter(path: string): string {\n\tif (process.platform !== 'win32' || path.length < 2 || path[1] !== ':') {\n\t\treturn path;\n\t}\n\treturn path[0].toUpperCase() + path.substring(1);\n}\n\nconst enum CharCode {\n\t/**\n\t * The `\\` character.\n\t */\n\tBackslash = 92,\n}\n\n/**\n * Check if the path follows this pattern: `\\\\hostname\\sharename`.\n *\n * @see https://msdn.microsoft.com/en-us/library/gg465305.aspx\n * @return A boolean indication if the path is a UNC path, on none-windows\n * always false.\n */\nexport function isUNC(path: string): boolean {\n\tif (process.platform !== 'win32') {\n\t\t// UNC is a windows concept\n\t\treturn false;\n\t}\n\n\tif (!path || path.length < 5) {\n\t\t// at least \\\\a\\b\n\t\treturn false;\n\t}\n\n\tlet code = path.charCodeAt(0);\n\tif (code !== CharCode.Backslash) {\n\t\treturn false;\n\t}\n\tcode = path.charCodeAt(1);\n\tif (code !== CharCode.Backslash) {\n\t\treturn false;\n\t}\n\tlet pos = 2;\n\tconst start = pos;\n\tfor (; pos < path.length; pos++) {\n\t\tcode = path.charCodeAt(pos);\n\t\tif (code === CharCode.Backslash) {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (start === pos) {\n\t\treturn false;\n\t}\n\tcode = path.charCodeAt(pos + 1);\n\tif (isNaN(code) || code === CharCode.Backslash) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\nexport function getFileSystemPath(uri: URI): string {\n\tlet result = uri.fsPath;\n\tif (process.platform === 'win32' && result.length >= 2 && result[1] === ':') {\n\t\t// Node by default uses an upper case drive letter and ESLint uses\n\t\t// === to compare paths which results in the equal check failing\n\t\t// if the drive letter is lower case in th URI. Ensure upper case.\n\t\tresult = result[0].toUpperCase() + result.substr(1);\n\t}\n\tif (process.platform === 'win32' || process.platform === 'darwin') {\n\t\ttry {\n\t\t\tconst realpath = fs.realpathSync.native(result);\n\t\t\t// Only use the real path if only the casing has changed.\n\t\t\tif (realpath.toLowerCase() === result.toLowerCase()) {\n\t\t\t\tresult = realpath;\n\t\t\t}\n\t\t} catch {\n\t\t\t// Silently ignore errors from `fs.realpathSync` to handle scenarios where\n\t\t\t// the file being linted is not yet written to disk. This occurs in editors\n\t\t\t// such as Neovim for non-written buffers.\n\t\t}\n\t}\n\treturn result;\n}\n\nexport function normalizePath(path: string): string;\nexport function normalizePath(path: undefined): undefined;\nexport function normalizePath(path: string | undefined): string | undefined {\n\tif (path === undefined) {\n\t\treturn undefined;\n\t}\n\tif (process.platform === 'win32') {\n\t\treturn path.replace(/\\\\/g, '/');\n\t}\n\treturn path;\n}\n\nexport function getUri(documentOrUri: string | TextDocument | URI): URI {\n\treturn Is.string(documentOrUri)\n\t\t? URI.parse(documentOrUri)\n\t\t: documentOrUri instanceof URI\n\t\t\t? documentOrUri\n\t\t\t: URI.parse(documentOrUri.uri);\n}\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type {@link InlayHintsParams}, the response is of type\n * {@link InlayHint InlayHint[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n    InlayHintRequest.capabilities = messages_1.CM.create('textDocument.inlayHint', 'inlayHintProvider');\n})(InlayHintRequest || (exports.InlayHintRequest = InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type {@link InlayHint}, the response is\n * of type {@link InlayHint} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n    InlayHintResolveRequest.capabilities = messages_1.CM.create('textDocument.inlayHint.resolveSupport', 'inlayHintProvider.resolveProvider');\n})(InlayHintResolveRequest || (exports.InlayHintResolveRequest = InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n    InlayHintRefreshRequest.capabilities = messages_1.CM.create('workspace.inlayHint.refreshSupport', undefined);\n})(InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = InlayHintRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" preserve: true/>\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._NotebooksImpl = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = void 0;\nexports.combineConsoleFeatures = combineConsoleFeatures;\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nexports.combineTracerFeatures = combineTracerFeatures;\nexports.combineClientFeatures = combineClientFeatures;\nexports.combineWindowFeatures = combineWindowFeatures;\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nexports.combineNotebooksFeatures = combineNotebooksFeatures;\nexports.combineFeatures = combineFeatures;\nexports.createConnection = createConnection;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = __importStar(require(\"./utils/is\"));\nconst UUID = __importStar(require(\"./utils/uuid\"));\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst foldingRange_1 = require(\"./foldingRange\");\n// import { InlineCompletionFeatureShape, InlineCompletionFeature } from './inlineCompletion.proposed';\nconst inlayHint_1 = require(\"./inlayHint\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    _messages;\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    _rawConnection;\n    _connection;\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    debug(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Debug, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message }).catch(() => {\n                (0, vscode_languageserver_protocol_1.RAL)().console.error(`Sending log message failed`);\n            });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    _connection;\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        const params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        const params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        const params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = (0, showDocument_1.ShowDocumentFeature)((0, progress_1.ProgressFeature)(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration || (exports.BulkRegistration = BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    _registrations = [];\n    _registered = new Set();\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration || (exports.BulkUnregistration = BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    _connection;\n    _unregistrations = new Map();\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        const unregistrations = [];\n        for (const unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        const params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        const params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    _connection;\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        const params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        const params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method).catch(() => { this.connection.console.info(`Un-registering capability with id ${id} failed.`); });\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        const params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        const params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    _connection;\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        const params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = (0, fileOperations_1.FileOperationsFeature)((0, workspaceFolder_1.WorkspaceFoldersFeature)((0, configuration_1.ConfigurationFeature)(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    _trace;\n    _connection;\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        }).catch(() => {\n            // Very hard to decide what to do. We tried to send a log\n            // message which failed so we can't simply send another :-(.\n        });\n    }\n}\nclass TelemetryImpl {\n    _connection;\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data).catch(() => {\n            this.connection.console.log(`Sending TelemetryEventNotification failed`);\n        });\n    }\n}\nclass _LanguagesImpl {\n    _connection;\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = (0, foldingRange_1.FoldingRangeFeature)((0, moniker_1.MonikerFeature)((0, diagnostic_1.DiagnosticFeature)((0, inlayHint_1.InlayHintFeature)((0, inlineValue_1.InlineValueFeature)((0, typeHierarchy_1.TypeHierarchyFeature)((0, linkedEditingRange_1.LinkedEditingRangeFeature)((0, semanticTokens_1.SemanticTokensFeature)((0, callHierarchy_1.CallHierarchyFeature)(_LanguagesImpl)))))))));\nclass _NotebooksImpl {\n    _connection;\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._NotebooksImpl = _NotebooksImpl;\nconst NotebooksImpl = (0, notebook_1.NotebookSyncFeature)(_NotebooksImpl);\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nfunction combineNotebooksFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    const result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures),\n        languages: combine(one.languages, two.languages, combineLanguagesFeatures),\n        notebooks: combine(one.notebooks, two.notebooks, combineNotebooksFeatures)\n    };\n    return result;\n}\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const notebooks = (factories && factories.notebooks ? new (factories.notebooks(NotebooksImpl))() : new NotebooksImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages, notebooks];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    const protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            return connection.sendNotification(method, param);\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => {\n            initializeHandler = handler;\n            return {\n                dispose: () => {\n                    initializeHandler = undefined;\n                }\n            };\n        },\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => {\n            shutdownHandler = handler;\n            return {\n                dispose: () => {\n                    shutdownHandler = undefined;\n                }\n            };\n        },\n        onExit: (handler) => {\n            exitHandler = handler;\n            return {\n                dispose: () => {\n                    exitHandler = undefined;\n                }\n            };\n        },\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        get notebooks() { return notebooks; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbolResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, handler),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (const remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (const remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            const result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, (0, progress_1.attachWorkDone)(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (const remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            const result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (const remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                return exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\n","module.exports = require(\"node:util\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n    TypeDefinitionRequest.capabilities = messages_1.CM.create('textDocument.typeDefinition', 'typeDefinitionProvider');\n})(TypeDefinitionRequest || (exports.TypeDefinitionRequest = TypeDefinitionRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = __importStar(require(\"./utils/is\"));\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            const params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                if (Array.isArray(result)) {\n                    return Array.isArray(arg) ? result : result[0];\n                }\n                else {\n                    return Array.isArray(arg) ? [] : null;\n                }\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolean = boolean;\nexports.string = string;\nexports.number = number;\nexports.error = error;\nexports.func = func;\nexports.array = array;\nexports.stringArray = stringArray;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nfunction error(value) {\n    return value instanceof Error;\n}\nfunction func(value) {\n    return typeof value === 'function';\n}\nfunction array(value) {\n    return Array.isArray(value);\n}\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\n","'use strict'\n\n// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolean = boolean;\nexports.string = string;\nexports.number = number;\nexports.error = error;\nexports.func = func;\nexports.array = array;\nexports.stringArray = stringArray;\nexports.typedArray = typedArray;\nexports.objectLiteral = objectLiteral;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nfunction error(value) {\n    return value instanceof Error;\n}\nfunction func(value) {\n    return typeof value === 'function';\n}\nfunction array(value) {\n    return Array.isArray(value);\n}\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n    CallHierarchyPrepareRequest.capabilities = messages_1.CM.create('textDocument.callHierarchy', 'callHierarchyProvider');\n})(CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = CallHierarchyOutgoingCallsRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server has detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes || (exports.LSPErrorCodes = LSPErrorCodes = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolean = boolean;\nexports.string = string;\nexports.number = number;\nexports.error = error;\nexports.func = func;\nexports.array = array;\nexports.stringArray = stringArray;\nexports.typedArray = typedArray;\nexports.thenable = thenable;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nfunction error(value) {\n    return value instanceof Error;\n}\nfunction func(value) {\n    return typeof value === 'function';\n}\nfunction array(value) {\n    return Array.isArray(value);\n}\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nfunction thenable(value) {\n    return value && func(value.then);\n}\n","module.exports = require(\"util\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel || (exports.UniquenessLevel = UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind || (exports.MonikerKind = MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type {@link TextDocumentPositionParams}.\n * The response is of type {@link Moniker Moniker[]} or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n    MonikerRequest.capabilities = messages_1.CM.create('textDocument.moniker', 'monikerProvider');\n})(MonikerRequest || (exports.MonikerRequest = MonikerRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nconst Is = __importStar(require(\"./is\"));\nconst events_1 = require(\"./events\");\nconst semaphore_1 = require(\"./semaphore\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader || (exports.MessageReader = MessageReader = {}));\nclass AbstractMessageReader {\n    errorEmitter;\n    closeEmitter;\n    partialMessageEmitter;\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n        this.partialMessageEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    readable;\n    options;\n    callback;\n    nextMessageLength;\n    messageToken;\n    buffer;\n    partialMessageTimer;\n    _partialMessageTimeout;\n    readSemaphore;\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.readSemaphore = new semaphore_1.Semaphore(1);\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        try {\n            this.buffer.append(data);\n            while (true) {\n                if (this.nextMessageLength === -1) {\n                    const headers = this.buffer.tryReadHeaders(true);\n                    if (!headers) {\n                        return;\n                    }\n                    const contentLength = headers.get('content-length');\n                    if (!contentLength) {\n                        this.fireError(new Error(`Header must provide a Content-Length property.\\n${JSON.stringify(Object.fromEntries(headers))}`));\n                        return;\n                    }\n                    const length = parseInt(contentLength);\n                    if (isNaN(length)) {\n                        this.fireError(new Error(`Content-Length value must be a number. Got ${contentLength}`));\n                        return;\n                    }\n                    this.nextMessageLength = length;\n                }\n                const body = this.buffer.tryReadBody(this.nextMessageLength);\n                if (body === undefined) {\n                    /** We haven't received the full message yet. */\n                    this.setPartialMessageTimer();\n                    return;\n                }\n                this.clearPartialMessageTimer();\n                this.nextMessageLength = -1;\n                // Make sure that we convert one received message after the\n                // other. Otherwise it could happen that a decoding of a second\n                // smaller message finished before the decoding of a first larger\n                // message and then we would deliver the second message first.\n                this.readSemaphore.lock(async () => {\n                    const bytes = this.options.contentDecoder !== undefined\n                        ? await this.options.contentDecoder.decode(body)\n                        : body;\n                    const message = await this.options.contentTypeDecoder.decode(bytes, this.options);\n                    this.callback(message);\n                }).catch((error) => {\n                    this.fireError(error);\n                });\n            }\n        }\n        catch (error) {\n            this.fireError(error);\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocumentContentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TextDocumentContentFeature = (Base) => {\n    return class extends Base {\n        get textDocumentContent() {\n            return {\n                refresh: (uri) => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.TextDocumentContentRefreshRequest.type, { uri });\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TextDocumentContentRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TextDocumentContentFeature = TextDocumentContentFeature;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    _encoding;\n    _chunks;\n    _totalLength;\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders(lowerCaseKeys = false) {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error(`Message header must separate key and value using ':'\\n${header}`);\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(lowerCaseKeys ? key.toLowerCase() : key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        const chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n","module.exports = require(\"net\");","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport {\n\tWorkspaceFolder\n} from 'vscode-languageserver-protocol';\n\nnamespace Is {\n\tconst toString = Object.prototype.toString;\n\n\texport function boolean(value: any): value is boolean {\n\t\treturn value === true || value === false;\n\t}\n\n\texport function string(value: any): value is string {\n\t\treturn toString.call(value) === '[object String]';\n\t}\n}\n\nexport enum Validate {\n\ton = 'on',\n\toff = 'off',\n\tprobe = 'probe'\n}\n\nexport type CodeActionSettings = {\n\tdisableRuleComment: {\n\t\tenable: boolean;\n\t\tlocation: 'separateLine' | 'sameLine';\n\t\tcommentStyle: 'line' | 'block';\n\t};\n\tshowDocumentation: {\n\t\tenable: boolean;\n\t};\n};\n\nexport enum CodeActionsOnSaveMode {\n\tall = 'all',\n\tproblems = 'problems'\n}\n\nexport namespace CodeActionsOnSaveMode {\n\texport function from(value: string | undefined | null): CodeActionsOnSaveMode {\n\t\tif (value === undefined || value === null || !Is.string(value)) {\n\t\t\treturn CodeActionsOnSaveMode.all;\n\t\t}\n\t\tswitch(value.toLowerCase()) {\n\t\t\tcase CodeActionsOnSaveMode.problems:\n\t\t\t\treturn CodeActionsOnSaveMode.problems;\n\t\t\tdefault:\n\t\t\t\treturn CodeActionsOnSaveMode.all;\n\t\t}\n\t}\n}\n\nexport namespace CodeActionsOnSaveRules {\n\texport function from(value: string[] | undefined | null): string[] | undefined {\n\t\tif (value === undefined || value === null || !Array.isArray(value)) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn value.filter(item => Is.string(item));\n\t}\n}\n\nexport namespace CodeActionsOnSaveOptions {\n\texport function from(value: object | undefined | null): ESLintOptions | undefined {\n\t\tif (value === undefined || value === null || typeof value !== 'object') {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn value;\n\t}\n}\n\nexport type CodeActionsOnSaveSettings = {\n\tmode: CodeActionsOnSaveMode;\n\trules?: string[];\n\toptions?: ESLintOptions;\n};\n\nexport enum ESLintSeverity {\n\toff = 'off',\n\twarn = 'warn',\n\terror = 'error'\n}\n\nexport namespace ESLintSeverity {\n\texport function from(value: string | undefined | null): ESLintSeverity {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn ESLintSeverity.off;\n\t\t}\n\t\tswitch (value.toLowerCase()) {\n\t\t\tcase ESLintSeverity.off:\n\t\t\t\treturn ESLintSeverity.off;\n\t\t\tcase ESLintSeverity.warn:\n\t\t\t\treturn ESLintSeverity.warn;\n\t\t\tcase ESLintSeverity.error:\n\t\t\t\treturn ESLintSeverity.error;\n\t\t\tdefault:\n\t\t\t\treturn ESLintSeverity.off;\n\t\t}\n\t}\n}\n\nexport enum RuleSeverity {\n\t// Original ESLint values\n\tinfo = 'info',\n\twarn = 'warn',\n\terror = 'error',\n\toff = 'off',\n\n\t// Added severity override changes\n\tdefault = 'default',\n\tdowngrade = 'downgrade',\n\tupgrade = 'upgrade'\n}\n\nexport type RuleCustomization = {\n\trule: string;\n\tseverity: RuleSeverity;\n\t/** Only apply to autofixable rules */\n\tfixable?: boolean;\n};\n\nexport type RunValues = 'onType' | 'onSave';\n\nexport enum ModeEnum {\n\tauto = 'auto',\n\tlocation = 'location'\n}\n\nexport namespace ModeEnum {\n\texport function is(value: string): value is ModeEnum {\n\t\treturn value === ModeEnum.auto || value === ModeEnum.location;\n\t}\n}\n\nexport type ModeItem = {\n\tmode: ModeEnum;\n};\n\nexport namespace ModeItem {\n\texport function is(item: any): item is ModeItem {\n\t\tconst candidate = item as ModeItem;\n\t\treturn candidate && ModeEnum.is(candidate.mode);\n\t}\n}\n\nexport type DirectoryItem = {\n\tdirectory: string;\n\t'!cwd'?: boolean;\n};\n\nexport namespace DirectoryItem {\n\texport function is(item: any): item is DirectoryItem {\n\t\tconst candidate = item as DirectoryItem;\n\t\treturn candidate && Is.string(candidate.directory) && (Is.boolean(candidate['!cwd']) || candidate['!cwd'] === undefined);\n\t}\n}\n\nexport type PackageManagers = 'npm' | 'yarn' | 'pnpm';\n\nexport type ESLintOptions = object & { fixTypes?: string[] };\n\nexport type ConfigurationSettings = {\n\tvalidate: Validate;\n\tpackageManager: PackageManagers;\n\tuseESLintClass: boolean;\n\tuseFlatConfig?: boolean | undefined;\n\texperimental?: {\n\t\tuseFlatConfig: boolean;\n\t};\n\tcodeAction: CodeActionSettings;\n\tcodeActionOnSave: CodeActionsOnSaveSettings;\n\tformat: boolean;\n\tquiet: boolean;\n\tonIgnoredFiles: ESLintSeverity;\n\toptions: ESLintOptions | undefined;\n\trulesCustomizations: RuleCustomization[];\n\trun: RunValues;\n\tproblems: {\n\t\tshortenToSingleLine: boolean;\n\t};\n\tnodePath: string | null;\n\tworkspaceFolder: WorkspaceFolder | undefined;\n\tworkingDirectory: ModeItem | DirectoryItem | undefined;\n};\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\nexport interface IDiffChange {\r\n\t/**\r\n\t * The position of the first element in the original sequence which\r\n\t * this change affects.\r\n\t */\r\n\toriginalStart: number;\r\n\r\n\t/**\r\n\t * The number of elements from the original sequence which were\r\n\t * affected.\r\n\t */\r\n\toriginalLength: number;\r\n\r\n\t/**\r\n\t * The position of the first element in the modified sequence which\r\n\t * this change affects.\r\n\t */\r\n\tmodifiedStart: number;\r\n\r\n\t/**\r\n\t * The number of elements from the modified sequence which were\r\n\t * affected (added).\r\n\t */\r\n\tmodifiedLength: number;\r\n}\r\n\r\nexport function stringDiff(original: string, modified: string, pretty: boolean): IDiffChange[] {\r\n\treturn new LcsDiff(new StringDiffSequence(original), new StringDiffSequence(modified)).ComputeDiff(pretty).changes;\r\n}\r\n\r\ninterface ISequence {\r\n\tgetElements(): Int32Array;\r\n}\r\n\r\nclass StringDiffSequence implements ISequence {\r\n\r\n\tconstructor(private source: string) { }\r\n\r\n\tgetElements(): Int32Array {\r\n\t\tconst source = this.source;\r\n\t\tconst characters = new Int32Array(source.length);\r\n\t\tfor (let i = 0, len = source.length; i < len; i++) {\r\n\t\t\tcharacters[i] = source.charCodeAt(i);\r\n\t\t}\r\n\t\treturn characters;\r\n\t}\r\n}\r\n\r\ninterface IContinueProcessingPredicate {\r\n\t(furthestOriginalIndex: number, matchLengthOfLongest: number): boolean;\r\n}\r\n\r\ninterface IDiffResult {\r\n\tquitEarly: boolean;\r\n\tchanges: IDiffChange[];\r\n}\r\n\r\n/**\r\n * Represents information about a specific difference between two sequences.\r\n */\r\nclass DiffChange {\r\n\r\n\t/**\r\n\t * The position of the first element in the original sequence which\r\n\t * this change affects.\r\n\t */\r\n\tpublic originalStart: number;\r\n\r\n\t/**\r\n\t * The number of elements from the original sequence which were\r\n\t * affected.\r\n\t */\r\n\tpublic originalLength: number;\r\n\r\n\t/**\r\n\t * The position of the first element in the modified sequence which\r\n\t * this change affects.\r\n\t */\r\n\tpublic modifiedStart: number;\r\n\r\n\t/**\r\n\t * The number of elements from the modified sequence which were\r\n\t * affected (added).\r\n\t */\r\n\tpublic modifiedLength: number;\r\n\r\n\t/**\r\n\t * Constructs a new DiffChange with the given sequence information\r\n\t * and content.\r\n\t */\r\n\tconstructor(originalStart: number, originalLength: number, modifiedStart: number, modifiedLength: number) {\r\n\t\t//Debug.Assert(originalLength > 0 || modifiedLength > 0, \"originalLength and modifiedLength cannot both be <= 0\");\r\n\t\tthis.originalStart = originalStart;\r\n\t\tthis.originalLength = originalLength;\r\n\t\tthis.modifiedStart = modifiedStart;\r\n\t\tthis.modifiedLength = modifiedLength;\r\n\t}\r\n\r\n\t/**\r\n\t * The end point (exclusive) of the change in the original sequence.\r\n\t */\r\n\tpublic getOriginalEnd() {\r\n\t\treturn this.originalStart + this.originalLength;\r\n\t}\r\n\r\n\t/**\r\n\t * The end point (exclusive) of the change in the modified sequence.\r\n\t */\r\n\tpublic getModifiedEnd() {\r\n\t\treturn this.modifiedStart + this.modifiedLength;\r\n\t}\r\n}\r\n\r\nexport class Debug {\r\n\tpublic static Assert(condition: boolean, message: string): void {\r\n\t\tif (!condition) {\r\n\t\t\tthrow new Error(message);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst enum Constants {\r\n\t/**\r\n\t * MAX SMI (SMall Integer) as defined in v8.\r\n\t * one bit is lost for boxing/unboxing flag.\r\n\t * one bit is lost for sign flag.\r\n\t * See https://thibaultlaurens.github.io/javascript/2013/04/29/how-the-v8-engine-works/#tagged-values\r\n\t */\r\n\tMAX_SAFE_SMALL_INTEGER = 1 << 30,\r\n\r\n\t/**\r\n\t * MIN SMI (SMall Integer) as defined in v8.\r\n\t * one bit is lost for boxing/unboxing flag.\r\n\t * one bit is lost for sign flag.\r\n\t * See https://thibaultlaurens.github.io/javascript/2013/04/29/how-the-v8-engine-works/#tagged-values\r\n\t */\r\n\tMIN_SAFE_SMALL_INTEGER = -(1 << 30),\r\n\r\n\t/**\r\n\t * Max unsigned integer that fits on 8 bits.\r\n\t */\r\n\tMAX_UINT_8 = 255, // 2^8 - 1\r\n\r\n\t/**\r\n\t * Max unsigned integer that fits on 16 bits.\r\n\t */\r\n\tMAX_UINT_16 = 65535, // 2^16 - 1\r\n\r\n\t/**\r\n\t * Max unsigned integer that fits on 32 bits.\r\n\t */\r\n\tMAX_UINT_32 = 4294967295, // 2^32 - 1\r\n\r\n\tUNICODE_SUPPLEMENTARY_PLANE_BEGIN = 0x010000\r\n}\r\n\r\nconst enum LocalConstants {\r\n\tMaxDifferencesHistory = 1447\r\n}\r\n\r\nclass MyArray {\r\n\t/**\r\n\t * Copies a range of elements from an Array starting at the specified source index and pastes\r\n\t * them to another Array starting at the specified destination index. The length and the indexes\r\n\t * are specified as 64-bit integers.\r\n\t * sourceArray:\r\n\t *\t\tThe Array that contains the data to copy.\r\n\t * sourceIndex:\r\n\t *\t\tA 64-bit integer that represents the index in the sourceArray at which copying begins.\r\n\t * destinationArray:\r\n\t *\t\tThe Array that receives the data.\r\n\t * destinationIndex:\r\n\t *\t\tA 64-bit integer that represents the index in the destinationArray at which storing begins.\r\n\t * length:\r\n\t *\t\tA 64-bit integer that represents the number of elements to copy.\r\n\t */\r\n\tpublic static Copy(sourceArray: any[], sourceIndex: number, destinationArray: any[], destinationIndex: number, length: number) {\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tdestinationArray[destinationIndex + i] = sourceArray[sourceIndex + i];\r\n\t\t}\r\n\t}\r\n\tpublic static Copy2(sourceArray: Int32Array, sourceIndex: number, destinationArray: Int32Array, destinationIndex: number, length: number) {\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tdestinationArray[destinationIndex + i] = sourceArray[sourceIndex + i];\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass DiffChangeHelper {\r\n\r\n\tprivate m_changes: DiffChange[];\r\n\tprivate m_originalStart: number;\r\n\tprivate m_modifiedStart: number;\r\n\tprivate m_originalCount: number;\r\n\tprivate m_modifiedCount: number;\r\n\r\n\t/**\r\n\t * Constructs a new DiffChangeHelper for the given DiffSequences.\r\n\t */\r\n\tconstructor() {\r\n\t\tthis.m_changes = [];\r\n\t\tthis.m_originalStart = Constants.MAX_SAFE_SMALL_INTEGER;\r\n\t\tthis.m_modifiedStart = Constants.MAX_SAFE_SMALL_INTEGER;\r\n\t\tthis.m_originalCount = 0;\r\n\t\tthis.m_modifiedCount = 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Marks the beginning of the next change in the set of differences.\r\n\t */\r\n\tpublic MarkNextChange(): void {\r\n\t\t// Only add to the list if there is something to add\r\n\t\tif (this.m_originalCount > 0 || this.m_modifiedCount > 0) {\r\n\t\t\t// Add the new change to our list\r\n\t\t\tthis.m_changes.push(new DiffChange(this.m_originalStart, this.m_originalCount,\r\n\t\t\t\tthis.m_modifiedStart, this.m_modifiedCount));\r\n\t\t}\r\n\r\n\t\t// Reset for the next change\r\n\t\tthis.m_originalCount = 0;\r\n\t\tthis.m_modifiedCount = 0;\r\n\t\tthis.m_originalStart = Constants.MAX_SAFE_SMALL_INTEGER;\r\n\t\tthis.m_modifiedStart = Constants.MAX_SAFE_SMALL_INTEGER;\r\n\t}\r\n\r\n\t/**\r\n\t * Adds the original element at the given position to the elements\r\n\t * affected by the current change. The modified index gives context\r\n\t * to the change position with respect to the original sequence.\r\n\t * @param originalIndex The index of the original element to add.\r\n\t * @param modifiedIndex The index of the modified element that provides corresponding position in the modified sequence.\r\n\t */\r\n\tpublic AddOriginalElement(originalIndex: number, modifiedIndex: number) {\r\n\t\t// The 'true' start index is the smallest of the ones we've seen\r\n\t\tthis.m_originalStart = Math.min(this.m_originalStart, originalIndex);\r\n\t\tthis.m_modifiedStart = Math.min(this.m_modifiedStart, modifiedIndex);\r\n\r\n\t\tthis.m_originalCount++;\r\n\t}\r\n\r\n\t/**\r\n\t * Adds the modified element at the given position to the elements\r\n\t * affected by the current change. The original index gives context\r\n\t * to the change position with respect to the modified sequence.\r\n\t * @param originalIndex The index of the original element that provides corresponding position in the original sequence.\r\n\t * @param modifiedIndex The index of the modified element to add.\r\n\t */\r\n\tpublic AddModifiedElement(originalIndex: number, modifiedIndex: number): void {\r\n\t\t// The 'true' start index is the smallest of the ones we've seen\r\n\t\tthis.m_originalStart = Math.min(this.m_originalStart, originalIndex);\r\n\t\tthis.m_modifiedStart = Math.min(this.m_modifiedStart, modifiedIndex);\r\n\r\n\t\tthis.m_modifiedCount++;\r\n\t}\r\n\r\n\t/**\r\n\t * Retrieves all of the changes marked by the class.\r\n\t */\r\n\tpublic getChanges(): DiffChange[] {\r\n\t\tif (this.m_originalCount > 0 || this.m_modifiedCount > 0) {\r\n\t\t\t// Finish up on whatever is left\r\n\t\t\tthis.MarkNextChange();\r\n\t\t}\r\n\r\n\t\treturn this.m_changes;\r\n\t}\r\n\r\n\t/**\r\n\t * Retrieves all of the changes marked by the class in the reverse order\r\n\t */\r\n\tpublic getReverseChanges(): DiffChange[] {\r\n\t\tif (this.m_originalCount > 0 || this.m_modifiedCount > 0) {\r\n\t\t\t// Finish up on whatever is left\r\n\t\t\tthis.MarkNextChange();\r\n\t\t}\r\n\r\n\t\tthis.m_changes.reverse();\r\n\t\treturn this.m_changes;\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * An implementation of the difference algorithm described in\r\n * \"An O(ND) Difference Algorithm and its variations\" by Eugene W. Myers\r\n */\r\nexport class LcsDiff {\r\n\r\n\tprivate readonly ContinueProcessingPredicate: IContinueProcessingPredicate | null;\r\n\r\n\tprivate readonly _hasStrings: boolean;\r\n\tprivate readonly _originalStringElements: string[];\r\n\tprivate readonly _originalElementsOrHash: Int32Array;\r\n\tprivate readonly _modifiedStringElements: string[];\r\n\tprivate readonly _modifiedElementsOrHash: Int32Array;\r\n\r\n\tprivate m_forwardHistory: Int32Array[];\r\n\tprivate m_reverseHistory: Int32Array[];\r\n\r\n\t/**\r\n\t * Constructs the DiffFinder\r\n\t */\r\n\tconstructor(originalSequence: ISequence, modifiedSequence: ISequence, continueProcessingPredicate: IContinueProcessingPredicate | null = null) {\r\n\t\tthis.ContinueProcessingPredicate = continueProcessingPredicate;\r\n\r\n\t\tconst [originalStringElements, originalElementsOrHash, originalHasStrings] = LcsDiff._getElements(originalSequence);\r\n\t\tconst [modifiedStringElements, modifiedElementsOrHash, modifiedHasStrings] = LcsDiff._getElements(modifiedSequence);\r\n\r\n\t\tthis._hasStrings = (originalHasStrings && modifiedHasStrings);\r\n\t\tthis._originalStringElements = originalStringElements;\r\n\t\tthis._originalElementsOrHash = originalElementsOrHash;\r\n\t\tthis._modifiedStringElements = modifiedStringElements;\r\n\t\tthis._modifiedElementsOrHash = modifiedElementsOrHash;\r\n\r\n\t\tthis.m_forwardHistory = [];\r\n\t\tthis.m_reverseHistory = [];\r\n\t}\r\n\r\n\tprivate static _getElements(sequence: ISequence): [string[], Int32Array, boolean] {\r\n\t\tconst elements = sequence.getElements();\r\n\r\n\t\tif (elements instanceof Int32Array) {\r\n\t\t\treturn [[], elements, false];\r\n\t\t}\r\n\r\n\t\treturn [[], new Int32Array(elements), false];\r\n\t}\r\n\r\n\tprivate ElementsAreEqual(originalIndex: number, newIndex: number): boolean {\r\n\t\tif (this._originalElementsOrHash[originalIndex] !== this._modifiedElementsOrHash[newIndex]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn (this._hasStrings ? this._originalStringElements[originalIndex] === this._modifiedStringElements[newIndex] : true);\r\n\t}\r\n\r\n\tprivate OriginalElementsAreEqual(index1: number, index2: number): boolean {\r\n\t\tif (this._originalElementsOrHash[index1] !== this._originalElementsOrHash[index2]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn (this._hasStrings ? this._originalStringElements[index1] === this._originalStringElements[index2] : true);\r\n\t}\r\n\r\n\tprivate ModifiedElementsAreEqual(index1: number, index2: number): boolean {\r\n\t\tif (this._modifiedElementsOrHash[index1] !== this._modifiedElementsOrHash[index2]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn (this._hasStrings ? this._modifiedStringElements[index1] === this._modifiedStringElements[index2] : true);\r\n\t}\r\n\r\n\tpublic ComputeDiff(pretty: boolean): IDiffResult {\r\n\t\treturn this._ComputeDiff(0, this._originalElementsOrHash.length - 1, 0, this._modifiedElementsOrHash.length - 1, pretty);\r\n\t}\r\n\r\n\t/**\r\n\t * Computes the differences between the original and modified input\r\n\t * sequences on the bounded range.\r\n\t * @returns An array of the differences between the two input sequences.\r\n\t */\r\n\tprivate _ComputeDiff(originalStart: number, originalEnd: number, modifiedStart: number, modifiedEnd: number, pretty: boolean): IDiffResult {\r\n\t\tconst quitEarlyArr = [false];\r\n\t\tlet changes = this.ComputeDiffRecursive(originalStart, originalEnd, modifiedStart, modifiedEnd, quitEarlyArr);\r\n\r\n\t\tif (pretty) {\r\n\t\t\t// We have to clean up the computed diff to be more intuitive\r\n\t\t\t// but it turns out this cannot be done correctly until the entire set\r\n\t\t\t// of diffs have been computed\r\n\t\t\tchanges = this.PrettifyChanges(changes);\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tquitEarly: quitEarlyArr[0],\r\n\t\t\tchanges: changes\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Private helper method which computes the differences on the bounded range\r\n\t * recursively.\r\n\t * @returns An array of the differences between the two input sequences.\r\n\t */\r\n\tprivate ComputeDiffRecursive(originalStart: number, originalEnd: number, modifiedStart: number, modifiedEnd: number, quitEarlyArr: boolean[]): DiffChange[] {\r\n\t\tquitEarlyArr[0] = false;\r\n\r\n\t\t// Find the start of the differences\r\n\t\twhile (originalStart <= originalEnd && modifiedStart <= modifiedEnd && this.ElementsAreEqual(originalStart, modifiedStart)) {\r\n\t\t\toriginalStart++;\r\n\t\t\tmodifiedStart++;\r\n\t\t}\r\n\r\n\t\t// Find the end of the differences\r\n\t\twhile (originalEnd >= originalStart && modifiedEnd >= modifiedStart && this.ElementsAreEqual(originalEnd, modifiedEnd)) {\r\n\t\t\toriginalEnd--;\r\n\t\t\tmodifiedEnd--;\r\n\t\t}\r\n\r\n\t\t// In the special case where we either have all insertions or all deletions or the sequences are identical\r\n\t\tif (originalStart > originalEnd || modifiedStart > modifiedEnd) {\r\n\t\t\tlet changes: DiffChange[];\r\n\r\n\t\t\tif (modifiedStart <= modifiedEnd) {\r\n\t\t\t\tDebug.Assert(originalStart === originalEnd + 1, 'originalStart should only be one more than originalEnd');\r\n\r\n\t\t\t\t// All insertions\r\n\t\t\t\tchanges = [\r\n\t\t\t\t\tnew DiffChange(originalStart, 0, modifiedStart, modifiedEnd - modifiedStart + 1)\r\n\t\t\t\t];\r\n\t\t\t} else if (originalStart <= originalEnd) {\r\n\t\t\t\tDebug.Assert(modifiedStart === modifiedEnd + 1, 'modifiedStart should only be one more than modifiedEnd');\r\n\r\n\t\t\t\t// All deletions\r\n\t\t\t\tchanges = [\r\n\t\t\t\t\tnew DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, 0)\r\n\t\t\t\t];\r\n\t\t\t} else {\r\n\t\t\t\tDebug.Assert(originalStart === originalEnd + 1, 'originalStart should only be one more than originalEnd');\r\n\t\t\t\tDebug.Assert(modifiedStart === modifiedEnd + 1, 'modifiedStart should only be one more than modifiedEnd');\r\n\r\n\t\t\t\t// Identical sequences - No differences\r\n\t\t\t\tchanges = [];\r\n\t\t\t}\r\n\r\n\t\t\treturn changes;\r\n\t\t}\r\n\r\n\t\t// This problem can be solved using the Divide-And-Conquer technique.\r\n\t\tconst midOriginalArr = [0];\r\n\t\tconst midModifiedArr = [0];\r\n\t\tconst result = this.ComputeRecursionPoint(originalStart, originalEnd, modifiedStart, modifiedEnd, midOriginalArr, midModifiedArr, quitEarlyArr);\r\n\r\n\t\tconst midOriginal = midOriginalArr[0];\r\n\t\tconst midModified = midModifiedArr[0];\r\n\r\n\t\tif (result !== null) {\r\n\t\t\t// Result is not-null when there was enough memory to compute the changes while\r\n\t\t\t// searching for the recursion point\r\n\t\t\treturn result;\r\n\t\t} else if (!quitEarlyArr[0]) {\r\n\t\t\t// We can break the problem down recursively by finding the changes in the\r\n\t\t\t// First Half:   (originalStart, modifiedStart) to (midOriginal, midModified)\r\n\t\t\t// Second Half:  (midOriginal + 1, minModified + 1) to (originalEnd, modifiedEnd)\r\n\t\t\t// NOTE: ComputeDiff() is inclusive, therefore the second range starts on the next point\r\n\r\n\t\t\tconst leftChanges = this.ComputeDiffRecursive(originalStart, midOriginal, modifiedStart, midModified, quitEarlyArr);\r\n\t\t\tlet rightChanges: DiffChange[] = [];\r\n\r\n\t\t\tif (!quitEarlyArr[0]) {\r\n\t\t\t\trightChanges = this.ComputeDiffRecursive(midOriginal + 1, originalEnd, midModified + 1, modifiedEnd, quitEarlyArr);\r\n\t\t\t} else {\r\n\t\t\t\t// We did't have time to finish the first half, so we don't have time to compute this half.\r\n\t\t\t\t// Consider the entire rest of the sequence different.\r\n\t\t\t\trightChanges = [\r\n\t\t\t\t\tnew DiffChange(midOriginal + 1, originalEnd - (midOriginal + 1) + 1, midModified + 1, modifiedEnd - (midModified + 1) + 1)\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\treturn this.ConcatenateChanges(leftChanges, rightChanges);\r\n\t\t}\r\n\r\n\t\t// If we hit here, we quit early, and so can't return anything meaningful\r\n\t\treturn [\r\n\t\t\tnew DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, modifiedEnd - modifiedStart + 1)\r\n\t\t];\r\n\t}\r\n\r\n\tprivate WALKTRACE(diagonalForwardBase: number, diagonalForwardStart: number, diagonalForwardEnd: number, diagonalForwardOffset: number,\r\n\t\tdiagonalReverseBase: number, diagonalReverseStart: number, diagonalReverseEnd: number, diagonalReverseOffset: number,\r\n\t\tforwardPoints: Int32Array, reversePoints: Int32Array,\r\n\t\toriginalIndex: number, originalEnd: number, midOriginalArr: number[],\r\n\t\tmodifiedIndex: number, modifiedEnd: number, midModifiedArr: number[],\r\n\t\tdeltaIsEven: boolean, quitEarlyArr: boolean[]\r\n\t): DiffChange[] {\r\n\t\tlet forwardChanges: DiffChange[] | null = null;\r\n\t\tlet reverseChanges: DiffChange[] | null = null;\r\n\r\n\t\t// First, walk backward through the forward diagonals history\r\n\t\tlet changeHelper = new DiffChangeHelper();\r\n\t\tlet diagonalMin = diagonalForwardStart;\r\n\t\tlet diagonalMax = diagonalForwardEnd;\r\n\t\tlet diagonalRelative = (midOriginalArr[0] - midModifiedArr[0]) - diagonalForwardOffset;\r\n\t\tlet lastOriginalIndex = Constants.MIN_SAFE_SMALL_INTEGER;\r\n\t\tlet historyIndex = this.m_forwardHistory.length - 1;\r\n\r\n\t\tdo {\r\n\t\t\t// Get the diagonal index from the relative diagonal number\r\n\t\t\tconst diagonal = diagonalRelative + diagonalForwardBase;\r\n\r\n\t\t\t// Figure out where we came from\r\n\t\t\tif (diagonal === diagonalMin || (diagonal < diagonalMax && forwardPoints[diagonal - 1] < forwardPoints[diagonal + 1])) {\r\n\t\t\t\t// Vertical line (the element is an insert)\r\n\t\t\t\toriginalIndex = forwardPoints[diagonal + 1];\r\n\t\t\t\tmodifiedIndex = originalIndex - diagonalRelative - diagonalForwardOffset;\r\n\t\t\t\tif (originalIndex < lastOriginalIndex) {\r\n\t\t\t\t\tchangeHelper.MarkNextChange();\r\n\t\t\t\t}\r\n\t\t\t\tlastOriginalIndex = originalIndex;\r\n\t\t\t\tchangeHelper.AddModifiedElement(originalIndex + 1, modifiedIndex);\r\n\t\t\t\tdiagonalRelative = (diagonal + 1) - diagonalForwardBase; //Setup for the next iteration\r\n\t\t\t} else {\r\n\t\t\t\t// Horizontal line (the element is a deletion)\r\n\t\t\t\toriginalIndex = forwardPoints[diagonal - 1] + 1;\r\n\t\t\t\tmodifiedIndex = originalIndex - diagonalRelative - diagonalForwardOffset;\r\n\t\t\t\tif (originalIndex < lastOriginalIndex) {\r\n\t\t\t\t\tchangeHelper.MarkNextChange();\r\n\t\t\t\t}\r\n\t\t\t\tlastOriginalIndex = originalIndex - 1;\r\n\t\t\t\tchangeHelper.AddOriginalElement(originalIndex, modifiedIndex + 1);\r\n\t\t\t\tdiagonalRelative = (diagonal - 1) - diagonalForwardBase; //Setup for the next iteration\r\n\t\t\t}\r\n\r\n\t\t\tif (historyIndex >= 0) {\r\n\t\t\t\tforwardPoints = this.m_forwardHistory[historyIndex];\r\n\t\t\t\tdiagonalForwardBase = forwardPoints[0]; //We stored this in the first spot\r\n\t\t\t\tdiagonalMin = 1;\r\n\t\t\t\tdiagonalMax = forwardPoints.length - 1;\r\n\t\t\t}\r\n\t\t} while (--historyIndex >= -1);\r\n\r\n\t\t// Ironically, we get the forward changes as the reverse of the\r\n\t\t// order we added them since we technically added them backwards\r\n\t\tforwardChanges = changeHelper.getReverseChanges();\r\n\r\n\t\tif (quitEarlyArr[0]) {\r\n\t\t\t// TODO: Calculate a partial from the reverse diagonals.\r\n\t\t\t//       For now, just assume everything after the midOriginal/midModified point is a diff\r\n\r\n\t\t\tlet originalStartPoint = midOriginalArr[0] + 1;\r\n\t\t\tlet modifiedStartPoint = midModifiedArr[0] + 1;\r\n\r\n\t\t\tif (forwardChanges !== null && forwardChanges.length > 0) {\r\n\t\t\t\tconst lastForwardChange = forwardChanges[forwardChanges.length - 1];\r\n\t\t\t\toriginalStartPoint = Math.max(originalStartPoint, lastForwardChange.getOriginalEnd());\r\n\t\t\t\tmodifiedStartPoint = Math.max(modifiedStartPoint, lastForwardChange.getModifiedEnd());\r\n\t\t\t}\r\n\r\n\t\t\treverseChanges = [\r\n\t\t\t\tnew DiffChange(originalStartPoint, originalEnd - originalStartPoint + 1,\r\n\t\t\t\t\tmodifiedStartPoint, modifiedEnd - modifiedStartPoint + 1)\r\n\t\t\t];\r\n\t\t} else {\r\n\t\t\t// Now walk backward through the reverse diagonals history\r\n\t\t\tchangeHelper = new DiffChangeHelper();\r\n\t\t\tdiagonalMin = diagonalReverseStart;\r\n\t\t\tdiagonalMax = diagonalReverseEnd;\r\n\t\t\tdiagonalRelative = (midOriginalArr[0] - midModifiedArr[0]) - diagonalReverseOffset;\r\n\t\t\tlastOriginalIndex = Constants.MAX_SAFE_SMALL_INTEGER;\r\n\t\t\thistoryIndex = (deltaIsEven) ? this.m_reverseHistory.length - 1 : this.m_reverseHistory.length - 2;\r\n\r\n\t\t\tdo {\r\n\t\t\t\t// Get the diagonal index from the relative diagonal number\r\n\t\t\t\tconst diagonal = diagonalRelative + diagonalReverseBase;\r\n\r\n\t\t\t\t// Figure out where we came from\r\n\t\t\t\tif (diagonal === diagonalMin || (diagonal < diagonalMax && reversePoints[diagonal - 1] >= reversePoints[diagonal + 1])) {\r\n\t\t\t\t\t// Horizontal line (the element is a deletion))\r\n\t\t\t\t\toriginalIndex = reversePoints[diagonal + 1] - 1;\r\n\t\t\t\t\tmodifiedIndex = originalIndex - diagonalRelative - diagonalReverseOffset;\r\n\t\t\t\t\tif (originalIndex > lastOriginalIndex) {\r\n\t\t\t\t\t\tchangeHelper.MarkNextChange();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastOriginalIndex = originalIndex + 1;\r\n\t\t\t\t\tchangeHelper.AddOriginalElement(originalIndex + 1, modifiedIndex + 1);\r\n\t\t\t\t\tdiagonalRelative = (diagonal + 1) - diagonalReverseBase; //Setup for the next iteration\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Vertical line (the element is an insertion)\r\n\t\t\t\t\toriginalIndex = reversePoints[diagonal - 1];\r\n\t\t\t\t\tmodifiedIndex = originalIndex - diagonalRelative - diagonalReverseOffset;\r\n\t\t\t\t\tif (originalIndex > lastOriginalIndex) {\r\n\t\t\t\t\t\tchangeHelper.MarkNextChange();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastOriginalIndex = originalIndex;\r\n\t\t\t\t\tchangeHelper.AddModifiedElement(originalIndex + 1, modifiedIndex + 1);\r\n\t\t\t\t\tdiagonalRelative = (diagonal - 1) - diagonalReverseBase; //Setup for the next iteration\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (historyIndex >= 0) {\r\n\t\t\t\t\treversePoints = this.m_reverseHistory[historyIndex];\r\n\t\t\t\t\tdiagonalReverseBase = reversePoints[0]; //We stored this in the first spot\r\n\t\t\t\t\tdiagonalMin = 1;\r\n\t\t\t\t\tdiagonalMax = reversePoints.length - 1;\r\n\t\t\t\t}\r\n\t\t\t} while (--historyIndex >= -1);\r\n\r\n\t\t\t// There are cases where the reverse history will find diffs that\r\n\t\t\t// are correct, but not intuitive, so we need shift them.\r\n\t\t\treverseChanges = changeHelper.getChanges();\r\n\t\t}\r\n\r\n\t\treturn this.ConcatenateChanges(forwardChanges, reverseChanges);\r\n\t}\r\n\r\n\t/**\r\n\t * Given the range to compute the diff on, this method finds the point:\r\n\t * (midOriginal, midModified)\r\n\t * that exists in the middle of the LCS of the two sequences and\r\n\t * is the point at which the LCS problem may be broken down recursively.\r\n\t * This method will try to keep the LCS trace in memory. If the LCS recursion\r\n\t * point is calculated and the full trace is available in memory, then this method\r\n\t * will return the change list.\r\n\t * @param originalStart The start bound of the original sequence range\r\n\t * @param originalEnd The end bound of the original sequence range\r\n\t * @param modifiedStart The start bound of the modified sequence range\r\n\t * @param modifiedEnd The end bound of the modified sequence range\r\n\t * @param midOriginal The middle point of the original sequence range\r\n\t * @param midModified The middle point of the modified sequence range\r\n\t * @returns The diff changes, if available, otherwise null\r\n\t */\r\n\tprivate ComputeRecursionPoint(originalStart: number, originalEnd: number, modifiedStart: number, modifiedEnd: number, midOriginalArr: number[], midModifiedArr: number[], quitEarlyArr: boolean[]) {\r\n\t\tlet originalIndex = 0, modifiedIndex = 0;\r\n\t\tlet diagonalForwardStart = 0, diagonalForwardEnd = 0;\r\n\t\tlet diagonalReverseStart = 0, diagonalReverseEnd = 0;\r\n\r\n\t\t// To traverse the edit graph and produce the proper LCS, our actual\r\n\t\t// start position is just outside the given boundary\r\n\t\toriginalStart--;\r\n\t\tmodifiedStart--;\r\n\r\n\t\t// We set these up to make the compiler happy, but they will\r\n\t\t// be replaced before we return with the actual recursion point\r\n\t\tmidOriginalArr[0] = 0;\r\n\t\tmidModifiedArr[0] = 0;\r\n\r\n\t\t// Clear out the history\r\n\t\tthis.m_forwardHistory = [];\r\n\t\tthis.m_reverseHistory = [];\r\n\r\n\t\t// Each cell in the two arrays corresponds to a diagonal in the edit graph.\r\n\t\t// The integer value in the cell represents the originalIndex of the furthest\r\n\t\t// reaching point found so far that ends in that diagonal.\r\n\t\t// The modifiedIndex can be computed mathematically from the originalIndex and the diagonal number.\r\n\t\tconst maxDifferences = (originalEnd - originalStart) + (modifiedEnd - modifiedStart);\r\n\t\tconst numDiagonals = maxDifferences + 1;\r\n\t\tconst forwardPoints = new Int32Array(numDiagonals);\r\n\t\tconst reversePoints = new Int32Array(numDiagonals);\r\n\t\t// diagonalForwardBase: Index into forwardPoints of the diagonal which passes through (originalStart, modifiedStart)\r\n\t\t// diagonalReverseBase: Index into reversePoints of the diagonal which passes through (originalEnd, modifiedEnd)\r\n\t\tconst diagonalForwardBase = (modifiedEnd - modifiedStart);\r\n\t\tconst diagonalReverseBase = (originalEnd - originalStart);\r\n\t\t// diagonalForwardOffset: Geometric offset which allows modifiedIndex to be computed from originalIndex and the\r\n\t\t//    diagonal number (relative to diagonalForwardBase)\r\n\t\t// diagonalReverseOffset: Geometric offset which allows modifiedIndex to be computed from originalIndex and the\r\n\t\t//    diagonal number (relative to diagonalReverseBase)\r\n\t\tconst diagonalForwardOffset = (originalStart - modifiedStart);\r\n\t\tconst diagonalReverseOffset = (originalEnd - modifiedEnd);\r\n\r\n\t\t// delta: The difference between the end diagonal and the start diagonal. This is used to relate diagonal numbers\r\n\t\t//   relative to the start diagonal with diagonal numbers relative to the end diagonal.\r\n\t\t// The Even/Oddn-ness of this delta is important for determining when we should check for overlap\r\n\t\tconst delta = diagonalReverseBase - diagonalForwardBase;\r\n\t\tconst deltaIsEven = (delta % 2 === 0);\r\n\r\n\t\t// Here we set up the start and end points as the furthest points found so far\r\n\t\t// in both the forward and reverse directions, respectively\r\n\t\tforwardPoints[diagonalForwardBase] = originalStart;\r\n\t\treversePoints[diagonalReverseBase] = originalEnd;\r\n\r\n\t\t// Remember if we quit early, and thus need to do a best-effort result instead of a real result.\r\n\t\tquitEarlyArr[0] = false;\r\n\r\n\r\n\r\n\t\t// A couple of points:\r\n\t\t// --With this method, we iterate on the number of differences between the two sequences.\r\n\t\t//   The more differences there actually are, the longer this will take.\r\n\t\t// --Also, as the number of differences increases, we have to search on diagonals further\r\n\t\t//   away from the reference diagonal (which is diagonalForwardBase for forward, diagonalReverseBase for reverse).\r\n\t\t// --We extend on even diagonals (relative to the reference diagonal) only when numDifferences\r\n\t\t//   is even and odd diagonals only when numDifferences is odd.\r\n\t\tfor (let numDifferences = 1; numDifferences <= (maxDifferences / 2) + 1; numDifferences++) {\r\n\t\t\tlet furthestOriginalIndex = 0;\r\n\t\t\tlet furthestModifiedIndex = 0;\r\n\r\n\t\t\t// Run the algorithm in the forward direction\r\n\t\t\tdiagonalForwardStart = this.ClipDiagonalBound(diagonalForwardBase - numDifferences, numDifferences, diagonalForwardBase, numDiagonals);\r\n\t\t\tdiagonalForwardEnd = this.ClipDiagonalBound(diagonalForwardBase + numDifferences, numDifferences, diagonalForwardBase, numDiagonals);\r\n\t\t\tfor (let diagonal = diagonalForwardStart; diagonal <= diagonalForwardEnd; diagonal += 2) {\r\n\t\t\t\t// STEP 1: We extend the furthest reaching point in the present diagonal\r\n\t\t\t\t// by looking at the diagonals above and below and picking the one whose point\r\n\t\t\t\t// is further away from the start point (originalStart, modifiedStart)\r\n\t\t\t\tif (diagonal === diagonalForwardStart || (diagonal < diagonalForwardEnd && forwardPoints[diagonal - 1] < forwardPoints[diagonal + 1])) {\r\n\t\t\t\t\toriginalIndex = forwardPoints[diagonal + 1];\r\n\t\t\t\t} else {\r\n\t\t\t\t\toriginalIndex = forwardPoints[diagonal - 1] + 1;\r\n\t\t\t\t}\r\n\t\t\t\tmodifiedIndex = originalIndex - (diagonal - diagonalForwardBase) - diagonalForwardOffset;\r\n\r\n\t\t\t\t// Save the current originalIndex so we can test for false overlap in step 3\r\n\t\t\t\tconst tempOriginalIndex = originalIndex;\r\n\r\n\t\t\t\t// STEP 2: We can continue to extend the furthest reaching point in the present diagonal\r\n\t\t\t\t// so long as the elements are equal.\r\n\t\t\t\twhile (originalIndex < originalEnd && modifiedIndex < modifiedEnd && this.ElementsAreEqual(originalIndex + 1, modifiedIndex + 1)) {\r\n\t\t\t\t\toriginalIndex++;\r\n\t\t\t\t\tmodifiedIndex++;\r\n\t\t\t\t}\r\n\t\t\t\tforwardPoints[diagonal] = originalIndex;\r\n\r\n\t\t\t\tif (originalIndex + modifiedIndex > furthestOriginalIndex + furthestModifiedIndex) {\r\n\t\t\t\t\tfurthestOriginalIndex = originalIndex;\r\n\t\t\t\t\tfurthestModifiedIndex = modifiedIndex;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// STEP 3: If delta is odd (overlap first happens on forward when delta is odd)\r\n\t\t\t\t// and diagonal is in the range of reverse diagonals computed for numDifferences-1\r\n\t\t\t\t// (the previous iteration; we haven't computed reverse diagonals for numDifferences yet)\r\n\t\t\t\t// then check for overlap.\r\n\t\t\t\tif (!deltaIsEven && Math.abs(diagonal - diagonalReverseBase) <= (numDifferences - 1)) {\r\n\t\t\t\t\tif (originalIndex >= reversePoints[diagonal]) {\r\n\t\t\t\t\t\tmidOriginalArr[0] = originalIndex;\r\n\t\t\t\t\t\tmidModifiedArr[0] = modifiedIndex;\r\n\r\n\t\t\t\t\t\tif (tempOriginalIndex <= reversePoints[diagonal] && LocalConstants.MaxDifferencesHistory > 0 && numDifferences <= (LocalConstants.MaxDifferencesHistory + 1)) {\r\n\t\t\t\t\t\t\t// BINGO! We overlapped, and we have the full trace in memory!\r\n\t\t\t\t\t\t\treturn this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset,\r\n\t\t\t\t\t\t\t\tdiagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset,\r\n\t\t\t\t\t\t\t\tforwardPoints, reversePoints,\r\n\t\t\t\t\t\t\t\toriginalIndex, originalEnd, midOriginalArr,\r\n\t\t\t\t\t\t\t\tmodifiedIndex, modifiedEnd, midModifiedArr,\r\n\t\t\t\t\t\t\t\tdeltaIsEven, quitEarlyArr\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Either false overlap, or we didn't have enough memory for the full trace\r\n\t\t\t\t\t\t\t// Just return the recursion point\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Check to see if we should be quitting early, before moving on to the next iteration.\r\n\t\t\tconst matchLengthOfLongest = ((furthestOriginalIndex - originalStart) + (furthestModifiedIndex - modifiedStart) - numDifferences) / 2;\r\n\r\n\t\t\tif (this.ContinueProcessingPredicate !== null && !this.ContinueProcessingPredicate(furthestOriginalIndex, matchLengthOfLongest)) {\r\n\t\t\t\t// We can't finish, so skip ahead to generating a result from what we have.\r\n\t\t\t\tquitEarlyArr[0] = true;\r\n\r\n\t\t\t\t// Use the furthest distance we got in the forward direction.\r\n\t\t\t\tmidOriginalArr[0] = furthestOriginalIndex;\r\n\t\t\t\tmidModifiedArr[0] = furthestModifiedIndex;\r\n\r\n\t\t\t\tif (matchLengthOfLongest > 0 && LocalConstants.MaxDifferencesHistory > 0 && numDifferences <= (LocalConstants.MaxDifferencesHistory + 1)) {\r\n\t\t\t\t\t// Enough of the history is in memory to walk it backwards\r\n\t\t\t\t\treturn this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset,\r\n\t\t\t\t\t\tdiagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset,\r\n\t\t\t\t\t\tforwardPoints, reversePoints,\r\n\t\t\t\t\t\toriginalIndex, originalEnd, midOriginalArr,\r\n\t\t\t\t\t\tmodifiedIndex, modifiedEnd, midModifiedArr,\r\n\t\t\t\t\t\tdeltaIsEven, quitEarlyArr\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// We didn't actually remember enough of the history.\r\n\r\n\t\t\t\t\t//Since we are quitting the diff early, we need to shift back the originalStart and modified start\r\n\t\t\t\t\t//back into the boundary limits since we decremented their value above beyond the boundary limit.\r\n\t\t\t\t\toriginalStart++;\r\n\t\t\t\t\tmodifiedStart++;\r\n\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\tnew DiffChange(originalStart, originalEnd - originalStart + 1,\r\n\t\t\t\t\t\t\tmodifiedStart, modifiedEnd - modifiedStart + 1)\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Run the algorithm in the reverse direction\r\n\t\t\tdiagonalReverseStart = this.ClipDiagonalBound(diagonalReverseBase - numDifferences, numDifferences, diagonalReverseBase, numDiagonals);\r\n\t\t\tdiagonalReverseEnd = this.ClipDiagonalBound(diagonalReverseBase + numDifferences, numDifferences, diagonalReverseBase, numDiagonals);\r\n\t\t\tfor (let diagonal = diagonalReverseStart; diagonal <= diagonalReverseEnd; diagonal += 2) {\r\n\t\t\t\t// STEP 1: We extend the furthest reaching point in the present diagonal\r\n\t\t\t\t// by looking at the diagonals above and below and picking the one whose point\r\n\t\t\t\t// is further away from the start point (originalEnd, modifiedEnd)\r\n\t\t\t\tif (diagonal === diagonalReverseStart || (diagonal < diagonalReverseEnd && reversePoints[diagonal - 1] >= reversePoints[diagonal + 1])) {\r\n\t\t\t\t\toriginalIndex = reversePoints[diagonal + 1] - 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toriginalIndex = reversePoints[diagonal - 1];\r\n\t\t\t\t}\r\n\t\t\t\tmodifiedIndex = originalIndex - (diagonal - diagonalReverseBase) - diagonalReverseOffset;\r\n\r\n\t\t\t\t// Save the current originalIndex so we can test for false overlap\r\n\t\t\t\tconst tempOriginalIndex = originalIndex;\r\n\r\n\t\t\t\t// STEP 2: We can continue to extend the furthest reaching point in the present diagonal\r\n\t\t\t\t// as long as the elements are equal.\r\n\t\t\t\twhile (originalIndex > originalStart && modifiedIndex > modifiedStart && this.ElementsAreEqual(originalIndex, modifiedIndex)) {\r\n\t\t\t\t\toriginalIndex--;\r\n\t\t\t\t\tmodifiedIndex--;\r\n\t\t\t\t}\r\n\t\t\t\treversePoints[diagonal] = originalIndex;\r\n\r\n\t\t\t\t// STEP 4: If delta is even (overlap first happens on reverse when delta is even)\r\n\t\t\t\t// and diagonal is in the range of forward diagonals computed for numDifferences\r\n\t\t\t\t// then check for overlap.\r\n\t\t\t\tif (deltaIsEven && Math.abs(diagonal - diagonalForwardBase) <= numDifferences) {\r\n\t\t\t\t\tif (originalIndex <= forwardPoints[diagonal]) {\r\n\t\t\t\t\t\tmidOriginalArr[0] = originalIndex;\r\n\t\t\t\t\t\tmidModifiedArr[0] = modifiedIndex;\r\n\r\n\t\t\t\t\t\tif (tempOriginalIndex >= forwardPoints[diagonal] && LocalConstants.MaxDifferencesHistory > 0 && numDifferences <= (LocalConstants.MaxDifferencesHistory + 1)) {\r\n\t\t\t\t\t\t\t// BINGO! We overlapped, and we have the full trace in memory!\r\n\t\t\t\t\t\t\treturn this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset,\r\n\t\t\t\t\t\t\t\tdiagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset,\r\n\t\t\t\t\t\t\t\tforwardPoints, reversePoints,\r\n\t\t\t\t\t\t\t\toriginalIndex, originalEnd, midOriginalArr,\r\n\t\t\t\t\t\t\t\tmodifiedIndex, modifiedEnd, midModifiedArr,\r\n\t\t\t\t\t\t\t\tdeltaIsEven, quitEarlyArr\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Either false overlap, or we didn't have enough memory for the full trace\r\n\t\t\t\t\t\t\t// Just return the recursion point\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Save current vectors to history before the next iteration\r\n\t\t\tif (numDifferences <= LocalConstants.MaxDifferencesHistory) {\r\n\t\t\t\t// We are allocating space for one extra int, which we fill with\r\n\t\t\t\t// the index of the diagonal base index\r\n\t\t\t\tlet temp = new Int32Array(diagonalForwardEnd - diagonalForwardStart + 2);\r\n\t\t\t\ttemp[0] = diagonalForwardBase - diagonalForwardStart + 1;\r\n\t\t\t\tMyArray.Copy2(forwardPoints, diagonalForwardStart, temp, 1, diagonalForwardEnd - diagonalForwardStart + 1);\r\n\t\t\t\tthis.m_forwardHistory.push(temp);\r\n\r\n\t\t\t\ttemp = new Int32Array(diagonalReverseEnd - diagonalReverseStart + 2);\r\n\t\t\t\ttemp[0] = diagonalReverseBase - diagonalReverseStart + 1;\r\n\t\t\t\tMyArray.Copy2(reversePoints, diagonalReverseStart, temp, 1, diagonalReverseEnd - diagonalReverseStart + 1);\r\n\t\t\t\tthis.m_reverseHistory.push(temp);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// If we got here, then we have the full trace in history. We just have to convert it to a change list\r\n\t\t// NOTE: This part is a bit messy\r\n\t\treturn this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset,\r\n\t\t\tdiagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset,\r\n\t\t\tforwardPoints, reversePoints,\r\n\t\t\toriginalIndex, originalEnd, midOriginalArr,\r\n\t\t\tmodifiedIndex, modifiedEnd, midModifiedArr,\r\n\t\t\tdeltaIsEven, quitEarlyArr\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Shifts the given changes to provide a more intuitive diff.\r\n\t * While the first element in a diff matches the first element after the diff,\r\n\t * we shift the diff down.\r\n\t *\r\n\t * @param changes The list of changes to shift\r\n\t * @returns The shifted changes\r\n\t */\r\n\tprivate PrettifyChanges(changes: DiffChange[]): DiffChange[] {\r\n\r\n\t\t// Shift all the changes down first\r\n\t\tfor (let i = 0; i < changes.length; i++) {\r\n\t\t\tconst change = changes[i];\r\n\t\t\tconst originalStop = (i < changes.length - 1) ? changes[i + 1].originalStart : this._originalElementsOrHash.length;\r\n\t\t\tconst modifiedStop = (i < changes.length - 1) ? changes[i + 1].modifiedStart : this._modifiedElementsOrHash.length;\r\n\t\t\tconst checkOriginal = change.originalLength > 0;\r\n\t\t\tconst checkModified = change.modifiedLength > 0;\r\n\r\n\t\t\twhile (change.originalStart + change.originalLength < originalStop &&\r\n\t\t\t\tchange.modifiedStart + change.modifiedLength < modifiedStop &&\r\n\t\t\t\t(!checkOriginal || this.OriginalElementsAreEqual(change.originalStart, change.originalStart + change.originalLength)) &&\r\n\t\t\t\t(!checkModified || this.ModifiedElementsAreEqual(change.modifiedStart, change.modifiedStart + change.modifiedLength))) {\r\n\t\t\t\tchange.originalStart++;\r\n\t\t\t\tchange.modifiedStart++;\r\n\t\t\t}\r\n\r\n\t\t\tconst mergedChangeArr: Array<DiffChange | null> = [null];\r\n\t\t\tif (i < changes.length - 1 && this.ChangesOverlap(changes[i], changes[i + 1], mergedChangeArr)) {\r\n\t\t\t\tchanges[i] = mergedChangeArr[0]!;\r\n\t\t\t\tchanges.splice(i + 1, 1);\r\n\t\t\t\ti--;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Shift changes back up until we hit empty or whitespace-only lines\r\n\t\tfor (let i = changes.length - 1; i >= 0; i--) {\r\n\t\t\tconst change = changes[i];\r\n\r\n\t\t\tlet originalStop = 0;\r\n\t\t\tlet modifiedStop = 0;\r\n\t\t\tif (i > 0) {\r\n\t\t\t\tconst prevChange = changes[i - 1];\r\n\t\t\t\tif (prevChange.originalLength > 0) {\r\n\t\t\t\t\toriginalStop = prevChange.originalStart + prevChange.originalLength;\r\n\t\t\t\t}\r\n\t\t\t\tif (prevChange.modifiedLength > 0) {\r\n\t\t\t\t\tmodifiedStop = prevChange.modifiedStart + prevChange.modifiedLength;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst checkOriginal = change.originalLength > 0;\r\n\t\t\tconst checkModified = change.modifiedLength > 0;\r\n\r\n\t\t\tlet bestDelta = 0;\r\n\t\t\tlet bestScore = this._boundaryScore(change.originalStart, change.originalLength, change.modifiedStart, change.modifiedLength);\r\n\r\n\t\t\tfor (let delta = 1; ; delta++) {\r\n\t\t\t\tconst originalStart = change.originalStart - delta;\r\n\t\t\t\tconst modifiedStart = change.modifiedStart - delta;\r\n\r\n\t\t\t\tif (originalStart < originalStop || modifiedStart < modifiedStop) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (checkOriginal && !this.OriginalElementsAreEqual(originalStart, originalStart + change.originalLength)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (checkModified && !this.ModifiedElementsAreEqual(modifiedStart, modifiedStart + change.modifiedLength)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst score = this._boundaryScore(originalStart, change.originalLength, modifiedStart, change.modifiedLength);\r\n\r\n\t\t\t\tif (score > bestScore) {\r\n\t\t\t\t\tbestScore = score;\r\n\t\t\t\t\tbestDelta = delta;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchange.originalStart -= bestDelta;\r\n\t\t\tchange.modifiedStart -= bestDelta;\r\n\t\t}\r\n\r\n\t\treturn changes;\r\n\t}\r\n\r\n\tprivate _OriginalIsBoundary(index: number): boolean {\r\n\t\tif (index <= 0 || index >= this._originalElementsOrHash.length - 1) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn (this._hasStrings && /^\\s*$/.test(this._originalStringElements[index]));\r\n\t}\r\n\r\n\tprivate _OriginalRegionIsBoundary(originalStart: number, originalLength: number): boolean {\r\n\t\tif (this._OriginalIsBoundary(originalStart) || this._OriginalIsBoundary(originalStart - 1)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (originalLength > 0) {\r\n\t\t\tconst originalEnd = originalStart + originalLength;\r\n\t\t\tif (this._OriginalIsBoundary(originalEnd - 1) || this._OriginalIsBoundary(originalEnd)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _ModifiedIsBoundary(index: number): boolean {\r\n\t\tif (index <= 0 || index >= this._modifiedElementsOrHash.length - 1) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn (this._hasStrings && /^\\s*$/.test(this._modifiedStringElements[index]));\r\n\t}\r\n\r\n\tprivate _ModifiedRegionIsBoundary(modifiedStart: number, modifiedLength: number): boolean {\r\n\t\tif (this._ModifiedIsBoundary(modifiedStart) || this._ModifiedIsBoundary(modifiedStart - 1)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (modifiedLength > 0) {\r\n\t\t\tconst modifiedEnd = modifiedStart + modifiedLength;\r\n\t\t\tif (this._ModifiedIsBoundary(modifiedEnd - 1) || this._ModifiedIsBoundary(modifiedEnd)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _boundaryScore(originalStart: number, originalLength: number, modifiedStart: number, modifiedLength: number): number {\r\n\t\tconst originalScore = (this._OriginalRegionIsBoundary(originalStart, originalLength) ? 1 : 0);\r\n\t\tconst modifiedScore = (this._ModifiedRegionIsBoundary(modifiedStart, modifiedLength) ? 1 : 0);\r\n\t\treturn (originalScore + modifiedScore);\r\n\t}\r\n\r\n\t/**\r\n\t * Concatenates the two input DiffChange lists and returns the resulting\r\n\t * list.\r\n\t * @param The left changes\r\n\t * @param The right changes\r\n\t * @returns The concatenated list\r\n\t */\r\n\tprivate ConcatenateChanges(left: DiffChange[], right: DiffChange[]): DiffChange[] {\r\n\t\tconst mergedChangeArr: DiffChange[] = [];\r\n\r\n\t\tif (left.length === 0 || right.length === 0) {\r\n\t\t\treturn (right.length > 0) ? right : left;\r\n\t\t} else if (this.ChangesOverlap(left[left.length - 1], right[0], mergedChangeArr)) {\r\n\t\t\t// Since we break the problem down recursively, it is possible that we\r\n\t\t\t// might recurse in the middle of a change thereby splitting it into\r\n\t\t\t// two changes. Here in the combining stage, we detect and fuse those\r\n\t\t\t// changes back together\r\n\t\t\tconst result = new Array<DiffChange>(left.length + right.length - 1);\r\n\t\t\tMyArray.Copy(left, 0, result, 0, left.length - 1);\r\n\t\t\tresult[left.length - 1] = mergedChangeArr[0];\r\n\t\t\tMyArray.Copy(right, 1, result, left.length, right.length - 1);\r\n\r\n\t\t\treturn result;\r\n\t\t} else {\r\n\t\t\tconst result = new Array<DiffChange>(left.length + right.length);\r\n\t\t\tMyArray.Copy(left, 0, result, 0, left.length);\r\n\t\t\tMyArray.Copy(right, 0, result, left.length, right.length);\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Returns true if the two changes overlap and can be merged into a single\r\n\t * change\r\n\t * @param left The left change\r\n\t * @param right The right change\r\n\t * @param mergedChange The merged change if the two overlap, null otherwise\r\n\t * @returns True if the two changes overlap\r\n\t */\r\n\tprivate ChangesOverlap(left: DiffChange, right: DiffChange, mergedChangeArr: Array<DiffChange | null>): boolean {\r\n\t\tDebug.Assert(left.originalStart <= right.originalStart, 'Left change is not less than or equal to right change');\r\n\t\tDebug.Assert(left.modifiedStart <= right.modifiedStart, 'Left change is not less than or equal to right change');\r\n\r\n\t\tif (left.originalStart + left.originalLength >= right.originalStart || left.modifiedStart + left.modifiedLength >= right.modifiedStart) {\r\n\t\t\tconst originalStart = left.originalStart;\r\n\t\t\tlet originalLength = left.originalLength;\r\n\t\t\tconst modifiedStart = left.modifiedStart;\r\n\t\t\tlet modifiedLength = left.modifiedLength;\r\n\r\n\t\t\tif (left.originalStart + left.originalLength >= right.originalStart) {\r\n\t\t\t\toriginalLength = right.originalStart + right.originalLength - left.originalStart;\r\n\t\t\t}\r\n\t\t\tif (left.modifiedStart + left.modifiedLength >= right.modifiedStart) {\r\n\t\t\t\tmodifiedLength = right.modifiedStart + right.modifiedLength - left.modifiedStart;\r\n\t\t\t}\r\n\r\n\t\t\tmergedChangeArr[0] = new DiffChange(originalStart, originalLength, modifiedStart, modifiedLength);\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tmergedChangeArr[0] = null;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Helper method used to clip a diagonal index to the range of valid\r\n\t * diagonals. This also decides whether or not the diagonal index,\r\n\t * if it exceeds the boundary, should be clipped to the boundary or clipped\r\n\t * one inside the boundary depending on the Even/Odd status of the boundary\r\n\t * and numDifferences.\r\n\t * @param diagonal The index of the diagonal to clip.\r\n\t * @param numDifferences The current number of differences being iterated upon.\r\n\t * @param diagonalBaseIndex The base reference diagonal.\r\n\t * @param numDiagonals The total number of diagonals.\r\n\t * @returns The clipped diagonal index.\r\n\t */\r\n\tprivate ClipDiagonalBound(diagonal: number, numDifferences: number, diagonalBaseIndex: number, numDiagonals: number): number {\r\n\t\tif (diagonal >= 0 && diagonal < numDiagonals) {\r\n\t\t\t// Nothing to clip, its in range\r\n\t\t\treturn diagonal;\r\n\t\t}\r\n\r\n\t\t// diagonalsBelow: The number of diagonals below the reference diagonal\r\n\t\t// diagonalsAbove: The number of diagonals above the reference diagonal\r\n\t\tconst diagonalsBelow = diagonalBaseIndex;\r\n\t\tconst diagonalsAbove = numDiagonals - diagonalBaseIndex - 1;\r\n\t\tconst diffEven = (numDifferences % 2 === 0);\r\n\r\n\t\tif (diagonal < 0) {\r\n\t\t\tconst lowerBoundEven = (diagonalsBelow % 2 === 0);\r\n\t\t\treturn (diffEven === lowerBoundEven) ? 0 : 1;\r\n\t\t} else {\r\n\t\t\tconst upperBoundEven = (diagonalsAbove % 2 === 0);\r\n\t\t\treturn (diffEven === upperBoundEven) ? numDiagonals - 1 : numDiagonals - 2;\r\n\t\t}\r\n\t}\r\n}","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"util\");\nconst api_1 = require(\"../common/api\");\nclass MessageBuffer extends api_1.AbstractMessageBuffer {\n    static emptyBuffer = Buffer.allocUnsafe(0);\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nclass ReadableStreamWrapper {\n    stream;\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return api_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    stream;\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        api_1.RAL.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n    ImplementationRequest.capabilities = messages_1.CM.create('textDocument.implementation', 'implementationProvider');\n})(ImplementationRequest || (exports.ImplementationRequest = ImplementationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n","'use strict'\n\nconst {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst safeSrc = exports.safeSrc = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  safeSrc[index] = safe\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n// Non-numberic identifiers include numberic identifiers but can be longer.\n// Therefore non-numberic identifiers must go first.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind || (exports.FileOperationPatternKind = FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * The request can return a `WorkspaceEdit` which will be applied to workspace before the\n * files are created. Hence the `WorkspaceEdit` can not manipulate the content of the file\n * to be created.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n    WillCreateFilesRequest.capabilities = messages_1.CM.create('workspace.fileOperations.willCreate', 'workspace.fileOperations.willCreate');\n})(WillCreateFilesRequest || (exports.WillCreateFilesRequest = WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n    DidCreateFilesNotification.capabilities = messages_1.CM.create('workspace.fileOperations.didCreate', 'workspace.fileOperations.didCreate');\n})(DidCreateFilesNotification || (exports.DidCreateFilesNotification = DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n    WillRenameFilesRequest.capabilities = messages_1.CM.create('workspace.fileOperations.willRename', 'workspace.fileOperations.willRename');\n})(WillRenameFilesRequest || (exports.WillRenameFilesRequest = WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n    DidRenameFilesNotification.capabilities = messages_1.CM.create('workspace.fileOperations.didRename', 'workspace.fileOperations.didRename');\n})(DidRenameFilesNotification || (exports.DidRenameFilesNotification = DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n    DidDeleteFilesNotification.capabilities = messages_1.CM.create('workspace.fileOperations.didDelete', 'workspace.fileOperations.didDelete');\n})(DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n    WillDeleteFilesRequest.capabilities = messages_1.CM.create('workspace.fileOperations.willDelete', 'workspace.fileOperations.willDelete');\n})(WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = WillDeleteFilesRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nconst Is = __importStar(require(\"./is\"));\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken || (exports.CancellationToken = CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    _isCancelled = false;\n    _emitter;\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    _token;\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n","module.exports = require(\"fs\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n    WorkspaceFoldersRequest.capabilities = messages_1.CM.create('workspace.workspaceFolders', 'workspace.workspaceFolders');\n})(WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n    DidChangeWorkspaceFoldersNotification.capabilities = messages_1.CM.create(undefined, 'workspace.workspaceFolders.changeNotifications');\n})(DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = DidChangeWorkspaceFoldersNotification = {}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(639);\n"],"names":["Object","defineProperty","exports","value","NotebookDocuments","NotebookSyncFeature","vscode_languageserver_protocol_1","textDocuments_1","Base","synchronization","onDidOpenNotebookDocument","handler","this","connection","onNotification","DidOpenNotebookDocumentNotification","type","params","onDidChangeNotebookDocument","DidChangeNotebookDocumentNotification","onDidSaveNotebookDocument","DidSaveNotebookDocumentNotification","onDidCloseNotebookDocument","DidCloseNotebookDocumentNotification","CellTextDocumentConnection","static","freeze","dispose","openHandler","changeHandler","closeHandler","onDidOpenTextDocument","Disposable","create","undefined","openTextDocument","onDidChangeTextDocument","changeTextDocument","onDidCloseTextDocument","closeTextDocument","onWillSaveTextDocument","NULL_DISPOSE","onWillSaveTextDocumentWaitUntil","onDidSaveTextDocument","notebookDocuments","notebookCellMap","_onDidOpen","_onDidSave","_onDidChange","_onDidClose","_cellTextDocuments","constructor","configurationOrTextDocuments","TextDocuments","Map","Emitter","cellTextDocuments","getCellTextDocument","cell","get","document","getNotebookDocument","uri","getNotebookCell","findNotebookDocumentForCell","key","onDidOpen","event","onDidSave","onDidChange","onDidClose","listen","cellTextDocumentConnection","disposables","push","notebooks","async","set","notebookDocument","cellTextDocument","textDocument","updateCellMap","fire","version","oldMetadata","metadata","metadataChanged","change","opened","closed","data","text","cells","changedCells","structure","array","splice","start","deleteCount","didOpen","open","didClose","close","cellUpdates","map","i","length","old","new","delete","size","textContent","contentChanges","changes","changeEvent","added","removed","changed","forEach","disposable","SemVer","module","options","throwErrors","er","CM","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","MessageDirection","vscode_jsonrpc_1","____","method","RequestType0","__","___","_pr","super","RequestType","ParameterStructures","byName","NotificationType0","NotificationType","client","server","DiagnosticFeature","diagnostics","refresh","sendRequest","DiagnosticRefreshRequest","on","onRequest","DocumentDiagnosticRequest","cancel","attachWorkDoneProgress","attachPartialResultProgress","partialResult","onWorkspace","WorkspaceDiagnosticRequest","a","b","loose","compare","ownKeys","__createBinding","o","m","k","k2","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","__setModuleDefault","v","__importStar","getOwnPropertyNames","ar","prototype","hasOwnProperty","call","mod","result","__importDefault","ConnectionOptions","MessageStrategy","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","RequestCancellationReceiverStrategy","IdCancellationReceiverStrategy","ConnectionStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","TraceFormat","TraceValues","TraceValue","Trace","NullLogger","ProgressType","ProgressToken","createMessageConnection","messageReader","messageWriter","_logger","logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","maxParallelism","starRequestHandler","inFlight","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","timer","tracer","messageQueue","linkedMap_1","LinkedMap","responsePromises","knownCanceledRequests","Set","requestTokens","trace","Off","traceFormat","Text","state","ConnectionState","New","errorEmitter","events_1","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","cancellationStrategy","Message","cancelUndispatched","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","createRequestQueueKey","id","Error","toString","triggerMessageQueue","ral_1","default","setImmediate","message","shift","messageStrategy","is","handleMessage","error","Promise","then","catch","messages_1","isRequest","requestMessage","resolve","reply","resultOrError","startTime","jsonrpc","ResponseError","toJson","traceSendingResponse","write","replyError","Verbose","Compact","stringifyTrace","log","logLSPMessage","traceReceivedRequest","element","requestHandler","Date","now","tokenKey","String","cancellationSource","receiver","createCancellationTokenSource","has","handlerResult","numberOfParams","ErrorCodes","InvalidParams","token","Array","isArray","parameterStructures","byPosition","Is","string","InternalError","MethodNotFound","handleRequest","isNotification","notificationHandler","CancelNotification","cancelId","traceReceivedNotification","ProgressNotification","handleNotification","isResponse","handleResponse","JSON","stringify","responseMessage","number","responseHandler","reject","handleInvalidMessage","onClose","onError","callback","toCancel","strategy","connectionStrategy","response","cancellationToken","add","queue","addMessageToQueue","responsePromise","code","timerStart","traceReceivedResponse","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","sendNotification","args","messageParams","first","paramStart","paramEnd","slice","notificationMessage","traceSendingNotification","func","onProgress","_type","sendProgress","onUnhandledProgress","sendCancellation","p","sender","throwIfNotListening","last","cancellation_1","CancellationToken","tokenWasCancelled","isCancellationRequested","onCancellationRequested","traceSendingRequest","enableCancellation","r","cleanup","MessageWriteError","StarRequestHandler","hasPendingResponse","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","boolean","onUnhandledNotification","onDispose","end","PendingResponseRejected","promise","values","AlreadyListening","throwIfListening","inspect","console","verbose","warn","info","Messages","fromString","toLowerCase","setPrototypeOf","candidate","kind","_","CancellationTokenSource","conn","createConnection","ProposedFeatures","all","clientCapabilities","documents","TextDocument","nodeExit","process","exit","inferFilePath","documentOrUri","getUri","scheme","getFileSystemPath","URI","parse","filePath","extension","getExtension","languageId","extname","path","substring","environmentChanged","ESLint","clearSettings","RuleSeverities","clear","SaveRuleConfigs","clearFormatters","languages","CommandIds","stack","ExitCalled","setTimeout","e","initialize","moduleName","err","removeSettings","remove","CodeActions","unregisterAsFormatter","applySingleFix","applySuggestion","applySameFixes","applyAllFixes","applyDisableLine","applyDisableFile","openRuleDoc","onInitialize","_cancel","progress","begin","syncKind","TextDocumentSyncKind","Incremental","capabilities","done","textDocumentSync","openClose","willSaveWaitUntil","save","includeText","workspace","workspaceFolders","supported","executeCommandProvider","commands","diagnosticProvider","identifier","interFileDependencies","workspaceDiagnostics","codeAction","codeActionLiteralSupport","codeActionKind","valueSet","codeActionProvider","codeActionKinds","CodeActionKind","QuickFix","SourceFixAll","onInitialized","didChangeConfiguration","dynamicRegistration","onDidChangeConfiguration","_params","register","DidChangeConfigurationNotification","onDidChangeWorkspaceFolders","emptyDiagnosticResult","DocumentDiagnosticReportKind","Full","items","settings","resolveSettings","validate","Validate","TextDocumentSettings","hasLibrary","timeTaken","StatusNotification","Status","ok","validationTime","silent","ErrorHandlers","getMessage","status","single","library","onDidChangeWatchedFiles","RuleMetaData","clearNoConfigReported","clearMissingModuleReported","fsPath","isUNC","dirname","getConfigErrorReported","eslintClass","newClass","lintText","join","removeConfigErrorReported","CodeActionResult","_actions","_fixAll","ruleId","fixes","suggestions","fixAll","actions","disable","disableFile","showDocumentation","CommandParams","sequence","hasRuleId","isUsable","ESLintSourceFixAll","AllFixesMode","computeAllFixes","mode","format","problems","originalContent","getText","onSave","codeActionOnSave","CodeActionsOnSaveMode","Fixes","getApplicable","fix","FixableProblem","createTextEdit","saveConfig","offRules","overrideOptions","eslintOptions","overrideConfig","rules","withClass","reportResults","output","fixedContent","diffs","stringDiff","diff","range","positionAt","originalStart","originalLength","newText","substr","modifiedStart","modifiedLength","onCodeAction","createCodeAction","title","commandId","arg","diagnostic","command","Command","action","CodeAction","getDisableRuleEditInsertionIndex","line","commentTags","charIndex","indexOf","escapeStringRegexp","replace","createDisableLineTextEdit","editInfo","indentationText","lineComment","getLineComment","blockComment","getBlockComment","prevLine","Range","Position","uinteger","MAX_VALUE","RegExp","test","insertionIndex","TextEdit","insert","disableRuleContent","disableRuleComment","commentStyle","EOL","createDisableSameLineTextEdit","currentLine","matchedLineDisable","matchedBlockDisable","createDisableFileTextEdit","block","getLastEdit","run","only","context","isSource","Source","isSourceFixAll","textDocumentIdentifier","edits","documentChanges","TextDocumentEdit","isEmpty","documentVersion","allFixableRuleIds","getScoped","Problem","isFixable","workspaceChange","WorkspaceChange","getTextEditChange","label","isPreferred","hasSuggestions","suggestion","suggestionSequence","SuggestionsProblem","enable","unusedDisableDirectiveId","location","lineText","matches","exec","sameProblems","s","getAllSorted","same","overlaps","sameFixes","sameTextChange","edit","onExecuteCommand","commandParams","arguments","textChange","url","getUrl","OpenESLintDocRequest","applyEdit","applied","onDocumentFormatting","TypeHierarchySubtypesRequest","TypeHierarchySupertypesRequest","TypeHierarchyPrepareRequest","messageDirection","clientToServer","require","ShowDocumentRequest","serverToClient","numeric","compareIdentifiers","anum","bnum","rcompareIdentifiers","InlineCompletionFeature","inlineCompletion","InlineCompletionRequest","__exportStar","Files","arg1","arg2","arg3","arg4","factories","input","__brand","node_1","stdio","argv","port","pipeName","IPCMessageReader","IPCMessageWriter","stdin","stdout","parseInt","split","transport","createServerSocketTransport","createServerPipeTransport","commandLineMessage","read","inputStream","endProtocolConnection","_shutdownReceived","server_1","createProtocolConnection","serialize","node_util_1","counters","assert","assertion","rest","count","counter","countReset","debug","dir","patchConsole","watchDog","_createConnection","fm","_protocolConnection","_err","uriToFilePath","resolveGlobalNodePath","resolveGlobalYarnPath","resolveModulePath","exitTimer","argName","runTimer","processId","isNaN","setInterval","kill","ex","setupExitTimer","shutdownReceived","CodeActionRequest","DocumentSymbolRequest","DocumentHighlightRequest","ReferencesRequest","DefinitionRequest","SignatureHelpRequest","SignatureHelpTriggerKind","HoverRequest","CompletionResolveRequest","CompletionRequest","CompletionTriggerKind","PublishDiagnosticsNotification","WatchKind","GlobPattern","RelativePattern","FileChangeType","DidChangeWatchedFilesNotification","WillSaveTextDocumentWaitUntilRequest","WillSaveTextDocumentNotification","TextDocumentSaveReason","DidSaveTextDocumentNotification","DidCloseTextDocumentNotification","DidChangeTextDocumentNotification","TextDocumentContentChangeEvent","DidOpenTextDocumentNotification","TelemetryEventNotification","LogMessageNotification","ShowMessageRequest","ShowMessageNotification","MessageType","ExitNotification","ShutdownRequest","InitializedNotification","InitializeErrorCodes","InitializeRequest","WorkDoneProgressOptions","TextDocumentRegistrationOptions","StaticRegistrationOptions","PositionEncodingKind","RegularExpressionEngineKind","FailureHandlingKind","ResourceOperationKind","UnregistrationRequest","RegistrationRequest","DocumentSelector","NotebookCellTextDocumentFilter","NotebookDocumentFilter","TextDocumentFilter","UniquenessLevel","WillDeleteFilesRequest","DidDeleteFilesNotification","WillRenameFilesRequest","DidRenameFilesNotification","WillCreateFilesRequest","DidCreateFilesNotification","FileOperationPatternKind","LinkedEditingRangeRequest","SemanticTokensRegistrationType","SemanticTokensRefreshRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","SemanticTokensRequest","TokenFormat","CallHierarchyPrepareRequest","CallHierarchyOutgoingCallsRequest","CallHierarchyIncomingCallsRequest","WorkDoneProgressCancelNotification","WorkDoneProgressCreateRequest","WorkDoneProgress","SelectionRangeRequest","DeclarationRequest","FoldingRangeRefreshRequest","FoldingRangeRequest","ColorPresentationRequest","DocumentColorRequest","ConfigurationRequest","DidChangeWorkspaceFoldersNotification","WorkspaceFoldersRequest","TypeDefinitionRequest","ImplementationRequest","ApplyWorkspaceEditRequest","ExecuteCommandRequest","PrepareRenameRequest","RenameRequest","PrepareSupportDefaultBehavior","DocumentOnTypeFormattingRequest","DocumentRangesFormattingRequest","DocumentRangeFormattingRequest","DocumentFormattingRequest","DocumentLinkResolveRequest","DocumentLinkRequest","CodeLensRefreshRequest","CodeLensResolveRequest","CodeLensRequest","WorkspaceSymbolResolveRequest","WorkspaceSymbolRequest","CodeActionResolveRequest","TextDocumentContentRefreshRequest","TextDocumentContentRequest","NotebookCellArrayChange","NotebookDocumentSyncRegistrationType","NotebookDocument","NotebookCell","ExecutionSummary","NotebookCellKind","DiagnosticServerCancellationData","InlayHintRefreshRequest","InlayHintResolveRequest","InlayHintRequest","InlineValueRefreshRequest","InlineValueRequest","MonikerRequest","MonikerKind","vscode_languageserver_types_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","protocol_inlineCompletion_1","protocol_textDocumentContent_1","language","pattern","objectLiteral","notebookType","notebook","elem","Create","Rename","Delete","Abort","Transactional","TextOnlyTransactional","Undo","ES2020","UTF8","UTF16","UTF32","hasId","documentSelector","workDoneProgress","hasWorkDoneProgress","unknownProtocolVersion","Warning","Info","Log","Debug","None","isIncremental","rangeLength","isFull","Manual","AfterDelay","FocusOut","Created","Changed","Deleted","baseUri","WorkspaceFolder","Change","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","Identifier","_configuration","_syncedDocuments","_onDidChangeContent","_onWillSave","_willSaveWaitUntil","configuration","onDidChangeContent","onWillSave","onWillSaveWaitUntil","from","keys","__textDocumentSync","td","toFire","syncedDocument","update","reason","InlineValueFeature","inlineValue","WorkspaceFoldersFeature","_onDidChangeWorkspaceFolders","_unregistration","_notificationIsAutoRegistered","workspaceCapabilities","fillServerCapabilities","changeNotifications","getWorkspaceFolders","Relative","registrationMethod","SemanticTokensBuilder","SemanticTokensDiff","SemanticTokensFeature","semanticTokens","onDelta","onRange","originalSequence","modifiedSequence","computeDiff","startIndex","originalEndIndex","modifiedEndIndex","newData","_id","_prevLine","_prevChar","_dataIsSortedAndDeltaEncoded","_data","_dataNonDelta","_dataLen","_prevData","char","tokenType","tokenModifiers","_deltaDecode","pushLine","pushChar","dataSource","tokenCount","prevChar","dstOffset","_sortAndDeltaEncode","pos","sort","aLine","bLine","srcOffset","getFinalDataDelta","previousResult","build","resultId","canBuildEdits","buildEdits","Event","_disposable","CallbackList","_callbacks","_contexts","bucket","foundCallbackWithDifferentContext","len","invoke","ret","callbacks","contexts","apply","_options","_event","listener","thisArgs","onFirstListenerAdd","_noop","onLastListenerRemove","FileOperationsFeature","onDidCreateFiles","onDidRenameFiles","onDidDeleteFiles","onWillCreateFiles","onWillRenameFiles","onWillDeleteFiles","semanticTokens_1","ic","tdc","notebook_1","TextDocumentContentFeature","MonikerFeature","moniker","ProgressFeature","attachWorkDone","workDoneToken","NullProgressReporter","WorkDoneProgressReporterImpl","attachPartialResult","partialResultToken","ResultProgressReporterImpl","uuid_1","_connection","_token","Instances","percentage","cancellable","Math","round","report","arg0","WorkDoneProgressServerReporterImpl","_source","NullProgressServerReporter","ResultProgress","_progressSupported","window","createWorkDoneProgress","generateUuid","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","semaphore_1","ResolvedMessageWriterOptions","fireError","asError","fireClose","fromOptions","charset","contentTypeEncoder","applicationJson","encoder","contentEncoder","errorCount","writeSemaphore","Semaphore","msg","lock","encode","buffer","headers","byteLength","doWrite","handleError","AbstractMessageBuffer","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","SharedArrayReceiverStrategy","SharedArraySenderStrategy","LRUCache","Touch","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RAL","disposable_1","sharedArrayCancellation_1","messageReader_1","messageWriter_1","messageBuffer_1","connection_1","First","AsOld","Last","AsNew","Symbol","toStringTag","_map","_head","_tail","_size","_state","before","item","previous","after","next","touch","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","current","bind","iterator","entries","trimOld","newSize","currentSize","toJSON","fromJSON","_limit","_ratio","limit","ratio","min","max","checkTrim","peek","Markup","Code","executionOrder","success","equals","one","other","equalsMetadata","oneArray","otherArray","oneKeys","otherKeys","prop","DocumentUri","two","executionSummary","integer","typedArray","MAX_LENGTH","MAX_SAFE_INTEGER","safeRe","re","t","parseOptions","includePrerelease","TypeError","trim","match","LOOSE","FULL","raw","major","minor","patch","prerelease","num","compareMain","comparePre","compareBuild","inc","release","identifierBase","startsWith","PRERELEASELOOSE","PRERELEASE","base","Number","FileSystem","parsed","protocol","segments","decodeURIComponent","platform","second","normalize","yarnCommand","encoding","isWindows","shell","results","child_process_1","spawnSync","stderr","lines","yarn","removeListener","workspaceRoot","nodePath","isAbsolute","isParent","_error","fs","cwd","nodePathKey","app","env","newEnv","existsSync","delimiter","cp","fork","execArgv","pid","c","send","npmCommand","prefix","_isCaseSensitive","isCaseSensitive","__filename","toUpperCase","parent","child","CallHierarchyFeature","callHierarchy","onPrepare","onIncomingCalls","onOutgoingCalls","_capacity","_active","_waiting","capacity","thunk","runNext","active","doRunNext","NoConfigRequest","NoESLintLibraryRequest","ProbeFailedRequest","ShowOutputChannel","InlayHintFeature","inlayHint","CancellationState","Continue","Cancelled","buffers","request","SharedArrayBuffer","Int32Array","$cancellationData","_conn","Atomics","store","SharedArrayBufferCancellationToken","load","SharedArrayBufferCancellationTokenSource","TypeHierarchyFeature","typeHierarchy","onSupertypes","onSubtypes","FullTextDocument","content","_uri","_languageId","_version","_content","_lineOffsets","offsetAt","getWellformedRange","startOffset","endOffset","startLine","endLine","lineOffsets","addedLineOffsets","computeLineOffsets","concat","getLineOffsets","offset","low","high","character","mid","floor","ensureBeforeEOL","position","lineOffset","nextLineOffset","isEOL","charCodeAt","lineCount","mergeSort","left","right","leftIdx","rightIdx","isAtLineStart","textOffset","ch","getWellformedEdit","textEdit","applyEdits","sortedEdits","lastModifiedOffset","spans","languageId2Config","ext","LanguageDefaults","FoldingRangeFeature","foldingRange","retriggerRequest","Unchanged","empty","v4","isUUID","ValueUUID","asHex","V4UUID","_oneOf","random","_randomHex","_chars","_timeHighBits","_UUIDPattern","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ConnectionInactive","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","_parameterStructures","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","SnippetTextEdit","TextDocumentIdentifier","VersionedTextDocumentIdentifier","OptionalVersionedTextDocumentIdentifier","LanguageKind","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","ApplyKind","CompletionItemLabelDetails","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","WorkspaceSymbol","DocumentSymbol","CodeActionTriggerKind","CodeActionContext","CodeActionTag","CodeLens","FormattingOptions","DocumentLink","SelectionRange","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","InlineValueText","InlineValueVariableLookup","InlineValueEvaluatableExpression","InlineValueContext","InlayHintKind","InlayHintLabelPart","InlayHint","StringValue","InlineCompletionItem","InlineCompletionList","InlineCompletionTriggerKind","SelectedCompletionInfo","InlineCompletionContext","MIN_VALUE","three","four","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","numberRange","color","additionalTextEdits","Comment","Imports","Region","startCharacter","endCharacter","collapsedText","defined","Information","Hint","Unnecessary","Deprecated","href","severity","source","relatedInformation","_a","codeDescription","tooltip","del","needsConfirmation","description","annotation","annotationId","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","every","TextEditChangeImpl","changeAnnotations","assertChangeAnnotations","manage","isSnippet","snippet","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","workspaceEdit","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","ABAP","WindowsBat","BibTeX","Clojure","Coffeescript","C","CPP","CSharp","CSS","D","Delphi","Diff","Dart","Dockerfile","Elixir","Erlang","FSharp","GitCommit","GitRebase","Go","Groovy","Handlebars","Haskell","HTML","Ini","Java","JavaScript","JavaScriptReact","LaTeX","Less","Lua","Makefile","Markdown","ObjectiveC","ObjectiveCPP","Pascal","Perl","Perl6","PHP","Powershell","Pug","Python","R","Razor","Ruby","Rust","SCSS","SASS","Scala","ShaderLab","ShellScript","SQL","Swift","TypeScript","TypeScriptReact","TeX","VisualBasic","XML","XSL","YAML","PlainText","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","Replace","Merge","detail","isIncomplete","fromPlainText","plainText","contents","documentation","parameters","Read","Write","Namespace","Package","Boolean","Key","Null","name","containerName","selectionRange","children","deprecated","tags","Empty","Refactor","RefactorExtract","RefactorInline","RefactorMove","RefactorRewrite","SourceOrganizeImports","Notebook","Automatic","triggerKind","LLMGenerated","kindOrCommandOrEdit","checkKind","tabSize","insertSpaces","target","variableName","caseSensitiveLookup","expression","frameId","stoppedLocation","Type","Parameter","textEdits","paddingLeft","paddingRight","createSnippet","insertText","filterText","selectedCompletionInfo","isLineStart","charAt","check","ESLintError","ESLintClass","ESLintModule","RuleData","CLIEngine","Diagnostics","isNoConfigFound","messageTemplate","unusedDisableDirectiveMeta","docs","handled","ruleId2Meta","capture","eslint","reports","rulesMetaData","isCLIEngine","toHandle","filter","getRulesMetaForResults","meta","getType","isUnusedDisableDirectiveProblem","problem","getConfigType","configType","hasLoadESLint","loadESLint","hasESLintClass","hasCLIEngine","isFlatConfig","hasMetaType","hasRule","getRules","ESLintClassEmulator","cli","executeOnText","warnIgnored","isPathIgnored","_results","rule","calculateConfigForFile","getConfigForFile","sameRange","getDocumentVersion","computeKey","d0","al","bl","sorted","saveRuleConfigCache","isOff","matchers","matcher","config","onRules","ruleSeverityCache","asteriskMatches","getOverride","customizations","customization","fixable","adjustSeverityForOverride","severityOverride","RuleSeverity","off","downgrade","convertSeverityToDiagnostic","upgrade","hash","crypto","createHash","digest","startChar","column","endChar","endColumn","shortenToSingleLine","override","rulesCustomizations","codeActions","record","loadNodeModule","languageId2ParserRegExp","typescript","babelESLint","vueESLint","languageId2ParserOptions","regExps","parsers","parserRegExps","languageId2PluginName","defaultLanguageIds","projectFolderIndicators","fileName","isRoot","path2Library","document2Settings","formatterRegistrations","newOptions","useFlatConfig","useESLintClass","assign","workingDirectory","newCWD","normalizeDriveLetter","sep","normalizeWorkingDirectory","directory","chdir","getFilePath","workspaceFolder","workspacePath","$connection","$documents","$inferFilePath","$loadNodeModule","unregister","unregistration","resultPromise","getConfiguration","scopeUri","section","resolvedGlobalPackageManagerPath","GlobalPaths","packageManager","workspaceFolderPath","assumeFlatConfig","hasUserDefinedWorkingDirectories","workingDirectoryConfig","ModeEnum","ModeItem","configLocation","findWorkingDirectory","moduleResolveWorkingDirectory","eslintPath","experimental","probe","libraryPath","lib","FlatESLint","esLintVersion","semverParse","semverGte","pluginName","parserOptions","isIgnored","onIgnoredFiles","ESLintSeverity","eslintConfig","parser","normalizePath","regExp","eslintConfigParserOptionsParser","some","parserRegExp","plugins","Uri","isFile","validFixTypes","file","flatConfig","outer","fixTypes","docReport","messages","quiet","globalPaths","cache","npm","pnpm","execSync","pm","noConfigReported","handleFileName","filename","configErrorReported","showInformationMessage","plugin","missingModuleReported","handleMissingModule","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","PortMessageWriter","PortMessageReader","generateRandomPipeName","crypto_1","randomBytes","randomLength","tmpDir","realpathSync","XDG_RUNTIME_DIR","os","tmpdir","safeIpcPathLengths","randomSuffix","createClientPipeTransport","connectResolve","connected","_reject","net_1","createServer","socket","onConnected","createClientSocketTransport","api_1","reader","addListener","isReadableStream","writer","isWritableStream","ril_1","install","eventEmitter","onData","postMessage","stream","asReadableStream","asWritableStream","destroy","readable","NODE_DEBUG","LIB","n","h","lastIndexOf","relative","f","u","l","g","_makeLong","basename","root","win32","posix","d","Utils","I","navigator","userAgent","authority","query","fragment","isUri","with","w","revive","_formatted","external","_fsPath","_sep","$mid","encodeURIComponent","y","fromCharCode","A","x","P","joinPath","resolvePath","realpath","native","_NotebooksImpl","_LanguagesImpl","BulkUnregistration","BulkRegistration","ErrorMessageTracker","combineConsoleFeatures","combineTelemetryFeatures","combineTracerFeatures","combineClientFeatures","combineWindowFeatures","combineWorkspaceFeatures","combineLanguagesFeatures","combineNotebooksFeatures","combineFeatures","combine","telemetry","connectionFactory","RemoteConsoleImpl","rawAttach","TracerImpl","TelemetryImpl","RemoteClientImpl","remoteWindow","RemoteWindowImpl","RemoteWorkspaceImpl","LanguagesImpl","NotebooksImpl","allRemotes","shutdownHandler","initializeHandler","exitHandler","protocolConnection","onShutdown","onExit","sendDiagnostics","onHover","progress_1","onCompletion","onCompletionResolve","onSignatureHelp","onDeclaration","onDefinition","onTypeDefinition","onImplementation","onReferences","onDocumentHighlight","onDocumentSymbol","onWorkspaceSymbol","onWorkspaceSymbolResolve","onCodeActionResolve","onCodeLens","onCodeLensResolve","onDocumentRangeFormatting","onDocumentOnTypeFormatting","onRenameRequest","onPrepareRename","onDocumentLinks","onDocumentLinkResolve","onDocumentColor","onColorPresentation","onFoldingRanges","onSelectionRanges","remote","attach","thenable","resolved","UUID","configuration_1","workspaceFolder_1","callHierarchy_1","showDocument_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","foldingRange_1","inlayHint_1","diagnostic_1","moniker_1","null2Undefined","_messages","sendErrors","showErrorMessage","_rawConnection","_capabilities","ShowDocumentFeature","showWarningMessage","BulkRegistrationImpl","_registrations","_registered","registerOptions","asRegistrationParams","registrations","BulkUnregistrationImpl","_unregistrations","unregistrations","isAttached","unregisterations","disposeSingle","typeOrRegistrations","registerOptionsOrType","registerMany","registerSingle1","registerSingle2","_result","unregisterSingle","registration","ConfigurationFeature","paramOrEdit","_trace","logEvent","LinkedEditingRangeFeature","_getConfiguration","onLinkedEditingRange","stringArray","looseOption","emptyOpts","LSPErrorCodes","lspReservedErrorRangeStart","RequestFailed","ServerCancelled","ContentModified","RequestCancelled","lspReservedErrorRangeEnd","showDocument","project","group","global","$import","$export","local","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","firePartialMessage","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","decoder","nextMessageLength","messageToken","partialMessageTimer","_partialMessageTimeout","readSemaphore","messageBuffer","partialMessageTimeout","timeout","append","tryReadHeaders","contentLength","fromEntries","body","tryReadBody","setPartialMessageTimer","clearPartialMessageTimer","bytes","decode","waitingTime","textDocumentContent","_encoding","_chunks","_totalLength","chunk","toAppend","lowerCaseKeys","chunkIndex","chunkBytesRead","row","_read","header","index","numberOfBytes","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","CodeActionsOnSaveRules","CodeActionsOnSaveOptions","DirectoryItem","original","modified","pretty","LcsDiff","StringDiffSequence","ComputeDiff","getElements","characters","DiffChange","getOriginalEnd","getModifiedEnd","Assert","condition","MyArray","Copy","sourceArray","sourceIndex","destinationArray","destinationIndex","Copy2","DiffChangeHelper","m_changes","m_originalStart","m_modifiedStart","m_originalCount","m_modifiedCount","MarkNextChange","AddOriginalElement","originalIndex","modifiedIndex","AddModifiedElement","getChanges","getReverseChanges","reverse","ContinueProcessingPredicate","_hasStrings","_originalStringElements","_originalElementsOrHash","_modifiedStringElements","_modifiedElementsOrHash","m_forwardHistory","m_reverseHistory","continueProcessingPredicate","originalStringElements","originalElementsOrHash","originalHasStrings","_getElements","modifiedStringElements","modifiedElementsOrHash","modifiedHasStrings","elements","ElementsAreEqual","newIndex","OriginalElementsAreEqual","index1","index2","ModifiedElementsAreEqual","_ComputeDiff","originalEnd","modifiedEnd","quitEarlyArr","ComputeDiffRecursive","PrettifyChanges","quitEarly","midOriginalArr","midModifiedArr","ComputeRecursionPoint","midOriginal","midModified","leftChanges","rightChanges","ConcatenateChanges","WALKTRACE","diagonalForwardBase","diagonalForwardStart","diagonalForwardEnd","diagonalForwardOffset","diagonalReverseBase","diagonalReverseStart","diagonalReverseEnd","diagonalReverseOffset","forwardPoints","reversePoints","deltaIsEven","forwardChanges","reverseChanges","changeHelper","diagonalMin","diagonalMax","diagonalRelative","lastOriginalIndex","historyIndex","diagonal","originalStartPoint","modifiedStartPoint","lastForwardChange","maxDifferences","numDiagonals","numDifferences","furthestOriginalIndex","furthestModifiedIndex","ClipDiagonalBound","tempOriginalIndex","abs","matchLengthOfLongest","temp","originalStop","modifiedStop","checkOriginal","checkModified","mergedChangeArr","ChangesOverlap","prevChange","bestDelta","bestScore","_boundaryScore","delta","score","_OriginalIsBoundary","_OriginalRegionIsBoundary","_ModifiedIsBoundary","_ModifiedRegionIsBoundary","diagonalBaseIndex","diffEven","util_1","MessageBuffer","Buffer","allocUnsafe","TextDecoder","ReadableStreamWrapper","onEnd","WritableStreamWrapper","_ril","ms","handle","clearTimeout","clearImmediate","clearInterval","RIL","_ral","ral","src","safeSrc","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","BUILD","FULLPLAIN","MAINVERSIONLOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","folder","shortcutEvent","MutableToken","_isCancelled","_emitter","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","obj","__webpack_exports__"],"sourceRoot":""}